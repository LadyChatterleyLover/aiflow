/*! For license information please see animate.js.LICENSE.txt */
(()=>{var t={9662:(t,e,r)=>{var n=r(7854),i=r(614),o=r(6330),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},8873:(t,e,r)=>{var n=r(7854),i=r(4411),o=r(6330),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},6077:(t,e,r)=>{var n=r(7854),i=r(614),o=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},1223:(t,e,r)=>{var n=r(5112),i=r(30),o=r(3070),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},1530:(t,e,r)=>{"use strict";var n=r(8710).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},5787:(t,e,r)=>{var n=r(7854),i=r(7976),o=n.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},9670:(t,e,r)=>{var n=r(7854),i=r(111),o=n.String,a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},8533:(t,e,r)=>{"use strict";var n=r(2092).forEach,i=r(9341)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},8457:(t,e,r)=>{"use strict";var n=r(7854),i=r(9974),o=r(6916),a=r(7908),s=r(3411),u=r(7659),l=r(4411),c=r(6244),h=r(6135),f=r(8554),p=r(1246),d=n.Array;t.exports=function(t){var e=a(t),r=l(this),n=arguments.length,v=n>1?arguments[1]:void 0,g=void 0!==v;g&&(v=i(v,n>2?arguments[2]:void 0));var y,m,_,w,b,x,k=p(e),S=0;if(!k||this==d&&u(k))for(y=c(e),m=r?new this(y):d(y);y>S;S++)x=g?v(e[S],S):e[S],h(m,S,x);else for(b=(w=f(e,k)).next,m=r?new this:[];!(_=o(b,w)).done;S++)x=g?s(w,v,[_.value,S],!0):_.value,h(m,S,x);return m.length=S,m}},1318:(t,e,r)=>{var n=r(5656),i=r(1400),o=r(6244),a=function(t){return function(e,r,a){var s,u=n(e),l=o(u),c=i(a,l);if(t&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:(t,e,r)=>{var n=r(9974),i=r(1702),o=r(8361),a=r(7908),s=r(6244),u=r(5417),l=i([].push),c=function(t){var e=1==t,r=2==t,i=3==t,c=4==t,h=6==t,f=7==t,p=5==t||h;return function(d,v,g,y){for(var m,_,w=a(d),b=o(w),x=n(v,g),k=s(b),S=0,C=y||u,T=e?C(d,k):r||f?C(d,0):void 0;k>S;S++)if((p||S in b)&&(_=x(m=b[S],S,w),t))if(e)T[S]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:l(T,m)}else switch(t){case 4:return!1;case 7:l(T,m)}return h?-1:i||c?c:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:(t,e,r)=>{var n=r(7293),i=r(5112),o=r(7392),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,r)=>{"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},206:(t,e,r)=>{var n=r(1702);t.exports=n([].slice)},4362:(t,e,r)=>{var n=r(206),i=Math.floor,o=function(t,e){var r=t.length,u=i(r/2);return r<8?a(t,e):s(t,o(n(t,0,u),e),o(n(t,u),e),e)},a=function(t,e){for(var r,n,i=t.length,o=1;o<i;){for(n=o,r=t[o];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},s=function(t,e,r,n){for(var i=e.length,o=r.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?n(e[a],r[s])<=0?e[a++]:r[s++]:a<i?e[a++]:r[s++];return t};t.exports=o},7475:(t,e,r)=>{var n=r(7854),i=r(3157),o=r(4411),a=r(111),s=r(5112)("species"),u=n.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===u||i(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?u:e}},5417:(t,e,r)=>{var n=r(7475);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},3411:(t,e,r)=>{var n=r(9670),i=r(9212);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},7072:(t,e,r)=>{var n=r(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},4326:(t,e,r)=>{var n=r(1702),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:(t,e,r)=>{var n=r(7854),i=r(1694),o=r(614),a=r(4326),s=r(5112)("toStringTag"),u=n.Object,l="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?r:l?a(e):"Object"==(n=a(e))&&o(e.callee)?"Arguments":n}},5631:(t,e,r)=>{"use strict";var n=r(3070).f,i=r(30),o=r(2248),a=r(9974),s=r(5787),u=r(408),l=r(654),c=r(6340),h=r(9781),f=r(2423).fastKey,p=r(9909),d=p.set,v=p.getterFor;t.exports={getConstructor:function(t,e,r,l){var c=t((function(t,n){s(t,p),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=n&&u(n,t[l],{that:t,AS_ENTRIES:r})})),p=c.prototype,g=v(e),y=function(t,e,r){var n,i,o=g(t),a=m(t,e);return a?a.value=r:(o.last=a={index:i=f(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),h?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},m=function(t,e){var r,n=g(t),i=f(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(p,{clear:function(){for(var t=g(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=this,r=g(e),n=m(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),h?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=g(this),n=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),o(p,r?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&n(p,"size",{get:function(){return g(this).size}}),c},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);l(t,e,(function(t,e){d(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),c(e)}}},7710:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(1702),a=r(4705),s=r(1320),u=r(2423),l=r(408),c=r(5787),h=r(614),f=r(111),p=r(7293),d=r(7072),v=r(8003),g=r(9587);t.exports=function(t,e,r){var y=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),_=y?"set":"add",w=i[t],b=w&&w.prototype,x=w,k={},S=function(t){var e=o(b[t]);s(b,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!f(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(a(t,!h(w)||!(m||b.forEach&&!p((function(){(new w).entries().next()})))))x=r.getConstructor(e,t,y,_),u.enable();else if(a(t,!0)){var C=new x,T=C[_](m?{}:-0,1)!=C,O=p((function(){C.has(1)})),E=d((function(t){new w(t)})),A=!m&&p((function(){for(var t=new w,e=5;e--;)t[_](e,e);return!t.has(-0)}));E||((x=e((function(t,e){c(t,b);var r=g(new w,t,x);return null!=e&&l(e,r[_],{that:r,AS_ENTRIES:y}),r}))).prototype=b,b.constructor=x),(O||A)&&(S("delete"),S("has"),y&&S("get")),(A||T)&&S(_),m&&b.clear&&delete b.clear}return k[t]=x,n({global:!0,forced:x!=w},k),v(x,t),m||r.setStrong(x,t,y),x}},9920:(t,e,r)=>{var n=r(2597),i=r(3887),o=r(1236),a=r(3070);t.exports=function(t,e){for(var r=i(e),s=a.f,u=o.f,l=0;l<r.length;l++){var c=r[l];n(t,c)||s(t,c,u(e,c))}}},4964:(t,e,r)=>{var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,i=r(30),o=r(9114),a=r(8003),s=r(7497),u=function(){return this};t.exports=function(t,e,r){var l=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,l,!1,!0),s[l]=u,t}},8880:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,r)=>{"use strict";var n=r(4948),i=r(3070),o=r(9114);t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},654:(t,e,r)=>{"use strict";var n=r(2109),i=r(6916),o=r(1913),a=r(6530),s=r(614),u=r(4994),l=r(9518),c=r(7674),h=r(8003),f=r(8880),p=r(1320),d=r(5112),v=r(7497),g=r(3383),y=a.PROPER,m=a.CONFIGURABLE,_=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,b=d("iterator"),x="keys",k="values",S="entries",C=function(){return this};t.exports=function(t,e,r,a,d,g,T){u(r,e,a);var O,E,A,P=function(t){if(t===d&&L)return L;if(!w&&t in I)return I[t];switch(t){case x:case k:case S:return function(){return new r(this,t)}}return function(){return new r(this)}},z=e+" Iterator",M=!1,I=t.prototype,j=I[b]||I["@@iterator"]||d&&I[d],L=!w&&j||P(d),N="Array"==e&&I.entries||j;if(N&&(O=l(N.call(new t)))!==Object.prototype&&O.next&&(o||l(O)===_||(c?c(O,_):s(O[b])||p(O,b,C)),h(O,z,!0,!0),o&&(v[z]=C)),y&&d==k&&j&&j.name!==k&&(!o&&m?f(I,"name",k):(M=!0,L=function(){return i(j,this)})),d)if(E={values:P(k),keys:g?L:P(x),entries:P(S)},T)for(A in E)(w||M||!(A in I))&&p(I,A,E[A]);else n({target:e,proto:!0,forced:w||M},E);return o&&!T||I[b]===L||p(I,b,L,{name:d}),v[e]=L,E}},7235:(t,e,r)=>{var n=r(857),i=r(2597),o=r(6061),a=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),i=r(111),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(t,e,r)=>{var n=r(317)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8886:(t,e,r)=>{var n=r(8113).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},256:(t,e,r)=>{var n=r(8113);t.exports=/MSIE|Trident/.test(n)},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,i,o=r(7854),a=r(8113),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(i=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},8008:(t,e,r)=>{var n=r(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),i=r(1236).f,o=r(8880),a=r(1320),s=r(3505),u=r(9920),l=r(4705);t.exports=function(t,e){var r,c,h,f,p,d=t.target,v=t.global,g=t.stat;if(r=v?n:g?n[d]||s(d,{}):(n[d]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(p=i(r,c))&&p.value:r[c],!l(v?c:d+(g?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(r,c,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,r)=>{"use strict";r(4916);var n=r(1702),i=r(1320),o=r(2261),a=r(7293),s=r(5112),u=r(8880),l=s("species"),c=RegExp.prototype;t.exports=function(t,e,r,h){var f=s(t),p=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[l]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!p||!d||r){var v=n(/./[f]),g=e(f,""[t],(function(t,e,r,i,a){var s=n(t),u=e.exec;return u===o||u===c.exec?p&&!a?{done:!0,value:v(e,r,i)}:{done:!0,value:s(r,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(c,f,g[1])}h&&u(c[f],"sham",!0)}},6677:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:t=>{var e=Function.prototype,r=e.apply,n=e.bind,i=e.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(r):function(){return i.apply(r,arguments)})},9974:(t,e,r)=>{var n=r(1702),i=r(9662),o=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?o(t,e):function(){return t.apply(e,arguments)}}},7065:(t,e,r)=>{"use strict";var n=r(7854),i=r(1702),o=r(9662),a=r(111),s=r(2597),u=r(206),l=n.Function,c=i([].concat),h=i([].join),f={},p=function(t,e,r){if(!s(f,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";f[e]=l("C,a","return new C("+h(n,",")+")")}return f[e](t,r)};t.exports=l.bind||function(t){var e=o(this),r=e.prototype,n=u(arguments,1),i=function(){var r=c(n,u(arguments));return this instanceof i?p(e,r.length,r):e.apply(t,r)};return a(r)&&(i.prototype=r),i}},6916:t=>{var e=Function.prototype.call;t.exports=e.bind?e.bind(e):function(){return e.apply(e,arguments)}},6530:(t,e,r)=>{var n=r(9781),i=r(2597),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},1702:t=>{var e=Function.prototype,r=e.bind,n=e.call,i=r&&r.bind(n);t.exports=r?function(t){return t&&i(n,t)}:function(t){return t&&function(){return n.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),i=r(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},1246:(t,e,r)=>{var n=r(648),i=r(8173),o=r(7497),a=r(5112)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[n(t)]}},8554:(t,e,r)=>{var n=r(7854),i=r(6916),o=r(9662),a=r(9670),s=r(6330),u=r(1246),l=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?u(t):e;if(o(r))return a(i(r,t));throw l(s(t)+" is not iterable")}},8173:(t,e,r)=>{var n=r(9662);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},647:(t,e,r)=>{var n=r(1702),i=r(7908),o=Math.floor,a=n("".charAt),s=n("".replace),u=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,h,f){var p=r+t.length,d=n.length,v=c;return void 0!==h&&(h=i(h),v=l),s(f,v,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,p);case"<":l=h[u(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>d){var f=o(c/10);return 0===f?i:f<=d?void 0===n[f-1]?a(s,1):n[f-1]+a(s,1):i}l=n[c-1]}return void 0===l?"":l}))}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),i=r(7908),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:t=>{t.exports={}},1003:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),i=r(7293),o=r(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(7854),i=r(1702),o=r(7293),a=r(4326),s=n.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},9587:(t,e,r)=>{var n=r(614),i=r(111),o=r(7674);t.exports=function(t,e,r){var a,s;return o&&n(a=e.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},2788:(t,e,r)=>{var n=r(1702),i=r(614),o=r(5465),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},2423:(t,e,r)=>{var n=r(2109),i=r(1702),o=r(3501),a=r(111),s=r(2597),u=r(3070).f,l=r(8006),c=r(1156),h=r(9711),f=r(6677),p=!1,d=h("meta"),v=0,g=Object.isExtensible||function(){return!0},y=function(t){u(t,d,{value:{objectID:"O"+v++,weakData:{}}})},m=t.exports={enable:function(){m.enable=function(){},p=!0;var t=l.f,e=i([].splice),r={};r[d]=1,t(r).length&&(l.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===d){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,d)){if(!g(t))return"F";if(!e)return"E";y(t)}return t[d].objectID},getWeakData:function(t,e){if(!s(t,d)){if(!g(t))return!0;if(!e)return!1;y(t)}return t[d].weakData},onFreeze:function(t){return f&&p&&g(t)&&!s(t,d)&&y(t),t}};o[d]=!0},9909:(t,e,r)=>{var n,i,o,a=r(8536),s=r(7854),u=r(1702),l=r(111),c=r(8880),h=r(2597),f=r(5465),p=r(6200),d=r(3501),v="Object already initialized",g=s.TypeError,y=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new y),_=u(m.get),w=u(m.has),b=u(m.set);n=function(t,e){if(w(m,t))throw new g(v);return e.facade=t,b(m,t,e),e},i=function(t){return _(m,t)||{}},o=function(t){return w(m,t)}}else{var x=p("state");d[x]=!0,n=function(t,e){if(h(t,x))throw new g(v);return e.facade=t,c(t,x,e),e},i=function(t){return h(t,x)?t[x]:{}},o=function(t){return h(t,x)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!l(e)||(r=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return r}}}},7659:(t,e,r)=>{var n=r(5112),i=r(7497),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:t=>{t.exports=function(t){return"function"==typeof t}},4411:(t,e,r)=>{var n=r(1702),i=r(7293),o=r(614),a=r(648),s=r(5005),u=r(2788),l=function(){},c=[],h=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=n(f.exec),d=!f.exec(l),v=function(t){if(!o(t))return!1;try{return h(l,c,t),!0}catch(t){return!1}};t.exports=!h||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return d||!!p(f,u(t))}:v},4705:(t,e,r)=>{var n=r(7293),i=r(614),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r==c||r!=l&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},111:(t,e,r)=>{var n=r(614);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},7850:(t,e,r)=>{var n=r(111),i=r(4326),o=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},2190:(t,e,r)=>{var n=r(7854),i=r(5005),o=r(614),a=r(7976),s=r(3307),u=n.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},408:(t,e,r)=>{var n=r(7854),i=r(9974),o=r(6916),a=r(9670),s=r(6330),u=r(7659),l=r(6244),c=r(7976),h=r(8554),f=r(1246),p=r(9212),d=n.TypeError,v=function(t,e){this.stopped=t,this.result=e},g=v.prototype;t.exports=function(t,e,r){var n,y,m,_,w,b,x,k=r&&r.that,S=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),O=i(e,k),E=function(t){return n&&p(n,"normal",t),new v(!0,t)},A=function(t){return S?(a(t),T?O(t[0],t[1],E):O(t[0],t[1])):T?O(t,E):O(t)};if(C)n=t;else{if(!(y=f(t)))throw d(s(t)+" is not iterable");if(u(y)){for(m=0,_=l(t);_>m;m++)if((w=A(t[m]))&&c(g,w))return w;return new v(!1)}n=h(t,y)}for(b=n.next;!(x=o(b,n)).done;){try{w=A(x.value)}catch(t){p(n,"throw",t)}if("object"==typeof w&&w&&c(g,w))return w}return new v(!1)}},9212:(t,e,r)=>{var n=r(6916),i=r(9670),o=r(8173);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw r;if(s)throw a;return i(a),r}},3383:(t,e,r)=>{"use strict";var n,i,o,a=r(7293),s=r(614),u=r(30),l=r(9518),c=r(1320),h=r(5112),f=r(1913),p=h("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(n=i):d=!0),null==n||a((function(){var t={};return n[p].call(t)!==t}))?n={}:f&&(n=u(n)),s(n[p])||c(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},7497:t=>{t.exports={}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},133:(t,e,r)=>{var n=r(7392),i=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,e,r)=>{var n=r(7854),i=r(614),o=r(2788),a=n.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},3929:(t,e,r)=>{var n=r(7854),i=r(7850),o=n.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},1574:(t,e,r)=>{"use strict";var n=r(9781),i=r(1702),o=r(6916),a=r(7293),s=r(1956),u=r(5181),l=r(5296),c=r(7908),h=r(8361),f=Object.assign,p=Object.defineProperty,d=i([].concat);t.exports=!f||a((function(){if(n&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||s(f({},e)).join("")!=i}))?function(t,e){for(var r=c(t),i=arguments.length,a=1,f=u.f,p=l.f;i>a;)for(var v,g=h(arguments[a++]),y=f?d(s(g),f(g)):s(g),m=y.length,_=0;m>_;)v=y[_++],n&&!o(p,g,v)||(r[v]=g[v]);return r}:f},30:(t,e,r)=>{var n,i=r(9670),o=r(6048),a=r(748),s=r(3501),u=r(1003),l=r(317),c=r(6200)("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},d=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;d="undefined"!=typeof document?document.domain&&n?p(n):((e=l("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):p(n);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[c]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(h.prototype=i(t),r=new h,h.prototype=null,r[c]=t):r=d(),void 0===e?r:o(r,e)}},6048:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9670),a=r(5656),s=r(1956);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),u=s(e),l=u.length,c=0;l>c;)i.f(t,r=u[c++],n[r]);return t}},3070:(t,e,r)=>{var n=r(7854),i=r(9781),o=r(4664),a=r(9670),s=r(4948),u=n.TypeError,l=Object.defineProperty;e.f=i?l:function(t,e,r){if(a(t),e=s(e),a(r),o)try{return l(t,e,r)}catch(t){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),i=r(6916),o=r(5296),a=r(9114),s=r(5656),u=r(4948),l=r(2597),c=r(4664),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=u(e),c)try{return h(t,e)}catch(t){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},1156:(t,e,r)=>{var n=r(4326),i=r(5656),o=r(8006).f,a=r(206),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==n(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},8006:(t,e,r)=>{var n=r(6324),i=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(7854),i=r(2597),o=r(614),a=r(7908),s=r(6200),u=r(8544),l=s("IE_PROTO"),c=n.Object,h=c.prototype;t.exports=u?c.getPrototypeOf:function(t){var e=a(t);if(i(e,l))return e[l];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof c?h:null}},7976:(t,e,r)=>{var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),i=r(2597),o=r(5656),a=r(1318).indexOf,s=r(3501),u=n([].push);t.exports=function(t,e){var r,n=o(t),l=0,c=[];for(r in n)!i(s,r)&&i(n,r)&&u(c,r);for(;e.length>l;)i(n,r=e[l++])&&(~a(c,r)||u(c,r));return c}},1956:(t,e,r)=>{var n=r(6324),i=r(748);t.exports=Object.keys||function(t){return n(t,i)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(1702),i=r(9670),o=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),o(n),e?t(r,n):r.__proto__=n,r}}():void 0)},288:(t,e,r)=>{"use strict";var n=r(1694),i=r(648);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},2140:(t,e,r)=>{var n=r(7854),i=r(6916),o=r(614),a=r(111),s=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&o(r=t.toString)&&!a(n=i(r,t)))return n;if(o(r=t.valueOf)&&!a(n=i(r,t)))return n;if("string"!==e&&o(r=t.toString)&&!a(n=i(r,t)))return n;throw s("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),i=r(1702),o=r(8006),a=r(5181),s=r(9670),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},857:(t,e,r)=>{var n=r(7854);t.exports=n},2248:(t,e,r)=>{var n=r(1320);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},1320:(t,e,r)=>{var n=r(7854),i=r(614),o=r(2597),a=r(8880),s=r(3505),u=r(2788),l=r(9909),c=r(6530).CONFIGURABLE,h=l.get,f=l.enforce,p=String(String).split("String");(t.exports=function(t,e,r,u){var l,h=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:e;i(r)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(r,"name")||c&&r.name!==g)&&a(r,"name",g),(l=f(r)).source||(l.source=p.join("string"==typeof g?g:""))),t!==n?(h?!v&&t[e]&&(d=!0):delete t[e],d?t[e]=r:a(t,e,r)):d?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||u(this)}))},7651:(t,e,r)=>{var n=r(7854),i=r(6916),o=r(9670),a=r(614),s=r(4326),u=r(2261),l=n.TypeError;t.exports=function(t,e){var r=t.exec;if(a(r)){var n=i(r,t,e);return null!==n&&o(n),n}if("RegExp"===s(t))return i(u,t,e);throw l("RegExp#exec called on incompatible receiver")}},2261:(t,e,r)=>{"use strict";var n,i,o=r(6916),a=r(1702),s=r(1340),u=r(7066),l=r(2999),c=r(2309),h=r(30),f=r(9909).get,p=r(9441),d=r(7168),v=c("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,m=a("".charAt),_=a("".indexOf),w=a("".replace),b=a("".slice),x=(i=/b*/g,o(g,n=/a/,"a"),o(g,i,"a"),0!==n.lastIndex||0!==i.lastIndex),k=l.UNSUPPORTED_Y||l.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(x||S||k||p||d)&&(y=function(t){var e,r,n,i,a,l,c,p=this,d=f(p),C=s(t),T=d.raw;if(T)return T.lastIndex=p.lastIndex,e=o(y,T,C),p.lastIndex=T.lastIndex,e;var O=d.groups,E=k&&p.sticky,A=o(u,p),P=p.source,z=0,M=C;if(E&&(A=w(A,"y",""),-1===_(A,"g")&&(A+="g"),M=b(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==m(C,p.lastIndex-1))&&(P="(?: "+P+")",M=" "+M,z++),r=new RegExp("^(?:"+P+")",A)),S&&(r=new RegExp("^"+P+"$(?!\\s)",A)),x&&(n=p.lastIndex),i=o(g,E?r:p,M),E?i?(i.input=b(i.input,z),i[0]=b(i[0],z),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:x&&i&&(p.lastIndex=p.global?i.index+i[0].length:n),S&&i&&i.length>1&&o(v,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&O)for(i.groups=l=h(null),a=0;a<O.length;a++)l[(c=O[a])[0]]=i[c[1]];return i}),t.exports=y},7066:(t,e,r)=>{"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,r)=>{var n=r(7293),i=r(7854).RegExp;e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},9441:(t,e,r)=>{var n=r(7293),i=r(7854).RegExp;t.exports=n((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,r)=>{var n=r(7293),i=r(7854).RegExp;t.exports=n((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:(t,e,r)=>{var n=r(7854).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},3505:(t,e,r)=>{var n=r(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},6340:(t,e,r)=>{"use strict";var n=r(5005),i=r(3070),o=r(5112),a=r(9781),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},8003:(t,e,r)=>{var n=r(3070).f,i=r(2597),o=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),i=r(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,r)=>{var n=r(7854),i=r(3505),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},2309:(t,e,r)=>{var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.0",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,r)=>{var n=r(9670),i=r(8873),o=r(5112)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},8710:(t,e,r)=>{var n=r(1702),i=r(9303),o=r(1340),a=r(4488),s=n("".charAt),u=n("".charCodeAt),l=n("".slice),c=function(t){return function(e,r){var n,c,h=o(a(e)),f=i(r),p=h.length;return f<0||f>=p?t?"":void 0:(n=u(h,f))<55296||n>56319||f+1===p||(c=u(h,f+1))<56320||c>57343?t?s(h,f):n:t?l(h,f,f+2):c-56320+(n-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},6091:(t,e,r)=>{var n=r(6530).PROPER,i=r(7293),o=r(1361);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||n&&o[t].name!==t}))}},3111:(t,e,r)=>{var n=r(1702),i=r(4488),o=r(1340),a=r(1361),s=n("".replace),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),h=function(t){return function(e){var r=o(i(e));return 1&t&&(r=s(r,l,"")),2&t&&(r=s(r,c,"")),r}};t.exports={start:h(1),end:h(2),trim:h(3)}},863:(t,e,r)=>{var n=r(1702);t.exports=n(1..valueOf)},1400:(t,e,r)=>{var n=r(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},5656:(t,e,r)=>{var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9303:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},7466:(t,e,r)=>{var n=r(9303),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(7854),i=r(4488),o=n.Object;t.exports=function(t){return o(i(t))}},7593:(t,e,r)=>{var n=r(7854),i=r(6916),o=r(111),a=r(2190),s=r(8173),u=r(2140),l=r(5112),c=n.TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,n=s(t,h);if(n){if(void 0===e&&(e="default"),r=i(n,t,e),!o(r)||a(r))return r;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:(t,e,r)=>{var n=r(7593),i=r(2190);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,r)=>{var n=r(7854),i=r(648),o=n.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:(t,e,r)=>{var n=r(7854).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},9711:(t,e,r)=>{var n=r(1702),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(t,e,r)=>{var n=r(5112);e.f=n},5112:(t,e,r)=>{var n=r(7854),i=r(2309),o=r(2597),a=r(9711),s=r(133),u=r(3307),l=i("wks"),c=n.Symbol,h=c&&c.for,f=u?c:c&&c.withoutSetter||a;t.exports=function(t){if(!o(l,t)||!s&&"string"!=typeof l[t]){var e="Symbol."+t;s&&o(c,t)?l[t]=c[t]:l[t]=u&&h?h(e):f(e)}return l[t]}},1361:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2222:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(7293),a=r(3157),s=r(111),u=r(7908),l=r(6244),c=r(6135),h=r(5417),f=r(1194),p=r(5112),d=r(7392),v=p("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",m=i.TypeError,_=d>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),w=f("concat"),b=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:a(t)};n({target:"Array",proto:!0,forced:!_||!w},{concat:function(t){var e,r,n,i,o,a=u(this),s=h(a,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(b(o=-1===e?a:arguments[e])){if(f+(i=l(o))>g)throw m(y);for(r=0;r<i;r++,f++)r in o&&c(s,f,o[r])}else{if(f>=g)throw m(y);c(s,f++,o)}return s.length=f,s}})},7327:(t,e,r)=>{"use strict";var n=r(2109),i=r(2092).filter;n({target:"Array",proto:!0,forced:!r(1194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},4553:(t,e,r)=>{"use strict";var n=r(2109),i=r(2092).findIndex,o=r(1223),a="findIndex",s=!0;a in[]&&Array(1).findIndex((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},9826:(t,e,r)=>{"use strict";var n=r(2109),i=r(2092).find,o=r(1223),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},1038:(t,e,r)=>{var n=r(2109),i=r(8457);n({target:"Array",stat:!0,forced:!r(7072)((function(t){Array.from(t)}))},{from:i})},6699:(t,e,r)=>{"use strict";var n=r(2109),i=r(1318).includes,o=r(1223);n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6992:(t,e,r)=>{"use strict";var n=r(5656),i=r(1223),o=r(7497),a=r(9909),s=r(654),u="Array Iterator",l=a.set,c=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){l(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},1249:(t,e,r)=>{"use strict";var n=r(2109),i=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(3157),a=r(4411),s=r(111),u=r(1400),l=r(6244),c=r(5656),h=r(6135),f=r(5112),p=r(1194),d=r(206),v=p("slice"),g=f("species"),y=i.Array,m=Math.max;n({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var r,n,i,f=c(this),p=l(f),v=u(t,p),_=u(void 0===e?p:e,p);if(o(f)&&(r=f.constructor,(a(r)&&(r===y||o(r.prototype))||s(r)&&null===(r=r[g]))&&(r=void 0),r===y||void 0===r))return d(f,v,_);for(n=new(void 0===r?y:r)(m(_-v,0)),i=0;v<_;v++,i++)v in f&&h(n,i,f[v]);return n.length=i,n}})},2707:(t,e,r)=>{"use strict";var n=r(2109),i=r(1702),o=r(9662),a=r(7908),s=r(6244),u=r(1340),l=r(7293),c=r(4362),h=r(9341),f=r(8886),p=r(256),d=r(7392),v=r(8008),g=[],y=i(g.sort),m=i(g.push),_=l((function(){g.sort(void 0)})),w=l((function(){g.sort(null)})),b=h("sort"),x=!l((function(){if(d)return d<70;if(!(f&&f>3)){if(p)return!0;if(v)return v<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)g.push({k:e+n,v:r})}for(g.sort((function(t,e){return e.v-t.v})),n=0;n<g.length;n++)e=g[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:_||!w||!b||!x},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(x)return void 0===t?y(e):y(e,t);var r,n,i=[],l=s(e);for(n=0;n<l;n++)n in e&&m(i,e[n]);for(c(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:u(e)>u(r)?1:-1}}(t)),r=i.length,n=0;n<r;)e[n]=i[n++];for(;n<l;)delete e[n++];return e}})},561:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(1400),a=r(9303),s=r(6244),u=r(7908),l=r(5417),c=r(6135),h=r(1194)("splice"),f=i.TypeError,p=Math.max,d=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var r,n,i,h,y,m,_=u(this),w=s(_),b=o(t,w),x=arguments.length;if(0===x?r=n=0:1===x?(r=0,n=w-b):(r=x-2,n=d(p(a(e),0),w-b)),w+r-n>v)throw f(g);for(i=l(_,n),h=0;h<n;h++)(y=b+h)in _&&c(i,h,_[y]);if(i.length=n,r<n){for(h=b;h<w-n;h++)m=h+r,(y=h+n)in _?_[m]=_[y]:delete _[m];for(h=w;h>w-n+r;h--)delete _[h-1]}else if(r>n)for(h=w-n;h>b;h--)m=h+r-1,(y=h+n-1)in _?_[m]=_[y]:delete _[m];for(h=0;h<r;h++)_[h+b]=arguments[h+2];return _.length=w-n+r,i}})},8309:(t,e,r)=>{var n=r(9781),i=r(6530).EXISTS,o=r(1702),a=r(3070).f,s=Function.prototype,u=o(s.toString),l=/^\s*function ([^ (]*)/,c=o(l.exec);n&&!i&&a(s,"name",{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(t){return""}}})},9653:(t,e,r)=>{"use strict";var n=r(9781),i=r(7854),o=r(1702),a=r(4705),s=r(1320),u=r(2597),l=r(9587),c=r(7976),h=r(2190),f=r(7593),p=r(7293),d=r(8006).f,v=r(1236).f,g=r(3070).f,y=r(863),m=r(3111).trim,_="Number",w=i.Number,b=w.prototype,x=i.TypeError,k=o("".slice),S=o("".charCodeAt),C=function(t){var e=f(t,"number");return"bigint"==typeof e?e:T(e)},T=function(t){var e,r,n,i,o,a,s,u,l=f(t,"number");if(h(l))throw x("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=m(l),43===(e=S(l,0))||45===e){if(88===(r=S(l,2))||120===r)return NaN}else if(48===e){switch(S(l,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(a=(o=k(l,2)).length,s=0;s<a;s++)if((u=S(o,s))<48||u>i)return NaN;return parseInt(o,n)}return+l};if(a(_,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var O,E=function(t){var e=arguments.length<1?0:w(C(t)),r=this;return c(b,r)&&p((function(){y(r)}))?l(Object(e),r,E):e},A=n?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),P=0;A.length>P;P++)u(w,O=A[P])&&!u(E,O)&&g(E,O,v(w,O));E.prototype=b,b.constructor=E,s(i,_,E)}},9601:(t,e,r)=>{var n=r(2109),i=r(1574);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},5003:(t,e,r)=>{var n=r(2109),i=r(7293),o=r(5656),a=r(1236).f,s=r(9781),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},9337:(t,e,r)=>{var n=r(2109),i=r(9781),o=r(3887),a=r(5656),s=r(1236),u=r(6135);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,l=o(n),c={},h=0;l.length>h;)void 0!==(r=i(n,e=l[h++]))&&u(c,e,r);return c}})},7941:(t,e,r)=>{var n=r(2109),i=r(7908),o=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:(t,e,r)=>{var n=r(1694),i=r(1320),o=r(288);n||i(Object.prototype,"toString",o,{unsafe:!0})},2419:(t,e,r)=>{var n=r(2109),i=r(5005),o=r(2104),a=r(7065),s=r(8873),u=r(9670),l=r(111),c=r(30),h=r(7293),f=i("Reflect","construct"),p=Object.prototype,d=[].push,v=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),g=!h((function(){f((function(){}))})),y=v||g;n({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),u(e);var r=arguments.length<3?t:s(arguments[2]);if(g&&!v)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return o(d,n,e),new(o(a,t,n))}var i=r.prototype,h=c(l(i)?i:p),y=o(t,h,e);return l(y)?y:h}})},4916:(t,e,r)=>{"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},189:(t,e,r)=>{"use strict";r(7710)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(5631))},2023:(t,e,r)=>{"use strict";var n=r(2109),i=r(1702),o=r(3929),a=r(4488),s=r(1340),u=r(4964),l=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~l(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},8783:(t,e,r)=>{"use strict";var n=r(8710).charAt,i=r(1340),o=r(9909),a=r(654),s="String Iterator",u=o.set,l=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=l(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},5306:(t,e,r)=>{"use strict";var n=r(2104),i=r(6916),o=r(1702),a=r(7007),s=r(7293),u=r(9670),l=r(614),c=r(9303),h=r(7466),f=r(1340),p=r(4488),d=r(1530),v=r(8173),g=r(647),y=r(7651),m=r(5112)("replace"),_=Math.max,w=Math.min,b=o([].concat),x=o([].push),k=o("".indexOf),S=o("".slice),C="$0"==="a".replace(/./,"$0"),T=!!/./[m]&&""===/./[m]("a","$0");a("replace",(function(t,e,r){var o=T?"$":"$0";return[function(t,r){var n=p(this),o=null==t?void 0:v(t,m);return o?i(o,t,n,r):i(e,f(n),t,r)},function(t,i){var a=u(this),s=f(t);if("string"==typeof i&&-1===k(i,o)&&-1===k(i,"$<")){var p=r(e,a,s,i);if(p.done)return p.value}var v=l(i);v||(i=f(i));var m=a.global;if(m){var C=a.unicode;a.lastIndex=0}for(var T=[];;){var O=y(a,s);if(null===O)break;if(x(T,O),!m)break;""===f(O[0])&&(a.lastIndex=d(s,h(a.lastIndex),C))}for(var E,A="",P=0,z=0;z<T.length;z++){for(var M=f((O=T[z])[0]),I=_(w(c(O.index),s.length),0),j=[],L=1;L<O.length;L++)x(j,void 0===(E=O[L])?E:String(E));var N=O.groups;if(v){var R=b([M],j,I,s);void 0!==N&&x(R,N);var D=f(n(i,void 0,R))}else D=g(M,s,I,j,N,i);I>=P&&(A+=S(s,P,I)+D,P=I+M.length)}return A+S(s,P)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!C||T)},3123:(t,e,r)=>{"use strict";var n=r(2104),i=r(6916),o=r(1702),a=r(7007),s=r(7850),u=r(9670),l=r(4488),c=r(6707),h=r(1530),f=r(7466),p=r(1340),d=r(8173),v=r(206),g=r(7651),y=r(2261),m=r(2999),_=r(7293),w=m.UNSUPPORTED_Y,b=4294967295,x=Math.min,k=[].push,S=o(/./.exec),C=o(k),T=o("".slice);a("split",(function(t,e,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var o=p(l(this)),a=void 0===r?b:r>>>0;if(0===a)return[];if(void 0===t)return[o];if(!s(t))return i(e,o,t,a);for(var u,c,h,f=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=new RegExp(t.source,d+"g");(u=i(y,m,o))&&!((c=m.lastIndex)>g&&(C(f,T(o,g,u.index)),u.length>1&&u.index<o.length&&n(k,f,v(u,1)),h=u[0].length,g=c,f.length>=a));)m.lastIndex===u.index&&m.lastIndex++;return g===o.length?!h&&S(m,"")||C(f,""):C(f,T(o,g)),f.length>a?v(f,0,a):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:i(e,this,t,r)}:e,[function(e,r){var n=l(this),a=null==e?void 0:d(e,t);return a?i(a,e,n,r):i(o,p(n),e,r)},function(t,n){var i=u(this),a=p(t),s=r(o,i,a,n,o!==e);if(s.done)return s.value;var l=c(i,RegExp),d=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),y=new l(w?"^(?:"+i.source+")":i,v),m=void 0===n?b:n>>>0;if(0===m)return[];if(0===a.length)return null===g(y,a)?[a]:[];for(var _=0,k=0,S=[];k<a.length;){y.lastIndex=w?0:k;var O,E=g(y,w?T(a,k):a);if(null===E||(O=x(f(y.lastIndex+(w?k:0)),a.length))===_)k=h(a,k,d);else{if(C(S,T(a,_,k)),S.length===m)return S;for(var A=1;A<=E.length-1;A++)if(C(S,E[A]),S.length===m)return S;k=_=O}}return C(S,T(a,_)),S}]}),!!_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),w)},3210:(t,e,r)=>{"use strict";var n=r(2109),i=r(3111).trim;n({target:"String",proto:!0,forced:r(6091)("trim")},{trim:function(){return i(this)}})},2526:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(5005),a=r(2104),s=r(6916),u=r(1702),l=r(1913),c=r(9781),h=r(133),f=r(7293),p=r(2597),d=r(3157),v=r(614),g=r(111),y=r(7976),m=r(2190),_=r(9670),w=r(7908),b=r(5656),x=r(4948),k=r(1340),S=r(9114),C=r(30),T=r(1956),O=r(8006),E=r(1156),A=r(5181),P=r(1236),z=r(3070),M=r(5296),I=r(206),j=r(1320),L=r(2309),N=r(6200),R=r(3501),D=r(9711),B=r(5112),F=r(6061),W=r(7235),H=r(8003),G=r(9909),Y=r(2092).forEach,X=N("hidden"),U="Symbol",V=B("toPrimitive"),Z=G.set,q=G.getterFor(U),$=Object.prototype,K=i.Symbol,Q=K&&K.prototype,J=i.TypeError,tt=i.QObject,et=o("JSON","stringify"),rt=P.f,nt=z.f,it=E.f,ot=M.f,at=u([].push),st=L("symbols"),ut=L("op-symbols"),lt=L("string-to-symbol-registry"),ct=L("symbol-to-string-registry"),ht=L("wks"),ft=!tt||!tt.prototype||!tt.prototype.findChild,pt=c&&f((function(){return 7!=C(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=rt($,e);n&&delete $[e],nt(t,e,r),n&&t!==$&&nt($,e,n)}:nt,dt=function(t,e){var r=st[t]=C(Q);return Z(r,{type:U,tag:t,description:e}),c||(r.description=e),r},vt=function(t,e,r){t===$&&vt(ut,e,r),_(t);var n=x(e);return _(r),p(st,n)?(r.enumerable?(p(t,X)&&t[X][n]&&(t[X][n]=!1),r=C(r,{enumerable:S(0,!1)})):(p(t,X)||nt(t,X,S(1,{})),t[X][n]=!0),pt(t,n,r)):nt(t,n,r)},gt=function(t,e){_(t);var r=b(e),n=T(r).concat(wt(r));return Y(n,(function(e){c&&!s(yt,r,e)||vt(t,e,r[e])})),t},yt=function(t){var e=x(t),r=s(ot,this,e);return!(this===$&&p(st,e)&&!p(ut,e))&&(!(r||!p(this,e)||!p(st,e)||p(this,X)&&this[X][e])||r)},mt=function(t,e){var r=b(t),n=x(e);if(r!==$||!p(st,n)||p(ut,n)){var i=rt(r,n);return!i||!p(st,n)||p(r,X)&&r[X][n]||(i.enumerable=!0),i}},_t=function(t){var e=it(b(t)),r=[];return Y(e,(function(t){p(st,t)||p(R,t)||at(r,t)})),r},wt=function(t){var e=t===$,r=it(e?ut:b(t)),n=[];return Y(r,(function(t){!p(st,t)||e&&!p($,t)||at(n,st[t])})),n};if(h||(j(Q=(K=function(){if(y(Q,this))throw J("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,e=D(t),r=function(t){this===$&&s(r,ut,t),p(this,X)&&p(this[X],e)&&(this[X][e]=!1),pt(this,e,S(1,t))};return c&&ft&&pt($,e,{configurable:!0,set:r}),dt(e,t)}).prototype,"toString",(function(){return q(this).tag})),j(K,"withoutSetter",(function(t){return dt(D(t),t)})),M.f=yt,z.f=vt,P.f=mt,O.f=E.f=_t,A.f=wt,F.f=function(t){return dt(B(t),t)},c&&(nt(Q,"description",{configurable:!0,get:function(){return q(this).description}}),l||j($,"propertyIsEnumerable",yt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:K}),Y(T(ht),(function(t){W(t)})),n({target:U,stat:!0,forced:!h},{for:function(t){var e=k(t);if(p(lt,e))return lt[e];var r=K(e);return lt[e]=r,ct[r]=e,r},keyFor:function(t){if(!m(t))throw J(t+" is not a symbol");if(p(ct,t))return ct[t]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),n({target:"Object",stat:!0,forced:!h,sham:!c},{create:function(t,e){return void 0===e?C(t):gt(C(t),e)},defineProperty:vt,defineProperties:gt,getOwnPropertyDescriptor:mt}),n({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:_t,getOwnPropertySymbols:wt}),n({target:"Object",stat:!0,forced:f((function(){A.f(1)}))},{getOwnPropertySymbols:function(t){return A.f(w(t))}}),et&&n({target:"JSON",stat:!0,forced:!h||f((function(){var t=K();return"[null]"!=et([t])||"{}"!=et({a:t})||"{}"!=et(Object(t))}))},{stringify:function(t,e,r){var n=I(arguments),i=e;if((g(e)||void 0!==t)&&!m(t))return d(e)||(e=function(t,e){if(v(i)&&(e=s(i,this,t,e)),!m(e))return e}),n[1]=e,a(et,null,n)}}),!Q[V]){var bt=Q.valueOf;j(Q,V,(function(t){return s(bt,this)}))}H(K,U),R[X]=!0},4747:(t,e,r)=>{var n=r(7854),i=r(8324),o=r(8509),a=r(8533),s=r(8880),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var l in i)i[l]&&u(n[l]&&n[l].prototype);u(o)},3948:(t,e,r)=>{var n=r(7854),i=r(8324),o=r(8509),a=r(6992),s=r(8880),u=r(5112),l=u("iterator"),c=u("toStringTag"),h=a.values,f=function(t,e){if(t){if(t[l]!==h)try{s(t,l,h)}catch(e){t[l]=h}if(t[c]||s(t,c,e),i[e])for(var r in a)if(t[r]!==a[r])try{s(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var p in i)f(n[p]&&n[p].prototype,p);f(o,"DOMTokenList")},6486:function(t,e,r){var n;t=r.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,l=128,c=1/0,h=9007199254740991,f=NaN,p=4294967295,d=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",y="[object Boolean]",m="[object Date]",_="[object Error]",w="[object Function]",b="[object GeneratorFunction]",x="[object Map]",k="[object Number]",S="[object Object]",C="[object Promise]",T="[object RegExp]",O="[object Set]",E="[object String]",A="[object Symbol]",P="[object WeakMap]",z="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",j="[object Float64Array]",L="[object Int8Array]",N="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,V=RegExp(X.source),Z=RegExp(U.source),q=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),nt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,pt=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,wt=/['\n\r\u2028\u2029\\]/g,bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="a-z\\xdf-\\xf6\\xf8-\\xff",kt="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="["+St+"]",Tt="["+bt+"]",Ot="\\d+",Et="["+xt+"]",At="[^\\ud800-\\udfff"+St+Ot+"\\u2700-\\u27bf"+xt+kt+"]",Pt="\\ud83c[\\udffb-\\udfff]",zt="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",jt="["+kt+"]",Lt="(?:"+Et+"|"+At+")",Nt="(?:"+jt+"|"+At+")",Rt="(?:['’](?:d|ll|m|re|s|t|ve))?",Dt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Bt="(?:"+Tt+"|"+Pt+")?",Ft="[\\ufe0e\\ufe0f]?",Wt=Ft+Bt+"(?:\\u200d(?:"+[zt,Mt,It].join("|")+")"+Ft+Bt+")*",Ht="(?:"+["[\\u2700-\\u27bf]",Mt,It].join("|")+")"+Wt,Gt="(?:"+[zt+Tt+"?",Tt,Mt,It,"[\\ud800-\\udfff]"].join("|")+")",Yt=RegExp("['’]","g"),Xt=RegExp(Tt,"g"),Ut=RegExp(Pt+"(?="+Pt+")|"+Gt+Wt,"g"),Vt=RegExp([jt+"?"+Et+"+"+Rt+"(?="+[Ct,jt,"$"].join("|")+")",Nt+"+"+Dt+"(?="+[Ct,jt+Lt,"$"].join("|")+")",jt+"?"+Lt+"+"+Rt,jt+"+"+Dt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ot,Ht].join("|"),"g"),Zt=RegExp("[\\u200d\\ud800-\\udfff"+bt+"\\ufe0e\\ufe0f]"),qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kt=-1,Qt={};Qt[I]=Qt[j]=Qt[L]=Qt[N]=Qt[R]=Qt[D]=Qt[B]=Qt[F]=Qt[W]=!0,Qt[v]=Qt[g]=Qt[z]=Qt[y]=Qt[M]=Qt[m]=Qt[_]=Qt[w]=Qt[x]=Qt[k]=Qt[S]=Qt[T]=Qt[O]=Qt[E]=Qt[P]=!1;var Jt={};Jt[v]=Jt[g]=Jt[z]=Jt[M]=Jt[y]=Jt[m]=Jt[I]=Jt[j]=Jt[L]=Jt[N]=Jt[R]=Jt[x]=Jt[k]=Jt[S]=Jt[T]=Jt[O]=Jt[E]=Jt[A]=Jt[D]=Jt[B]=Jt[F]=Jt[W]=!0,Jt[_]=Jt[w]=Jt[P]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,re=parseInt,ne="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=ne||ie||Function("return this")(),ae=e&&!e.nodeType&&e,se=ae&&t&&!t.nodeType&&t,ue=se&&se.exports===ae,le=ue&&ne.process,ce=function(){try{return se&&se.require&&se.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),he=ce&&ce.isArrayBuffer,fe=ce&&ce.isDate,pe=ce&&ce.isMap,de=ce&&ce.isRegExp,ve=ce&&ce.isSet,ge=ce&&ce.isTypedArray;function ye(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function me(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}function _e(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function we(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function be(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function xe(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function ke(t,e){return!(null==t||!t.length)&&Ie(t,e,0)>-1}function Se(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ce(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Te(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Oe(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ee(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Ae(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Pe=Re("length");function ze(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Me(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ie(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Me(t,Le,r)}function je(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Le(t){return t!=t}function Ne(t,e){var r=null==t?0:t.length;return r?Fe(t,e)/r:f}function Re(t){return function(e){return null==e?i:e[t]}}function De(t){return function(e){return null==t?i:t[e]}}function Be(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Fe(t,e){for(var r,n=-1,o=t.length;++n<o;){var a=e(t[n]);a!==i&&(r=r===i?a:r+a)}return r}function We(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function He(t){return t?t.slice(0,ar(t)+1).replace(nt,""):t}function Ge(t){return function(e){return t(e)}}function Ye(t,e){return Ce(e,(function(e){return t[e]}))}function Xe(t,e){return t.has(e)}function Ue(t,e){for(var r=-1,n=t.length;++r<n&&Ie(e,t[r],0)>-1;);return r}function Ve(t,e){for(var r=t.length;r--&&Ie(e,t[r],0)>-1;);return r}function Ze(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var qe=De({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),$e=De({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ke(t){return"\\"+te[t]}function Qe(t){return Zt.test(t)}function Je(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function tr(t,e){return function(r){return t(e(r))}}function er(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&a!==s||(t[r]=s,o[i++]=r)}return o}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function nr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function ir(t){return Qe(t)?function(t){for(var e=Ut.lastIndex=0;Ut.test(t);)++e;return e}(t):Pe(t)}function or(t){return Qe(t)?function(t){return t.match(Ut)||[]}(t):function(t){return t.split("")}(t)}function ar(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var sr=De({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ur=function t(e){var r,n=(e=null==e?oe:ur.defaults(oe.Object(),e,ur.pick(oe,$t))).Array,it=e.Date,bt=e.Error,xt=e.Function,kt=e.Math,St=e.Object,Ct=e.RegExp,Tt=e.String,Ot=e.TypeError,Et=n.prototype,At=xt.prototype,Pt=St.prototype,zt=e["__core-js_shared__"],Mt=At.toString,It=Pt.hasOwnProperty,jt=0,Lt=(r=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Nt=Pt.toString,Rt=Mt.call(St),Dt=oe._,Bt=Ct("^"+Mt.call(It).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=ue?e.Buffer:i,Wt=e.Symbol,Ht=e.Uint8Array,Gt=Ft?Ft.allocUnsafe:i,Ut=tr(St.getPrototypeOf,St),Zt=St.create,te=Pt.propertyIsEnumerable,ne=Et.splice,ie=Wt?Wt.isConcatSpreadable:i,ae=Wt?Wt.iterator:i,se=Wt?Wt.toStringTag:i,le=function(){try{var t=lo(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Pe=it&&it.now!==oe.Date.now&&it.now,De=e.setTimeout!==oe.setTimeout&&e.setTimeout,lr=kt.ceil,cr=kt.floor,hr=St.getOwnPropertySymbols,fr=Ft?Ft.isBuffer:i,pr=e.isFinite,dr=Et.join,vr=tr(St.keys,St),gr=kt.max,yr=kt.min,mr=it.now,_r=e.parseInt,wr=kt.random,br=Et.reverse,xr=lo(e,"DataView"),kr=lo(e,"Map"),Sr=lo(e,"Promise"),Cr=lo(e,"Set"),Tr=lo(e,"WeakMap"),Or=lo(St,"create"),Er=Tr&&new Tr,Ar={},Pr=Bo(xr),zr=Bo(kr),Mr=Bo(Sr),Ir=Bo(Cr),jr=Bo(Tr),Lr=Wt?Wt.prototype:i,Nr=Lr?Lr.valueOf:i,Rr=Lr?Lr.toString:i;function Dr(t){if(rs(t)&&!Xa(t)&&!(t instanceof Hr)){if(t instanceof Wr)return t;if(It.call(t,"__wrapped__"))return Fo(t)}return new Wr(t)}var Br=function(){function t(){}return function(e){if(!es(e))return{};if(Zt)return Zt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Fr(){}function Wr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Yr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Xr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ur(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Xr;++e<r;)this.add(t[e])}function Vr(t){var e=this.__data__=new Yr(t);this.size=e.size}function Zr(t,e){var r=Xa(t),n=!r&&Ya(t),i=!r&&!n&&qa(t),o=!r&&!n&&!i&&cs(t),a=r||n||i||o,s=a?We(t.length,Tt):[],u=s.length;for(var l in t)!e&&!It.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yo(l,u))||s.push(l);return s}function qr(t){var e=t.length;return e?t[Un(0,e-1)]:i}function $r(t,e){return jo(Oi(t),an(e,0,t.length))}function Kr(t){return jo(Oi(t))}function Qr(t,e,r){(r!==i&&!Wa(t[e],r)||r===i&&!(e in t))&&nn(t,e,r)}function Jr(t,e,r){var n=t[e];It.call(t,e)&&Wa(n,r)&&(r!==i||e in t)||nn(t,e,r)}function tn(t,e){for(var r=t.length;r--;)if(Wa(t[r][0],e))return r;return-1}function en(t,e,r,n){return hn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function rn(t,e){return t&&Ei(e,Ms(e),t)}function nn(t,e,r){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function on(t,e){for(var r=-1,o=e.length,a=n(o),s=null==t;++r<o;)a[r]=s?i:Os(t,e[r]);return a}function an(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function sn(t,e,r,n,o,a){var s,u=1&e,l=2&e,c=4&e;if(r&&(s=o?r(t,n,o,a):r(t)),s!==i)return s;if(!es(t))return t;var h=Xa(t);if(h){if(s=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&It.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return Oi(t,s)}else{var f=fo(t),p=f==w||f==b;if(qa(t))return bi(t,u);if(f==S||f==v||p&&!o){if(s=l||p?{}:vo(t),!u)return l?function(t,e){return Ei(t,ho(t),e)}(t,function(t,e){return t&&Ei(e,Is(e),t)}(s,t)):function(t,e){return Ei(t,co(t),e)}(t,rn(s,t))}else{if(!Jt[f])return o?t:{};s=function(t,e,r){var n,i=t.constructor;switch(e){case z:return xi(t);case y:case m:return new i(+t);case M:return function(t,e){var r=e?xi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case I:case j:case L:case N:case R:case D:case B:case F:case W:return ki(t,r);case x:case O:return new i;case k:case E:return new i(t);case T:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return n=t,Nr?St(Nr.call(n)):{}}}(t,f,u)}}a||(a=new Vr);var d=a.get(t);if(d)return d;a.set(t,s),ss(t)?t.forEach((function(n){s.add(sn(n,e,r,n,t,a))})):ns(t)&&t.forEach((function(n,i){s.set(i,sn(n,e,r,i,t,a))}));var g=h?i:(c?l?ro:eo:l?Is:Ms)(t);return _e(g||t,(function(n,i){g&&(n=t[i=n]),Jr(s,i,sn(n,e,r,i,t,a))})),s}function un(t,e,r){var n=r.length;if(null==t)return!n;for(t=St(t);n--;){var o=r[n],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function ln(t,e,r){if("function"!=typeof t)throw new Ot(o);return Po((function(){t.apply(i,r)}),e)}function cn(t,e,r,n){var i=-1,o=ke,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;r&&(e=Ce(e,Ge(r))),n?(o=Se,a=!1):e.length>=200&&(o=Xe,a=!1,e=new Ur(e));t:for(;++i<s;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,a&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,n)||u.push(c)}return u}Dr.templateSettings={escape:q,evaluate:$,interpolate:K,variable:"",imports:{_:Dr}},Dr.prototype=Fr.prototype,Dr.prototype.constructor=Dr,Wr.prototype=Br(Fr.prototype),Wr.prototype.constructor=Wr,Hr.prototype=Br(Fr.prototype),Hr.prototype.constructor=Hr,Gr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},Gr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gr.prototype.get=function(t){var e=this.__data__;if(Or){var r=e[t];return r===a?i:r}return It.call(e,t)?e[t]:i},Gr.prototype.has=function(t){var e=this.__data__;return Or?e[t]!==i:It.call(e,t)},Gr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Or&&e===i?a:e,this},Yr.prototype.clear=function(){this.__data__=[],this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0||(r==e.length-1?e.pop():ne.call(e,r,1),--this.size,0))},Yr.prototype.get=function(t){var e=this.__data__,r=tn(e,t);return r<0?i:e[r][1]},Yr.prototype.has=function(t){return tn(this.__data__,t)>-1},Yr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Xr.prototype.clear=function(){this.size=0,this.__data__={hash:new Gr,map:new(kr||Yr),string:new Gr}},Xr.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},Xr.prototype.get=function(t){return so(this,t).get(t)},Xr.prototype.has=function(t){return so(this,t).has(t)},Xr.prototype.set=function(t,e){var r=so(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Ur.prototype.add=Ur.prototype.push=function(t){return this.__data__.set(t,a),this},Ur.prototype.has=function(t){return this.__data__.has(t)},Vr.prototype.clear=function(){this.__data__=new Yr,this.size=0},Vr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Vr.prototype.get=function(t){return this.__data__.get(t)},Vr.prototype.has=function(t){return this.__data__.has(t)},Vr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Yr){var n=r.__data__;if(!kr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Xr(n)}return r.set(t,e),this.size=r.size,this};var hn=zi(_n),fn=zi(wn,!0);function pn(t,e){var r=!0;return hn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function dn(t,e,r){for(var n=-1,o=t.length;++n<o;){var a=t[n],s=e(a);if(null!=s&&(u===i?s==s&&!ls(s):r(s,u)))var u=s,l=a}return l}function vn(t,e){var r=[];return hn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function gn(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=go),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?gn(s,e-1,r,n,i):Te(i,s):n||(i[i.length]=s)}return i}var yn=Mi(),mn=Mi(!0);function _n(t,e){return t&&yn(t,e,Ms)}function wn(t,e){return t&&mn(t,e,Ms)}function bn(t,e){return xe(e,(function(e){return Qa(t[e])}))}function xn(t,e){for(var r=0,n=(e=yi(e,t)).length;null!=t&&r<n;)t=t[Do(e[r++])];return r&&r==n?t:i}function kn(t,e,r){var n=e(t);return Xa(t)?n:Te(n,r(t))}function Sn(t){return null==t?t===i?"[object Undefined]":"[object Null]":se&&se in St(t)?function(t){var e=It.call(t,se),r=t[se];try{t[se]=i;var n=!0}catch(t){}var o=Nt.call(t);return n&&(e?t[se]=r:delete t[se]),o}(t):function(t){return Nt.call(t)}(t)}function Cn(t,e){return t>e}function Tn(t,e){return null!=t&&It.call(t,e)}function On(t,e){return null!=t&&e in St(t)}function En(t,e,r){for(var o=r?Se:ke,a=t[0].length,s=t.length,u=s,l=n(s),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ce(f,Ge(e))),c=yr(f.length,c),l[u]=!r&&(e||a>=120&&f.length>=120)?new Ur(u&&f):i}f=t[0];var p=-1,d=l[0];t:for(;++p<a&&h.length<c;){var v=f[p],g=e?e(v):v;if(v=r||0!==v?v:0,!(d?Xe(d,g):o(h,g,r))){for(u=s;--u;){var y=l[u];if(!(y?Xe(y,g):o(t[u],g,r)))continue t}d&&d.push(g),h.push(v)}}return h}function An(t,e,r){var n=null==(t=To(t,e=yi(e,t)))?t:t[Do(Ko(e))];return null==n?i:ye(n,t,r)}function Pn(t){return rs(t)&&Sn(t)==v}function zn(t,e,r,n,o){return t===e||(null==t||null==e||!rs(t)&&!rs(e)?t!=t&&e!=e:function(t,e,r,n,o,a){var s=Xa(t),u=Xa(e),l=s?g:fo(t),c=u?g:fo(e),h=(l=l==v?S:l)==S,f=(c=c==v?S:c)==S,p=l==c;if(p&&qa(t)){if(!qa(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new Vr),s||cs(t)?Ji(t,e,r,n,o,a):function(t,e,r,n,i,o,a){switch(r){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case z:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case y:case m:case k:return Wa(+t,+e);case _:return t.name==e.name&&t.message==e.message;case T:case E:return t==e+"";case x:var s=Je;case O:var u=1&n;if(s||(s=rr),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;n|=2,a.set(t,e);var c=Ji(s(t),s(e),n,i,o,a);return a.delete(t),c;case A:if(Nr)return Nr.call(t)==Nr.call(e)}return!1}(t,e,l,r,n,o,a);if(!(1&r)){var d=h&&It.call(t,"__wrapped__"),w=f&&It.call(e,"__wrapped__");if(d||w){var b=d?t.value():t,C=w?e.value():e;return a||(a=new Vr),o(b,C,r,n,a)}}return!!p&&(a||(a=new Vr),function(t,e,r,n,o,a){var s=1&r,u=eo(t),l=u.length;if(l!=eo(e).length&&!s)return!1;for(var c=l;c--;){var h=u[c];if(!(s?h in e:It.call(e,h)))return!1}var f=a.get(t),p=a.get(e);if(f&&p)return f==e&&p==t;var d=!0;a.set(t,e),a.set(e,t);for(var v=s;++c<l;){var g=t[h=u[c]],y=e[h];if(n)var m=s?n(y,g,h,e,t,a):n(g,y,h,t,e,a);if(!(m===i?g===y||o(g,y,r,n,a):m)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(d=!1)}return a.delete(t),a.delete(e),d}(t,e,r,n,o,a))}(t,e,r,n,zn,o))}function Mn(t,e,r,n){var o=r.length,a=o,s=!n;if(null==t)return!a;for(t=St(t);o--;){var u=r[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var l=(u=r[o])[0],c=t[l],h=u[1];if(s&&u[2]){if(c===i&&!(l in t))return!1}else{var f=new Vr;if(n)var p=n(c,h,l,t,e,f);if(!(p===i?zn(h,c,3,n,f):p))return!1}}return!0}function In(t){return!(!es(t)||(e=t,Lt&&Lt in e))&&(Qa(t)?Bt:vt).test(Bo(t));var e}function jn(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Xa(t)?Bn(t[0],t[1]):Dn(t):pu(t)}function Ln(t){if(!xo(t))return vr(t);var e=[];for(var r in St(t))It.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Nn(t,e){return t<e}function Rn(t,e){var r=-1,i=Va(t)?n(t.length):[];return hn(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Dn(t){var e=uo(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(r){return r===t||Mn(r,t,e)}}function Bn(t,e){return _o(t)&&ko(e)?So(Do(t),e):function(r){var n=Os(r,t);return n===i&&n===e?Es(r,t):zn(e,n,3)}}function Fn(t,e,r,n,o){t!==e&&yn(e,(function(a,s){if(o||(o=new Vr),es(a))!function(t,e,r,n,o,a,s){var u=Eo(t,r),l=Eo(e,r),c=s.get(l);if(c)Qr(t,r,c);else{var h=a?a(u,l,r+"",t,e,s):i,f=h===i;if(f){var p=Xa(l),d=!p&&qa(l),v=!p&&!d&&cs(l);h=l,p||d||v?Xa(u)?h=u:Za(u)?h=Oi(u):d?(f=!1,h=bi(l,!0)):v?(f=!1,h=ki(l,!0)):h=[]:os(l)||Ya(l)?(h=u,Ya(u)?h=ms(u):es(u)&&!Qa(u)||(h=vo(l))):f=!1}f&&(s.set(l,h),o(h,l,n,a,s),s.delete(l)),Qr(t,r,h)}}(t,e,s,r,Fn,n,o);else{var u=n?n(Eo(t,s),a,s+"",t,e,o):i;u===i&&(u=a),Qr(t,s,u)}}),Is)}function Wn(t,e){var r=t.length;if(r)return yo(e+=e<0?r:0,r)?t[e]:i}function Hn(t,e,r){e=e.length?Ce(e,(function(t){return Xa(t)?function(e){return xn(e,1===t.length?t[0]:t)}:t})):[iu];var n=-1;e=Ce(e,Ge(ao()));var i=Rn(t,(function(t,r,i){var o=Ce(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var u=Si(i[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));n--;)t[n]=t[n].value;return t}(i)}function Gn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],s=xn(t,a);r(s,a)&&Kn(o,yi(a,t),s)}return o}function Yn(t,e,r,n){var i=n?je:Ie,o=-1,a=e.length,s=t;for(t===e&&(e=Oi(e)),r&&(s=Ce(t,Ge(r)));++o<a;)for(var u=0,l=e[o],c=r?r(l):l;(u=i(s,c,u,n))>-1;)s!==t&&ne.call(s,u,1),ne.call(t,u,1);return t}function Xn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;yo(i)?ne.call(t,i,1):li(t,i)}}return t}function Un(t,e){return t+cr(wr()*(e-t+1))}function Vn(t,e){var r="";if(!t||e<1||e>h)return r;do{e%2&&(r+=t),(e=cr(e/2))&&(t+=t)}while(e);return r}function Zn(t,e){return zo(Co(t,e,iu),t+"")}function qn(t){return qr(Ws(t))}function $n(t,e){var r=Ws(t);return jo(r,an(e,0,r.length))}function Kn(t,e,r,n){if(!es(t))return t;for(var o=-1,a=(e=yi(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var l=Do(e[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=s){var h=u[l];(c=n?n(h,l,u):i)===i&&(c=es(h)?h:yo(e[o+1])?[]:{})}Jr(u,l,c),u=u[l]}return t}var Qn=Er?function(t,e){return Er.set(t,e),t}:iu,Jn=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return jo(Ws(t))}function ei(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function ri(t,e){var r;return hn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=t[o];null!==a&&!ls(a)&&(r?a<=e:a<e)?n=o+1:i=o}return i}return ii(t,e,iu,r)}function ii(t,e,r,n){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=r(e))!=e,u=null===e,l=ls(e),c=e===i;o<a;){var h=cr((o+a)/2),f=r(t[h]),p=f!==i,d=null===f,v=f==f,g=ls(f);if(s)var y=n||v;else y=c?v&&(n||p):u?v&&p&&(n||!d):l?v&&p&&!d&&(n||!g):!d&&!g&&(n?f<=e:f<e);y?o=h+1:a=h}return yr(a,4294967294)}function oi(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r],s=e?e(a):a;if(!r||!Wa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ai(t){return"number"==typeof t?t:ls(t)?f:+t}function si(t){if("string"==typeof t)return t;if(Xa(t))return Ce(t,si)+"";if(ls(t))return Rr?Rr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,r){var n=-1,i=ke,o=t.length,a=!0,s=[],u=s;if(r)a=!1,i=Se;else if(o>=200){var l=e?null:Vi(t);if(l)return rr(l);a=!1,i=Xe,u=new Ur}else u=e?[]:s;t:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,r)||(u!==s&&u.push(h),s.push(c))}return s}function li(t,e){return null==(t=To(t,e=yi(e,t)))||delete t[Do(Ko(e))]}function ci(t,e,r,n){return Kn(t,e,r(xn(t,e)),n)}function hi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ei(t,n?0:o,n?o+1:i):ei(t,n?o+1:0,n?i:o)}function fi(t,e){var r=t;return r instanceof Hr&&(r=r.value()),Oe(e,(function(t,e){return e.func.apply(e.thisArg,Te([t],e.args))}),r)}function pi(t,e,r){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=cn(a[o]||s,t[u],e,r));return ui(gn(a,1),e,r)}function di(t,e,r){for(var n=-1,o=t.length,a=e.length,s={};++n<o;){var u=n<a?e[n]:i;r(s,t[n],u)}return s}function vi(t){return Za(t)?t:[]}function gi(t){return"function"==typeof t?t:iu}function yi(t,e){return Xa(t)?t:_o(t,e)?[t]:Ro(_s(t))}var mi=Zn;function _i(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ei(t,e,r)}var wi=ce||function(t){return oe.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var r=t.length,n=Gt?Gt(r):new t.constructor(r);return t.copy(n),n}function xi(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function ki(t,e){var r=e?xi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Si(t,e){if(t!==e){var r=t!==i,n=null===t,o=t==t,a=ls(t),s=e!==i,u=null===e,l=e==e,c=ls(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||n&&s&&l||!r&&l||!o)return 1;if(!n&&!a&&!c&&t<e||c&&r&&o&&!n&&!a||u&&r&&o||!s&&o||!l)return-1}return 0}function Ci(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=gr(a-s,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Ti(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,h=gr(a-u,0),f=n(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(p||o<a)&&(f[d+r[s]]=t[o++]);return f}function Oi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ei(t,e,r,n){var o=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=n?n(r[u],t[u],u,r,t):i;l===i&&(l=t[u]),o?nn(r,u,l):Jr(r,u,l)}return r}function Ai(t,e){return function(r,n){var i=Xa(r)?me:en,o=e?e():{};return i(r,t,ao(n,2),o)}}function Pi(t){return Zn((function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,s=o>2?r[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&mo(r[0],r[1],s)&&(a=o<3?i:a,o=1),e=St(e);++n<o;){var u=r[n];u&&t(e,u,n,a)}return e}))}function zi(t,e){return function(r,n){if(null==r)return r;if(!Va(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=St(r);(e?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Mi(t){return function(e,r,n){for(var i=-1,o=St(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}function Ii(t){return function(e){var r=Qe(e=_s(e))?or(e):i,n=r?r[0]:e.charAt(0),o=r?_i(r,1).join(""):e.slice(1);return n[t]()+o}}function ji(t){return function(e){return Oe(Qs(Ys(e).replace(Yt,"")),t,"")}}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Br(t.prototype),n=t.apply(r,e);return es(n)?n:r}}function Ni(t){return function(e,r,n){var o=St(e);if(!Va(e)){var a=ao(r,3);e=Ms(e),r=function(t){return a(o[t],t,o)}}var s=t(e,r,n);return s>-1?o[a?e[s]:s]:i}}function Ri(t){return to((function(e){var r=e.length,n=r,a=Wr.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if("function"!=typeof s)throw new Ot(o);if(a&&!u&&"wrapper"==io(s))var u=new Wr([],!0)}for(n=u?n:r;++n<r;){var l=io(s=e[n]),c="wrapper"==l?no(s):i;u=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[io(c[0])].apply(u,c[3]):1==s.length&&wo(s)?u[l]():u.thru(s)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Xa(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Di(t,e,r,o,a,s,u,c,h,f){var p=e&l,d=1&e,v=2&e,g=24&e,y=512&e,m=v?i:Li(t);return function i(){for(var l=arguments.length,_=n(l),w=l;w--;)_[w]=arguments[w];if(g)var b=oo(i),x=Ze(_,b);if(o&&(_=Ci(_,o,a,g)),s&&(_=Ti(_,s,u,g)),l-=x,g&&l<f){var k=er(_,b);return Xi(t,e,Di,i.placeholder,r,_,k,c,h,f-l)}var S=d?r:this,C=v?S[t]:t;return l=_.length,c?_=Oo(_,c):y&&l>1&&_.reverse(),p&&h<l&&(_.length=h),this&&this!==oe&&this instanceof i&&(C=m||Li(C)),C.apply(S,_)}}function Bi(t,e){return function(r,n){return function(t,e,r,n){return _n(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Fi(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=si(r),n=si(n)):(r=ai(r),n=ai(n)),o=t(r,n)}return o}}function Wi(t){return to((function(e){return e=Ce(e,Ge(ao())),Zn((function(r){var n=this;return t(e,(function(t){return ye(t,n,r)}))}))}))}function Hi(t,e){var r=(e=e===i?" ":si(e)).length;if(r<2)return r?Vn(e,t):e;var n=Vn(e,lr(t/ir(e)));return Qe(e)?_i(or(n),0,t).join(""):n.slice(0,t)}function Gi(t){return function(e,r,o){return o&&"number"!=typeof o&&mo(e,r,o)&&(r=o=i),e=ds(e),r===i?(r=e,e=0):r=ds(r),function(t,e,r,i){for(var o=-1,a=gr(lr((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,o=o===i?e<r?1:-1:ds(o),t)}}function Yi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ys(e),r=ys(r)),t(e,r)}}function Xi(t,e,r,n,o,a,s,l,c,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var p=[t,e,o,f?a:i,f?s:i,f?i:a,f?i:s,l,c,h],d=r.apply(i,p);return wo(t)&&Ao(d,p),d.placeholder=n,Mo(d,t,e)}function Ui(t){var e=kt[t];return function(t,r){if(t=ys(t),(r=null==r?0:yr(vs(r),292))&&pr(t)){var n=(_s(t)+"e").split("e");return+((n=(_s(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Vi=Cr&&1/rr(new Cr([,-0]))[1]==c?function(t){return new Cr(t)}:lu;function Zi(t){return function(e){var r=fo(e);return r==x?Je(e):r==O?nr(e):function(t,e){return Ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function qi(t,e,r,a,c,h,f,p){var d=2&e;if(!d&&"function"!=typeof t)throw new Ot(o);var v=a?a.length:0;if(v||(e&=-97,a=c=i),f=f===i?f:gr(vs(f),0),p=p===i?p:vs(p),v-=c?c.length:0,64&e){var g=a,y=c;a=c=i}var m=d?i:no(t),_=[t,e,r,a,c,g,y,h,f,p];if(m&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,a=n==l&&8==r||n==l&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!a)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ci(c,u,e[4]):u,t[4]=c?er(t[3],s):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Ti(c,u,e[6]):u,t[6]=c?er(t[5],s):e[6]),(u=e[7])&&(t[7]=u),n&l&&(t[8]=null==t[8]?e[8]:yr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(_,m),t=_[0],e=_[1],r=_[2],a=_[3],c=_[4],!(p=_[9]=_[9]===i?d?0:t.length:gr(_[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||16==e?function(t,e,r){var o=Li(t);return function a(){for(var s=arguments.length,u=n(s),l=s,c=oo(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:er(u,c);return(s-=h.length)<r?Xi(t,e,Di,a.placeholder,i,u,h,i,i,r-s):ye(this&&this!==oe&&this instanceof a?o:t,this,u)}}(t,e,p):e!=u&&33!=e||c.length?Di.apply(i,_):function(t,e,r,i){var o=1&e,a=Li(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==oe&&this instanceof e?a:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return ye(f,o?r:this,h)}}(t,e,r,a);else var w=function(t,e,r){var n=1&e,i=Li(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Mo((m?Qn:Ao)(w,_),t,e)}function $i(t,e,r,n){return t===i||Wa(t,Pt[r])&&!It.call(n,r)?e:t}function Ki(t,e,r,n,o,a){return es(t)&&es(e)&&(a.set(e,t),Fn(t,e,i,Ki,a),a.delete(e)),t}function Qi(t){return os(t)?i:t}function Ji(t,e,r,n,o,a){var s=1&r,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,d=2&r?new Ur:i;for(a.set(t,e),a.set(e,t);++f<u;){var v=t[f],g=e[f];if(n)var y=s?n(g,v,f,e,t,a):n(v,g,f,t,e,a);if(y!==i){if(y)continue;p=!1;break}if(d){if(!Ae(e,(function(t,e){if(!Xe(d,e)&&(v===t||o(v,t,r,n,a)))return d.push(e)}))){p=!1;break}}else if(v!==g&&!o(v,g,r,n,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function to(t){return zo(Co(t,i,Uo),t+"")}function eo(t){return kn(t,Ms,co)}function ro(t){return kn(t,Is,ho)}var no=Er?function(t){return Er.get(t)}:lu;function io(t){for(var e=t.name+"",r=Ar[e],n=It.call(Ar,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(It.call(Dr,"placeholder")?Dr:t).placeholder}function ao(){var t=Dr.iteratee||ou;return t=t===ou?jn:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function uo(t){for(var e=Ms(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ko(i)]}return e}function lo(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return In(r)?r:i}var co=hr?function(t){return null==t?[]:(t=St(t),xe(hr(t),(function(e){return te.call(t,e)})))}:gu,ho=hr?function(t){for(var e=[];t;)Te(e,co(t)),t=Ut(t);return e}:gu,fo=Sn;function po(t,e,r){for(var n=-1,i=(e=yi(e,t)).length,o=!1;++n<i;){var a=Do(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ts(i)&&yo(a,i)&&(Xa(t)||Ya(t))}function vo(t){return"function"!=typeof t.constructor||xo(t)?{}:Br(Ut(t))}function go(t){return Xa(t)||Ya(t)||!!(ie&&t&&t[ie])}function yo(t,e){var r=typeof t;return!!(e=null==e?h:e)&&("number"==r||"symbol"!=r&&yt.test(t))&&t>-1&&t%1==0&&t<e}function mo(t,e,r){if(!es(r))return!1;var n=typeof e;return!!("number"==n?Va(r)&&yo(e,r.length):"string"==n&&e in r)&&Wa(r[e],t)}function _o(t,e){if(Xa(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ls(t))||J.test(t)||!Q.test(t)||null!=e&&t in St(e)}function wo(t){var e=io(t),r=Dr[e];if("function"!=typeof r||!(e in Hr.prototype))return!1;if(t===r)return!0;var n=no(r);return!!n&&t===n[0]}(xr&&fo(new xr(new ArrayBuffer(1)))!=M||kr&&fo(new kr)!=x||Sr&&fo(Sr.resolve())!=C||Cr&&fo(new Cr)!=O||Tr&&fo(new Tr)!=P)&&(fo=function(t){var e=Sn(t),r=e==S?t.constructor:i,n=r?Bo(r):"";if(n)switch(n){case Pr:return M;case zr:return x;case Mr:return C;case Ir:return O;case jr:return P}return e});var bo=zt?Qa:yu;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Pt)}function ko(t){return t==t&&!es(t)}function So(t,e){return function(r){return null!=r&&r[t]===e&&(e!==i||t in St(r))}}function Co(t,e,r){return e=gr(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=gr(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),ye(t,this,u)}}function To(t,e){return e.length<2?t:xn(t,ei(e,0,-1))}function Oo(t,e){for(var r=t.length,n=yr(e.length,r),o=Oi(t);n--;){var a=e[n];t[n]=yo(a,r)?o[a]:i}return t}function Eo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ao=Io(Qn),Po=De||function(t,e){return oe.setTimeout(t,e)},zo=Io(Jn);function Mo(t,e,r){var n=e+"";return zo(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return _e(d,(function(r){var n="_."+r[0];e&r[1]&&!ke(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(st):[]}(n),r)))}function Io(t){var e=0,r=0;return function(){var n=mr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function jo(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var a=Un(r,o),s=t[a];t[a]=t[r],t[r]=s}return t.length=e,t}var Lo,No,Ro=(Lo=La((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,r,n,i){e.push(n?i.replace(ct,"$1"):r||t)})),e}),(function(t){return 500===No.size&&No.clear(),t})),No=Lo.cache,Lo);function Do(t){if("string"==typeof t||ls(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fo(t){if(t instanceof Hr)return t.clone();var e=new Wr(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Wo=Zn((function(t,e){return Za(t)?cn(t,gn(e,1,Za,!0)):[]})),Ho=Zn((function(t,e){var r=Ko(e);return Za(r)&&(r=i),Za(t)?cn(t,gn(e,1,Za,!0),ao(r,2)):[]})),Go=Zn((function(t,e){var r=Ko(e);return Za(r)&&(r=i),Za(t)?cn(t,gn(e,1,Za,!0),i,r):[]}));function Yo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:vs(r);return i<0&&(i=gr(n+i,0)),Me(t,ao(e,3),i)}function Xo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=vs(r),o=r<0?gr(n+o,0):yr(o,n-1)),Me(t,ao(e,3),o,!0)}function Uo(t){return null!=t&&t.length?gn(t,1):[]}function Vo(t){return t&&t.length?t[0]:i}var Zo=Zn((function(t){var e=Ce(t,vi);return e.length&&e[0]===t[0]?En(e):[]})),qo=Zn((function(t){var e=Ko(t),r=Ce(t,vi);return e===Ko(r)?e=i:r.pop(),r.length&&r[0]===t[0]?En(r,ao(e,2)):[]})),$o=Zn((function(t){var e=Ko(t),r=Ce(t,vi);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?En(r,i,e):[]}));function Ko(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Qo=Zn(Jo);function Jo(t,e){return t&&t.length&&e&&e.length?Yn(t,e):t}var ta=to((function(t,e){var r=null==t?0:t.length,n=on(t,e);return Xn(t,Ce(e,(function(t){return yo(t,r)?+t:t})).sort(Si)),n}));function ea(t){return null==t?t:br.call(t)}var ra=Zn((function(t){return ui(gn(t,1,Za,!0))})),na=Zn((function(t){var e=Ko(t);return Za(e)&&(e=i),ui(gn(t,1,Za,!0),ao(e,2))})),ia=Zn((function(t){var e=Ko(t);return e="function"==typeof e?e:i,ui(gn(t,1,Za,!0),i,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=xe(t,(function(t){if(Za(t))return e=gr(t.length,e),!0})),We(e,(function(e){return Ce(t,Re(e))}))}function aa(t,e){if(!t||!t.length)return[];var r=oa(t);return null==e?r:Ce(r,(function(t){return ye(e,i,t)}))}var sa=Zn((function(t,e){return Za(t)?cn(t,e):[]})),ua=Zn((function(t){return pi(xe(t,Za))})),la=Zn((function(t){var e=Ko(t);return Za(e)&&(e=i),pi(xe(t,Za),ao(e,2))})),ca=Zn((function(t){var e=Ko(t);return e="function"==typeof e?e:i,pi(xe(t,Za),i,e)})),ha=Zn(oa),fa=Zn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,aa(t,r)}));function pa(t){var e=Dr(t);return e.__chain__=!0,e}function da(t,e){return e(t)}var va=to((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return on(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Hr&&yo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:da,args:[o],thisArg:i}),new Wr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),ga=Ai((function(t,e,r){It.call(t,r)?++t[r]:nn(t,r,1)})),ya=Ni(Yo),ma=Ni(Xo);function _a(t,e){return(Xa(t)?_e:hn)(t,ao(e,3))}function wa(t,e){return(Xa(t)?we:fn)(t,ao(e,3))}var ba=Ai((function(t,e,r){It.call(t,r)?t[r].push(e):nn(t,r,[e])})),xa=Zn((function(t,e,r){var i=-1,o="function"==typeof e,a=Va(t)?n(t.length):[];return hn(t,(function(t){a[++i]=o?ye(e,t,r):An(t,e,r)})),a})),ka=Ai((function(t,e,r){nn(t,r,e)}));function Sa(t,e){return(Xa(t)?Ce:Rn)(t,ao(e,3))}var Ca=Ai((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Ta=Zn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&mo(t,e[0],e[1])?e=[]:r>2&&mo(e[0],e[1],e[2])&&(e=[e[0]]),Hn(t,gn(e,1),[])})),Oa=Pe||function(){return oe.Date.now()};function Ea(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,qi(t,l,i,i,i,i,e)}function Aa(t,e){var r;if("function"!=typeof e)throw new Ot(o);return t=vs(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Pa=Zn((function(t,e,r){var n=1;if(r.length){var i=er(r,oo(Pa));n|=u}return qi(t,n,e,r,i)})),za=Zn((function(t,e,r){var n=3;if(r.length){var i=er(r,oo(za));n|=u}return qi(e,n,t,r,i)}));function Ma(t,e,r){var n,a,s,u,l,c,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new Ot(o);function v(e){var r=n,o=a;return n=a=i,h=e,u=t.apply(o,r)}function g(t){return h=t,l=Po(m,e),f?v(t):u}function y(t){var r=t-c;return c===i||r>=e||r<0||p&&t-h>=s}function m(){var t=Oa();if(y(t))return _(t);l=Po(m,function(t){var r=e-(t-c);return p?yr(r,s-(t-h)):r}(t))}function _(t){return l=i,d&&n?v(t):(n=a=i,u)}function w(){var t=Oa(),r=y(t);if(n=arguments,a=this,c=t,r){if(l===i)return g(c);if(p)return wi(l),l=Po(m,e),v(c)}return l===i&&(l=Po(m,e)),u}return e=ys(e)||0,es(r)&&(f=!!r.leading,s=(p="maxWait"in r)?gr(ys(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d),w.cancel=function(){l!==i&&wi(l),h=0,n=c=a=l=i},w.flush=function(){return l===i?u:_(Oa())},w}var Ia=Zn((function(t,e){return ln(t,1,e)})),ja=Zn((function(t,e,r){return ln(t,ys(e)||0,r)}));function La(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(La.Cache||Xr),r}function Na(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}La.Cache=Xr;var Ra=mi((function(t,e){var r=(e=1==e.length&&Xa(e[0])?Ce(e[0],Ge(ao())):Ce(gn(e,1),Ge(ao()))).length;return Zn((function(n){for(var i=-1,o=yr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return ye(t,this,n)}))})),Da=Zn((function(t,e){var r=er(e,oo(Da));return qi(t,u,i,e,r)})),Ba=Zn((function(t,e){var r=er(e,oo(Ba));return qi(t,64,i,e,r)})),Fa=to((function(t,e){return qi(t,256,i,i,i,e)}));function Wa(t,e){return t===e||t!=t&&e!=e}var Ha=Yi(Cn),Ga=Yi((function(t,e){return t>=e})),Ya=Pn(function(){return arguments}())?Pn:function(t){return rs(t)&&It.call(t,"callee")&&!te.call(t,"callee")},Xa=n.isArray,Ua=he?Ge(he):function(t){return rs(t)&&Sn(t)==z};function Va(t){return null!=t&&ts(t.length)&&!Qa(t)}function Za(t){return rs(t)&&Va(t)}var qa=fr||yu,$a=fe?Ge(fe):function(t){return rs(t)&&Sn(t)==m};function Ka(t){if(!rs(t))return!1;var e=Sn(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function Qa(t){if(!es(t))return!1;var e=Sn(t);return e==w||e==b||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ja(t){return"number"==typeof t&&t==vs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function rs(t){return null!=t&&"object"==typeof t}var ns=pe?Ge(pe):function(t){return rs(t)&&fo(t)==x};function is(t){return"number"==typeof t||rs(t)&&Sn(t)==k}function os(t){if(!rs(t)||Sn(t)!=S)return!1;var e=Ut(t);if(null===e)return!0;var r=It.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Mt.call(r)==Rt}var as=de?Ge(de):function(t){return rs(t)&&Sn(t)==T},ss=ve?Ge(ve):function(t){return rs(t)&&fo(t)==O};function us(t){return"string"==typeof t||!Xa(t)&&rs(t)&&Sn(t)==E}function ls(t){return"symbol"==typeof t||rs(t)&&Sn(t)==A}var cs=ge?Ge(ge):function(t){return rs(t)&&ts(t.length)&&!!Qt[Sn(t)]},hs=Yi(Nn),fs=Yi((function(t,e){return t<=e}));function ps(t){if(!t)return[];if(Va(t))return us(t)?or(t):Oi(t);if(ae&&t[ae])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[ae]());var e=fo(t);return(e==x?Je:e==O?rr:Ws)(t)}function ds(t){return t?(t=ys(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vs(t){var e=ds(t),r=e%1;return e==e?r?e-r:e:0}function gs(t){return t?an(vs(t),0,p):0}function ys(t){if("number"==typeof t)return t;if(ls(t))return f;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=He(t);var r=dt.test(t);return r||gt.test(t)?re(t.slice(2),r?2:8):pt.test(t)?f:+t}function ms(t){return Ei(t,Is(t))}function _s(t){return null==t?"":si(t)}var ws=Pi((function(t,e){if(xo(e)||Va(e))Ei(e,Ms(e),t);else for(var r in e)It.call(e,r)&&Jr(t,r,e[r])})),bs=Pi((function(t,e){Ei(e,Is(e),t)})),xs=Pi((function(t,e,r,n){Ei(e,Is(e),t,n)})),ks=Pi((function(t,e,r,n){Ei(e,Ms(e),t,n)})),Ss=to(on),Cs=Zn((function(t,e){t=St(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&mo(e[0],e[1],o)&&(n=1);++r<n;)for(var a=e[r],s=Is(a),u=-1,l=s.length;++u<l;){var c=s[u],h=t[c];(h===i||Wa(h,Pt[c])&&!It.call(t,c))&&(t[c]=a[c])}return t})),Ts=Zn((function(t){return t.push(i,Ki),ye(Ls,i,t)}));function Os(t,e,r){var n=null==t?i:xn(t,e);return n===i?r:n}function Es(t,e){return null!=t&&po(t,e,On)}var As=Bi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=r}),eu(iu)),Ps=Bi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),It.call(t,e)?t[e].push(r):t[e]=[r]}),ao),zs=Zn(An);function Ms(t){return Va(t)?Zr(t):Ln(t)}function Is(t){return Va(t)?Zr(t,!0):function(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var r in St(t))e.push(r);return e}(t);var e=xo(t),r=[];for(var n in t)("constructor"!=n||!e&&It.call(t,n))&&r.push(n);return r}(t)}var js=Pi((function(t,e,r){Fn(t,e,r)})),Ls=Pi((function(t,e,r,n){Fn(t,e,r,n)})),Ns=to((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ce(e,(function(e){return e=yi(e,t),n||(n=e.length>1),e})),Ei(t,ro(t),r),n&&(r=sn(r,7,Qi));for(var i=e.length;i--;)li(r,e[i]);return r})),Rs=to((function(t,e){return null==t?{}:function(t,e){return Gn(t,e,(function(e,r){return Es(t,r)}))}(t,e)}));function Ds(t,e){if(null==t)return{};var r=Ce(ro(t),(function(t){return[t]}));return e=ao(e),Gn(t,r,(function(t,r){return e(t,r[0])}))}var Bs=Zi(Ms),Fs=Zi(Is);function Ws(t){return null==t?[]:Ye(t,Ms(t))}var Hs=ji((function(t,e,r){return e=e.toLowerCase(),t+(r?Gs(e):e)}));function Gs(t){return Ks(_s(t).toLowerCase())}function Ys(t){return(t=_s(t))&&t.replace(mt,qe).replace(Xt,"")}var Xs=ji((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Us=ji((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Vs=Ii("toLowerCase"),Zs=ji((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),qs=ji((function(t,e,r){return t+(r?" ":"")+Ks(e)})),$s=ji((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ks=Ii("toUpperCase");function Qs(t,e,r){return t=_s(t),(e=r?i:e)===i?function(t){return qt.test(t)}(t)?function(t){return t.match(Vt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Js=Zn((function(t,e){try{return ye(t,i,e)}catch(t){return Ka(t)?t:new bt(t)}})),tu=to((function(t,e){return _e(e,(function(e){e=Do(e),nn(t,e,Pa(t[e],t))})),t}));function eu(t){return function(){return t}}var ru=Ri(),nu=Ri(!0);function iu(t){return t}function ou(t){return jn("function"==typeof t?t:sn(t,1))}var au=Zn((function(t,e){return function(r){return An(r,t,e)}})),su=Zn((function(t,e){return function(r){return An(t,r,e)}}));function uu(t,e,r){var n=Ms(e),i=bn(e,n);null!=r||es(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=bn(e,Ms(e)));var o=!(es(r)&&"chain"in r&&!r.chain),a=Qa(t);return _e(i,(function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=Oi(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Te([this.value()],arguments))})})),t}function lu(){}var cu=Wi(Ce),hu=Wi(be),fu=Wi(Ae);function pu(t){return _o(t)?Re(Do(t)):function(t){return function(e){return xn(e,t)}}(t)}var du=Gi(),vu=Gi(!0);function gu(){return[]}function yu(){return!1}var mu,_u=Fi((function(t,e){return t+e}),0),wu=Ui("ceil"),bu=Fi((function(t,e){return t/e}),1),xu=Ui("floor"),ku=Fi((function(t,e){return t*e}),1),Su=Ui("round"),Cu=Fi((function(t,e){return t-e}),0);return Dr.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=vs(t),function(){if(--t<1)return e.apply(this,arguments)}},Dr.ary=Ea,Dr.assign=ws,Dr.assignIn=bs,Dr.assignInWith=xs,Dr.assignWith=ks,Dr.at=Ss,Dr.before=Aa,Dr.bind=Pa,Dr.bindAll=tu,Dr.bindKey=za,Dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Xa(t)?t:[t]},Dr.chain=pa,Dr.chunk=function(t,e,r){e=(r?mo(t,e,r):e===i)?1:gr(vs(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=n(lr(o/e));a<o;)u[s++]=ei(t,a,a+=e);return u},Dr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Dr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Te(Xa(r)?Oi(r):[r],gn(e,1))},Dr.cond=function(t){var e=null==t?0:t.length,r=ao();return t=e?Ce(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[r(t[0]),t[1]]})):[],Zn((function(r){for(var n=-1;++n<e;){var i=t[n];if(ye(i[0],this,r))return ye(i[1],this,r)}}))},Dr.conforms=function(t){return function(t){var e=Ms(t);return function(r){return un(r,t,e)}}(sn(t,1))},Dr.constant=eu,Dr.countBy=ga,Dr.create=function(t,e){var r=Br(t);return null==e?r:rn(r,e)},Dr.curry=function t(e,r,n){var o=qi(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Dr.curryRight=function t(e,r,n){var o=qi(e,16,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},Dr.debounce=Ma,Dr.defaults=Cs,Dr.defaultsDeep=Ts,Dr.defer=Ia,Dr.delay=ja,Dr.difference=Wo,Dr.differenceBy=Ho,Dr.differenceWith=Go,Dr.drop=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=r||e===i?1:vs(e))<0?0:e,n):[]},Dr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,0,(e=n-(e=r||e===i?1:vs(e)))<0?0:e):[]},Dr.dropRightWhile=function(t,e){return t&&t.length?hi(t,ao(e,3),!0,!0):[]},Dr.dropWhile=function(t,e){return t&&t.length?hi(t,ao(e,3),!0):[]},Dr.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&mo(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=vs(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:vs(n))<0&&(n+=o),n=r>n?0:gs(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},Dr.filter=function(t,e){return(Xa(t)?xe:vn)(t,ao(e,3))},Dr.flatMap=function(t,e){return gn(Sa(t,e),1)},Dr.flatMapDeep=function(t,e){return gn(Sa(t,e),c)},Dr.flatMapDepth=function(t,e,r){return r=r===i?1:vs(r),gn(Sa(t,e),r)},Dr.flatten=Uo,Dr.flattenDeep=function(t){return null!=t&&t.length?gn(t,c):[]},Dr.flattenDepth=function(t,e){return null!=t&&t.length?gn(t,e=e===i?1:vs(e)):[]},Dr.flip=function(t){return qi(t,512)},Dr.flow=ru,Dr.flowRight=nu,Dr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Dr.functions=function(t){return null==t?[]:bn(t,Ms(t))},Dr.functionsIn=function(t){return null==t?[]:bn(t,Is(t))},Dr.groupBy=ba,Dr.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Dr.intersection=Zo,Dr.intersectionBy=qo,Dr.intersectionWith=$o,Dr.invert=As,Dr.invertBy=Ps,Dr.invokeMap=xa,Dr.iteratee=ou,Dr.keyBy=ka,Dr.keys=Ms,Dr.keysIn=Is,Dr.map=Sa,Dr.mapKeys=function(t,e){var r={};return e=ao(e,3),_n(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Dr.mapValues=function(t,e){var r={};return e=ao(e,3),_n(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Dr.matches=function(t){return Dn(sn(t,1))},Dr.matchesProperty=function(t,e){return Bn(t,sn(e,1))},Dr.memoize=La,Dr.merge=js,Dr.mergeWith=Ls,Dr.method=au,Dr.methodOf=su,Dr.mixin=uu,Dr.negate=Na,Dr.nthArg=function(t){return t=vs(t),Zn((function(e){return Wn(e,t)}))},Dr.omit=Ns,Dr.omitBy=function(t,e){return Ds(t,Na(ao(e)))},Dr.once=function(t){return Aa(2,t)},Dr.orderBy=function(t,e,r,n){return null==t?[]:(Xa(e)||(e=null==e?[]:[e]),Xa(r=n?i:r)||(r=null==r?[]:[r]),Hn(t,e,r))},Dr.over=cu,Dr.overArgs=Ra,Dr.overEvery=hu,Dr.overSome=fu,Dr.partial=Da,Dr.partialRight=Ba,Dr.partition=Ca,Dr.pick=Rs,Dr.pickBy=Ds,Dr.property=pu,Dr.propertyOf=function(t){return function(e){return null==t?i:xn(t,e)}},Dr.pull=Qo,Dr.pullAll=Jo,Dr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Yn(t,e,ao(r,2)):t},Dr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Yn(t,e,i,r):t},Dr.pullAt=ta,Dr.range=du,Dr.rangeRight=vu,Dr.rearg=Fa,Dr.reject=function(t,e){return(Xa(t)?xe:vn)(t,Na(ao(e,3)))},Dr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=ao(e,3);++n<o;){var a=t[n];e(a,n,t)&&(r.push(a),i.push(n))}return Xn(t,i),r},Dr.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Zn(t,e=e===i?e:vs(e))},Dr.reverse=ea,Dr.sampleSize=function(t,e,r){return e=(r?mo(t,e,r):e===i)?1:vs(e),(Xa(t)?$r:$n)(t,e)},Dr.set=function(t,e,r){return null==t?t:Kn(t,e,r)},Dr.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:Kn(t,e,r,n)},Dr.shuffle=function(t){return(Xa(t)?Kr:ti)(t)},Dr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&mo(t,e,r)?(e=0,r=n):(e=null==e?0:vs(e),r=r===i?n:vs(r)),ei(t,e,r)):[]},Dr.sortBy=Ta,Dr.sortedUniq=function(t){return t&&t.length?oi(t):[]},Dr.sortedUniqBy=function(t,e){return t&&t.length?oi(t,ao(e,2)):[]},Dr.split=function(t,e,r){return r&&"number"!=typeof r&&mo(t,e,r)&&(e=r=i),(r=r===i?p:r>>>0)?(t=_s(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=si(e))&&Qe(t)?_i(or(t),0,r):t.split(e,r):[]},Dr.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:gr(vs(e),0),Zn((function(r){var n=r[e],i=_i(r,0,e);return n&&Te(i,n),ye(t,this,i)}))},Dr.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Dr.take=function(t,e,r){return t&&t.length?ei(t,0,(e=r||e===i?1:vs(e))<0?0:e):[]},Dr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ei(t,(e=n-(e=r||e===i?1:vs(e)))<0?0:e,n):[]},Dr.takeRightWhile=function(t,e){return t&&t.length?hi(t,ao(e,3),!1,!0):[]},Dr.takeWhile=function(t,e){return t&&t.length?hi(t,ao(e,3)):[]},Dr.tap=function(t,e){return e(t),t},Dr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Ot(o);return es(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ma(t,e,{leading:n,maxWait:e,trailing:i})},Dr.thru=da,Dr.toArray=ps,Dr.toPairs=Bs,Dr.toPairsIn=Fs,Dr.toPath=function(t){return Xa(t)?Ce(t,Do):ls(t)?[t]:Oi(Ro(_s(t)))},Dr.toPlainObject=ms,Dr.transform=function(t,e,r){var n=Xa(t),i=n||qa(t)||cs(t);if(e=ao(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:es(t)&&Qa(o)?Br(Ut(t)):{}}return(i?_e:_n)(t,(function(t,n,i){return e(r,t,n,i)})),r},Dr.unary=function(t){return Ea(t,1)},Dr.union=ra,Dr.unionBy=na,Dr.unionWith=ia,Dr.uniq=function(t){return t&&t.length?ui(t):[]},Dr.uniqBy=function(t,e){return t&&t.length?ui(t,ao(e,2)):[]},Dr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Dr.unset=function(t,e){return null==t||li(t,e)},Dr.unzip=oa,Dr.unzipWith=aa,Dr.update=function(t,e,r){return null==t?t:ci(t,e,gi(r))},Dr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:ci(t,e,gi(r),n)},Dr.values=Ws,Dr.valuesIn=function(t){return null==t?[]:Ye(t,Is(t))},Dr.without=sa,Dr.words=Qs,Dr.wrap=function(t,e){return Da(gi(e),t)},Dr.xor=ua,Dr.xorBy=la,Dr.xorWith=ca,Dr.zip=ha,Dr.zipObject=function(t,e){return di(t||[],e||[],Jr)},Dr.zipObjectDeep=function(t,e){return di(t||[],e||[],Kn)},Dr.zipWith=fa,Dr.entries=Bs,Dr.entriesIn=Fs,Dr.extend=bs,Dr.extendWith=xs,uu(Dr,Dr),Dr.add=_u,Dr.attempt=Js,Dr.camelCase=Hs,Dr.capitalize=Gs,Dr.ceil=wu,Dr.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ys(r))==r?r:0),e!==i&&(e=(e=ys(e))==e?e:0),an(ys(t),e,r)},Dr.clone=function(t){return sn(t,4)},Dr.cloneDeep=function(t){return sn(t,5)},Dr.cloneDeepWith=function(t,e){return sn(t,5,e="function"==typeof e?e:i)},Dr.cloneWith=function(t,e){return sn(t,4,e="function"==typeof e?e:i)},Dr.conformsTo=function(t,e){return null==e||un(t,e,Ms(e))},Dr.deburr=Ys,Dr.defaultTo=function(t,e){return null==t||t!=t?e:t},Dr.divide=bu,Dr.endsWith=function(t,e,r){t=_s(t),e=si(e);var n=t.length,o=r=r===i?n:an(vs(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},Dr.eq=Wa,Dr.escape=function(t){return(t=_s(t))&&Z.test(t)?t.replace(U,$e):t},Dr.escapeRegExp=function(t){return(t=_s(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Dr.every=function(t,e,r){var n=Xa(t)?be:pn;return r&&mo(t,e,r)&&(e=i),n(t,ao(e,3))},Dr.find=ya,Dr.findIndex=Yo,Dr.findKey=function(t,e){return ze(t,ao(e,3),_n)},Dr.findLast=ma,Dr.findLastIndex=Xo,Dr.findLastKey=function(t,e){return ze(t,ao(e,3),wn)},Dr.floor=xu,Dr.forEach=_a,Dr.forEachRight=wa,Dr.forIn=function(t,e){return null==t?t:yn(t,ao(e,3),Is)},Dr.forInRight=function(t,e){return null==t?t:mn(t,ao(e,3),Is)},Dr.forOwn=function(t,e){return t&&_n(t,ao(e,3))},Dr.forOwnRight=function(t,e){return t&&wn(t,ao(e,3))},Dr.get=Os,Dr.gt=Ha,Dr.gte=Ga,Dr.has=function(t,e){return null!=t&&po(t,e,Tn)},Dr.hasIn=Es,Dr.head=Vo,Dr.identity=iu,Dr.includes=function(t,e,r,n){t=Va(t)?t:Ws(t),r=r&&!n?vs(r):0;var i=t.length;return r<0&&(r=gr(i+r,0)),us(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Ie(t,e,r)>-1},Dr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:vs(r);return i<0&&(i=gr(n+i,0)),Ie(t,e,i)},Dr.inRange=function(t,e,r){return e=ds(e),r===i?(r=e,e=0):r=ds(r),function(t,e,r){return t>=yr(e,r)&&t<gr(e,r)}(t=ys(t),e,r)},Dr.invoke=zs,Dr.isArguments=Ya,Dr.isArray=Xa,Dr.isArrayBuffer=Ua,Dr.isArrayLike=Va,Dr.isArrayLikeObject=Za,Dr.isBoolean=function(t){return!0===t||!1===t||rs(t)&&Sn(t)==y},Dr.isBuffer=qa,Dr.isDate=$a,Dr.isElement=function(t){return rs(t)&&1===t.nodeType&&!os(t)},Dr.isEmpty=function(t){if(null==t)return!0;if(Va(t)&&(Xa(t)||"string"==typeof t||"function"==typeof t.splice||qa(t)||cs(t)||Ya(t)))return!t.length;var e=fo(t);if(e==x||e==O)return!t.size;if(xo(t))return!Ln(t).length;for(var r in t)if(It.call(t,r))return!1;return!0},Dr.isEqual=function(t,e){return zn(t,e)},Dr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?zn(t,e,i,r):!!n},Dr.isError=Ka,Dr.isFinite=function(t){return"number"==typeof t&&pr(t)},Dr.isFunction=Qa,Dr.isInteger=Ja,Dr.isLength=ts,Dr.isMap=ns,Dr.isMatch=function(t,e){return t===e||Mn(t,e,uo(e))},Dr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Mn(t,e,uo(e),r)},Dr.isNaN=function(t){return is(t)&&t!=+t},Dr.isNative=function(t){if(bo(t))throw new bt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(t)},Dr.isNil=function(t){return null==t},Dr.isNull=function(t){return null===t},Dr.isNumber=is,Dr.isObject=es,Dr.isObjectLike=rs,Dr.isPlainObject=os,Dr.isRegExp=as,Dr.isSafeInteger=function(t){return Ja(t)&&t>=-9007199254740991&&t<=h},Dr.isSet=ss,Dr.isString=us,Dr.isSymbol=ls,Dr.isTypedArray=cs,Dr.isUndefined=function(t){return t===i},Dr.isWeakMap=function(t){return rs(t)&&fo(t)==P},Dr.isWeakSet=function(t){return rs(t)&&"[object WeakSet]"==Sn(t)},Dr.join=function(t,e){return null==t?"":dr.call(t,e)},Dr.kebabCase=Xs,Dr.last=Ko,Dr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=vs(r))<0?gr(n+o,0):yr(o,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Me(t,Le,o,!0)},Dr.lowerCase=Us,Dr.lowerFirst=Vs,Dr.lt=hs,Dr.lte=fs,Dr.max=function(t){return t&&t.length?dn(t,iu,Cn):i},Dr.maxBy=function(t,e){return t&&t.length?dn(t,ao(e,2),Cn):i},Dr.mean=function(t){return Ne(t,iu)},Dr.meanBy=function(t,e){return Ne(t,ao(e,2))},Dr.min=function(t){return t&&t.length?dn(t,iu,Nn):i},Dr.minBy=function(t,e){return t&&t.length?dn(t,ao(e,2),Nn):i},Dr.stubArray=gu,Dr.stubFalse=yu,Dr.stubObject=function(){return{}},Dr.stubString=function(){return""},Dr.stubTrue=function(){return!0},Dr.multiply=ku,Dr.nth=function(t,e){return t&&t.length?Wn(t,vs(e)):i},Dr.noConflict=function(){return oe._===this&&(oe._=Dt),this},Dr.noop=lu,Dr.now=Oa,Dr.pad=function(t,e,r){t=_s(t);var n=(e=vs(e))?ir(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Hi(cr(i),r)+t+Hi(lr(i),r)},Dr.padEnd=function(t,e,r){t=_s(t);var n=(e=vs(e))?ir(t):0;return e&&n<e?t+Hi(e-n,r):t},Dr.padStart=function(t,e,r){t=_s(t);var n=(e=vs(e))?ir(t):0;return e&&n<e?Hi(e-n,r)+t:t},Dr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),_r(_s(t).replace(nt,""),e||0)},Dr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&mo(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ds(t),e===i?(e=t,t=0):e=ds(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=wr();return yr(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Un(t,e)},Dr.reduce=function(t,e,r){var n=Xa(t)?Oe:Be,i=arguments.length<3;return n(t,ao(e,4),r,i,hn)},Dr.reduceRight=function(t,e,r){var n=Xa(t)?Ee:Be,i=arguments.length<3;return n(t,ao(e,4),r,i,fn)},Dr.repeat=function(t,e,r){return e=(r?mo(t,e,r):e===i)?1:vs(e),Vn(_s(t),e)},Dr.replace=function(){var t=arguments,e=_s(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Dr.result=function(t,e,r){var n=-1,o=(e=yi(e,t)).length;for(o||(o=1,t=i);++n<o;){var a=null==t?i:t[Do(e[n])];a===i&&(n=o,a=r),t=Qa(a)?a.call(t):a}return t},Dr.round=Su,Dr.runInContext=t,Dr.sample=function(t){return(Xa(t)?qr:qn)(t)},Dr.size=function(t){if(null==t)return 0;if(Va(t))return us(t)?ir(t):t.length;var e=fo(t);return e==x||e==O?t.size:Ln(t).length},Dr.snakeCase=Zs,Dr.some=function(t,e,r){var n=Xa(t)?Ae:ri;return r&&mo(t,e,r)&&(e=i),n(t,ao(e,3))},Dr.sortedIndex=function(t,e){return ni(t,e)},Dr.sortedIndexBy=function(t,e,r){return ii(t,e,ao(r,2))},Dr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ni(t,e);if(n<r&&Wa(t[n],e))return n}return-1},Dr.sortedLastIndex=function(t,e){return ni(t,e,!0)},Dr.sortedLastIndexBy=function(t,e,r){return ii(t,e,ao(r,2),!0)},Dr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ni(t,e,!0)-1;if(Wa(t[r],e))return r}return-1},Dr.startCase=qs,Dr.startsWith=function(t,e,r){return t=_s(t),r=null==r?0:an(vs(r),0,t.length),e=si(e),t.slice(r,r+e.length)==e},Dr.subtract=Cu,Dr.sum=function(t){return t&&t.length?Fe(t,iu):0},Dr.sumBy=function(t,e){return t&&t.length?Fe(t,ao(e,2)):0},Dr.template=function(t,e,r){var n=Dr.templateSettings;r&&mo(t,e,r)&&(e=i),t=_s(t),e=xs({},e,n,$i);var o,a,s=xs({},e.imports,n.imports,$i),u=Ms(s),l=Ye(s,u),c=0,h=e.interpolate||_t,f="__p += '",p=Ct((e.escape||_t).source+"|"+h.source+"|"+(h===K?ht:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),d="//# sourceURL="+(It.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kt+"]")+"\n";t.replace(p,(function(e,r,n,i,s,u){return n||(n=i),f+=t.slice(c,u).replace(wt,Ke),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var v=It.call(e,"variable")&&e.variable;if(v){if(lt.test(v))throw new bt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(H,""):f).replace(G,"$1").replace(Y,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Js((function(){return xt(u,d+"return "+f).apply(i,l)}));if(g.source=f,Ka(g))throw g;return g},Dr.times=function(t,e){if((t=vs(t))<1||t>h)return[];var r=p,n=yr(t,p);e=ao(e),t-=p;for(var i=We(n,e);++r<t;)e(r);return i},Dr.toFinite=ds,Dr.toInteger=vs,Dr.toLength=gs,Dr.toLower=function(t){return _s(t).toLowerCase()},Dr.toNumber=ys,Dr.toSafeInteger=function(t){return t?an(vs(t),-9007199254740991,h):0===t?t:0},Dr.toString=_s,Dr.toUpper=function(t){return _s(t).toUpperCase()},Dr.trim=function(t,e,r){if((t=_s(t))&&(r||e===i))return He(t);if(!t||!(e=si(e)))return t;var n=or(t),o=or(e);return _i(n,Ue(n,o),Ve(n,o)+1).join("")},Dr.trimEnd=function(t,e,r){if((t=_s(t))&&(r||e===i))return t.slice(0,ar(t)+1);if(!t||!(e=si(e)))return t;var n=or(t);return _i(n,0,Ve(n,or(e))+1).join("")},Dr.trimStart=function(t,e,r){if((t=_s(t))&&(r||e===i))return t.replace(nt,"");if(!t||!(e=si(e)))return t;var n=or(t);return _i(n,Ue(n,or(e))).join("")},Dr.truncate=function(t,e){var r=30,n="...";if(es(e)){var o="separator"in e?e.separator:o;r="length"in e?vs(e.length):r,n="omission"in e?si(e.omission):n}var a=(t=_s(t)).length;if(Qe(t)){var s=or(t);a=s.length}if(r>=a)return t;var u=r-ir(n);if(u<1)return n;var l=s?_i(s,0,u).join(""):t.slice(0,u);if(o===i)return l+n;if(s&&(u+=l.length-u),as(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=Ct(o.source,_s(ft.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(t.indexOf(si(o),u)!=u){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+n},Dr.unescape=function(t){return(t=_s(t))&&V.test(t)?t.replace(X,sr):t},Dr.uniqueId=function(t){var e=++jt;return _s(t)+e},Dr.upperCase=$s,Dr.upperFirst=Ks,Dr.each=_a,Dr.eachRight=wa,Dr.first=Vo,uu(Dr,(mu={},_n(Dr,(function(t,e){It.call(Dr.prototype,e)||(mu[e]=t)})),mu),{chain:!1}),Dr.VERSION="4.17.21",_e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Dr[t].placeholder=Dr})),_e(["drop","take"],(function(t,e){Hr.prototype[t]=function(r){r=r===i?1:gr(vs(r),0);var n=this.__filtered__&&!e?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,p),type:t+(n.__dir__<0?"Right":"")}),n},Hr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_e(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Hr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ao(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),_e(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Hr.prototype[t]=function(){return this[r](1).value()[0]}})),_e(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Hr.prototype[t]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(iu)},Hr.prototype.find=function(t){return this.filter(t).head()},Hr.prototype.findLast=function(t){return this.reverse().find(t)},Hr.prototype.invokeMap=Zn((function(t,e){return"function"==typeof t?new Hr(this):this.map((function(r){return An(r,t,e)}))})),Hr.prototype.reject=function(t){return this.filter(Na(ao(t)))},Hr.prototype.slice=function(t,e){t=vs(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Hr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=vs(e))<0?r.dropRight(-e):r.take(e-t)),r)},Hr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hr.prototype.toArray=function(){return this.take(p)},_n(Hr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Dr[n?"take"+("last"==e?"Right":""):e],a=n||/^find/.test(e);o&&(Dr.prototype[e]=function(){var e=this.__wrapped__,s=n?[1]:arguments,u=e instanceof Hr,l=s[0],c=u||Xa(e),h=function(t){var e=o.apply(Dr,Te([t],s));return n&&f?e[0]:e};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=a&&!f,v=u&&!p;if(!a&&c){e=v?e:new Hr(this);var g=t.apply(e,s);return g.__actions__.push({func:da,args:[h],thisArg:i}),new Wr(g,f)}return d&&v?t.apply(this,s):(g=this.thru(h),d?n?g.value()[0]:g.value():g)})})),_e(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Et[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Dr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Xa(i)?i:[],t)}return this[r]((function(r){return e.apply(Xa(r)?r:[],t)}))}})),_n(Hr.prototype,(function(t,e){var r=Dr[e];if(r){var n=r.name+"";It.call(Ar,n)||(Ar[n]=[]),Ar[n].push({name:e,func:r})}})),Ar[Di(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var t=new Hr(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Hr.prototype.reverse=function(){if(this.__filtered__){var t=new Hr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Xa(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=yr(e,t+a);break;case"takeRight":t=gr(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,h=c.length,f=0,p=yr(u,this.__takeCount__);if(!r||!n&&i==u&&p==u)return fi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,g=t[l+=e];++v<h;){var y=c[v],m=y.iteratee,_=y.type,w=m(g);if(2==_)g=w;else if(!w){if(1==_)continue t;break t}}d[f++]=g}return d},Dr.prototype.at=va,Dr.prototype.chain=function(){return pa(this)},Dr.prototype.commit=function(){return new Wr(this.value(),this.__chain__)},Dr.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Dr.prototype.plant=function(t){for(var e,r=this;r instanceof Fr;){var n=Fo(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},Dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hr){var e=t;return this.__actions__.length&&(e=new Hr(this)),(e=e.reverse()).__actions__.push({func:da,args:[ea],thisArg:i}),new Wr(e,this.__chain__)}return this.thru(ea)},Dr.prototype.toJSON=Dr.prototype.valueOf=Dr.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Dr.prototype.first=Dr.prototype.head,ae&&(Dr.prototype[ae]=function(){return this}),Dr}();oe._=ur,(n=function(){return ur}.call(e,r,e,t))===i||(t.exports=n)}.call(this)}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}function i(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}r(2526),r(5003),r(9337),r(9826),r(7327),r(4916),r(3123),r(9601),r(4747),r(561),r(4553),r(2222),r(7941),r(9653);var l=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},c=new function(){this.browser=new l,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(c.wxa=!0,c.canvasSupported=!0,c.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(c.worker=!0,c.canvasSupported=!0):"undefined"==typeof navigator?(c.node=!0,c.canvasSupported=!0,c.svgSupported=!0):function(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1],r.newEdge=+o[1].split(".")[0]>18),a&&(r.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}(navigator.userAgent,c);const h=c;var f={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},p={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},d=Object.prototype.toString,v=Array.prototype,g=v.forEach,y=(v.filter,v.slice),m=v.map,_=function(){}.constructor,w=_?_.prototype:null,b="__proto__",x={},k=2311;function S(){return k++}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function T(t){if(null==t||"object"!=typeof t)return t;var e=t,r=d.call(t);if("[object Array]"===r){if(!X(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=T(t[n])}}else if(p[r]){if(!X(t)){var o=t.constructor;if(o.from)e=o.from(t);else for(e=new o(t.length),n=0,i=t.length;n<i;n++)e[n]=T(t[n])}}else if(!f[r]&&!X(t)&&!H(t))for(var a in e={},t)t.hasOwnProperty(a)&&a!==b&&(e[a]=T(t[a]));return e}function O(t,e,r){if(!F(e)||!F(t))return r?T(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==b){var i=t[n],o=e[n];!F(o)||!F(i)||D(o)||D(i)||H(o)||H(i)||W(o)||W(i)||X(o)||X(i)?!r&&n in t||(t[n]=T(e[n])):O(i,o,r)}return t}function E(t,e){for(var r=t[0],n=1,i=t.length;n<i;n++)r=O(r,t[n],e);return r}function A(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==b&&(t[r]=e[r]);return t}function P(t,e,r){for(var n=R(e),i=0;i<n.length;i++){var o=n[i];(r?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var z=function(){return x.createCanvas()};function M(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function I(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var o=n[i];"constructor"!==o&&(r?null!=e[o]:null==t[o])&&(t[o]=e[o])}else P(t,e,r)}function j(t){return!!t&&"string"!=typeof t&&"number"==typeof t.length}function L(t,e,r){if(t&&e)if(t.forEach&&t.forEach===g)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t)}function N(t,e,r){if(!t)return[];if(!e)return function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return y.apply(t,e)}(t);if(t.map&&t.map===m)return t.map(e,r);for(var n=[],i=0,o=t.length;i<o;i++)n.push(e.call(r,t[i],i,t));return n}function R(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function D(t){return Array.isArray?Array.isArray(t):"[object Array]"===d.call(t)}function B(t){return"string"==typeof t}function F(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function W(t){return!!f[d.call(t)]}function H(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function G(t,e){return null!=t?t:e}function Y(t,e,r){return null!=t?t:null!=e?e:r}x.createCanvas=function(){return document.createElement("canvas")},w&&"function"==typeof w.bind&&w.call.bind(w.bind);function X(t){return t.__ec_primitive__}function U(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&A(r,e),r}function V(){}!function(){function t(e){this.data={};var r=D(e);this.data={};var n=this;function i(t,e){r?n.set(t,e):n.set(e,t)}e instanceof t?e.each(i):e&&L(e,i)}t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var r in this.data)this.data.hasOwnProperty(r)&&t.call(e,this.data[r],r)},t.prototype.keys=function(){return R(this.data)},t.prototype.removeKey=function(t){delete this.data[t]}}();var Z=function(t,e){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Z(t,e)};function q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function $(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function K(t){return[t[0],t[1]]}function Q(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function J(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function tt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function et(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}Object.create,Object.create;var rt=et,nt=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function it(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function ot(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function at(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var st=function(t,e){this.target=t,this.topTarget=e&&e.topTarget};const ut=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new st(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,n=t.offsetY,i=r-this._x,o=n-this._y;this._x=r,this._y=n,e.drift(i,o,t),this.handler.dispatchToElement(new st(e,t),"drag",t.event);var a=this.handler.findHover(r,n,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new st(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new st(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new st(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new st(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}();var lt=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,r,n){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"==typeof e&&(n=r,r=e,e=null),!r||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),i[t]||(i[t]=[]);for(var a=0;a<i[t].length;a++)if(i[t][a].h===r)return this;var s={h:r,query:e,ctx:n||this,callAtLast:r.zrEventfulCallAtLast},u=i[t].length-1,l=i[t][u];return l&&l.callAtLast?i[t].splice(u,0,s):i[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var n=[],i=0,o=r[t].length;i<o;i++)r[t][i].h!==e&&n.push(r[t][i]);r[t]=n}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},t.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var n=this._$handlers[t],i=this._$eventProcessor;if(n)for(var o=e.length,a=n.length,s=0;s<a;s++){var u=n[s];if(!i||!i.filter||null==u.query||i.filter(t,u.query))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var n=this._$handlers[t],i=this._$eventProcessor;if(n)for(var o=e.length,a=e[o-1],s=n.length,u=0;u<s;u++){var l=n[u];if(!i||!i.filter||null==l.query||i.filter(t,l.query))switch(o){case 0:l.h.call(a);break;case 1:l.h.call(a,e[0]);break;case 2:l.h.call(a,e[0],e[1]);break;default:l.h.apply(a,e.slice(1,o-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}();const ct=lt;var ht=Math.log(2);function ft(t,e,r,n,i,o){var a=n+"-"+i,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var u=Math.round(Math.log((1<<s)-1&~i)/ht);return t[r][u]}for(var l=n|1<<r,c=r+1;n&1<<c;)c++;for(var h=0,f=0,p=0;f<s;f++){var d=1<<f;d&i||(h+=(p%2?-1:1)*t[r][f]*ft(t,e-1,c,l,i|d,o),p++)}return o[a]=h,h}function pt(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=ft(r,8,0,0,0,n);if(0!==i){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*ft(r,7,0===a?1:0,1<<a,1<<s,n)/i*e[a];return function(t,e,r){var n=e*o[6]+r*o[7]+1;t[0]=(e*o[0]+r*o[1]+o[2])/n,t[1]=(e*o[3]+r*o[4]+o[5])/n}}}function dt(t){return"CANVAS"===t.nodeName.toUpperCase()}var vt="undefined"!=typeof window&&!!window.addEventListener,gt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yt=[];function mt(t,e,r,n){return r=r||{},n||!h.canvasSupported?_t(t,e,r):h.browser.firefox&&h.browser.version<"39"&&null!=e.layerX&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):null!=e.offsetX?(r.zrX=e.offsetX,r.zrY=e.offsetY):_t(t,e,r),r}function _t(t,e,r){if(h.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(dt(t)){var o=t.getBoundingClientRect();return r.zrX=n-o.left,void(r.zrY=i-o.top)}if(function(t,e,r,n,i){if(e.getBoundingClientRect&&h.domSupported&&!dt(e)){var o=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),a=function(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,u=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[s]+":0",i[u]+":0",n[1-s]+":auto",i[1-u]+":auto",""].join("!important;"),t.appendChild(a),r.push(a)}return r}(e,o),s=function(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],o=e.srcCoords,a=[],s=[],u=!0,l=0;l<4;l++){var c=t[l].getBoundingClientRect(),h=2*l,f=c.left,p=c.top;a.push(f,p),u=u&&o&&f===o[h]&&p===o[h+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&i?i:(e.srcCoords=a,e[n]=r?pt(s,a):pt(a,s))}(a,o,i);if(s)return s(t,r,n),!0}return!1}(yt,t,n,i))return r.zrX=yt[0],void(r.zrY=yt[1])}r.zrX=r.zrY=0}function wt(t){return t||window.event}function bt(t,e,r){if(null!=(e=wt(e)).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var i="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];i&&mt(t,i,e,r)}else{mt(t,e,e,r);var o=function(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;return null==r||null==n?e:3*(0!==n?Math.abs(n):Math.abs(r))*(n>0?-1:n<0?1:r>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&gt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}var xt=vt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},kt=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,r){var n=t.touches;if(n){for(var i={points:[],touches:[],target:e,event:t},o=0,a=n.length;o<a;o++){var s=n[o],u=mt(r,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},t.prototype._recognize=function(t){for(var e in Ct)if(Ct.hasOwnProperty(e)){var r=Ct[e](this._track,t);if(r)return r}},t}();function St(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}var Ct={pinch:function(t,e){var r=t.length;if(r){var n,i=(t[r-1]||{}).points,o=(t[r-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=St(i)/St(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((n=i)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},Tt="silent";function Ot(){xt(this.event)}var Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return q(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ct),At=function(t,e){this.x=t,this.y=e},Pt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],zt=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o._hovered=new At(0,0),o.storage=e,o.painter=r,o.painterRoot=i,n=n||new Et,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new ut(o),o}return q(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(L(Pt,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,r=t.zrY,n=It(this,e,r),i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=n?new At(e,r):this.findHover(e,r),s=a.target,u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new At(0,0)},e.prototype.dispatch=function(t,e){var r=this[t];r&&r.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,r){var n=(t=t||{}).target;if(!n||!n.silent){for(var i="on"+e,o=function(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:Ot}}(e,t,r);n&&(n[i]&&(o.cancelBubble=!!n[i].call(n,o)),n.trigger(e,o),n=n.__hostTarget?n.__hostTarget:n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,r){for(var n=this.storage.getDisplayList(),i=new At(t,e),o=n.length-1;o>=0;o--){var a=void 0;if(n[o]!==r&&!n[o].ignore&&(a=Mt(n[o],t,e))&&(!i.topTarget&&(i.topTarget=n[o]),a!==Tt)){i.target=n[o];break}}return i},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new kt);var r=this._gestureMgr;"start"===e&&r.clear();var n=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&r.clear(),n){var i=n.type;t.gestureEvent=i;var o=new At;o.target=n.target,this.dispatchToElement(o,i,n.event)}},e}(ct);function Mt(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var a=n.getClipPath();if(a&&!a.contain(e,r))return!1;n.silent&&(i=!0)}n=n.__hostTarget||n.parent}return!i||Tt}return!1}function It(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}L(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){zt.prototype[t]=function(e){var r,n,i=e.zrX,o=e.zrY,a=It(this,i,o);if("mouseup"===t&&a||(n=(r=this.findHover(i,o)).target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||rt(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,t,e)}}));const jt=zt;function Lt(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;!function(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function Nt(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var o,a=t[n],s=e,u=n;s<u;)i(a,t[o=s+u>>>1])<0?u=o:s=o+1;var l=n-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function Rt(t,e,r,n,i,o){var a=0,s=0,u=1;if(o(t,e[r+i])>0){for(s=n-i;u<s&&o(t,e[r+i+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{for(s=i+1;u<s&&o(t,e[r+i-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[r+c])>0?a=c+1:u=c}return u}function Dt(t,e,r,n,i,o){var a=0,s=0,u=1;if(o(t,e[r+i])<0){for(s=i+1;u<s&&o(t,e[r+i-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}else{for(s=n-i;u<s&&o(t,e[r+i+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[r+c])<0?u=c:a=c+1}return u}var Bt=!1;function Ft(){Bt||(Bt=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Wt(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Ht=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Wt}return t.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var r=this._displayList;return!t&&r.length||this.updateDisplayList(e),r},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,n=0,i=e.length;n<i;n++)this._updateAndAddDisplayable(e[n],null,t);r.length=this._displayListLen,h.canvasSupported&&function(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var o=0;if(i<32)Nt(t,r,n,r+(o=Lt(t,r,n,e)),e);else{var a=function(t,e){var r,n,i=7,o=0;t.length;var a=[];function s(s){var u=r[s],l=n[s],c=r[s+1],h=n[s+1];n[s]=l+h,s===o-3&&(r[s+1]=r[s+2],n[s+1]=n[s+2]),o--;var f=Dt(t[c],t,u,l,0,e);u+=f,0!=(l-=f)&&0!==(h=Rt(t[u+l-1],t,c,h,h-1,e))&&(l<=h?function(r,n,o,s){var u=0;for(u=0;u<n;u++)a[u]=t[r+u];var l=0,c=o,h=r;if(t[h++]=t[c++],0!=--s)if(1!==n){for(var f,p,d,v=i;;){f=0,p=0,d=!1;do{if(e(t[c],a[l])<0){if(t[h++]=t[c++],p++,f=0,0==--s){d=!0;break}}else if(t[h++]=a[l++],f++,p=0,1==--n){d=!0;break}}while((f|p)<v);if(d)break;do{if(0!==(f=Dt(t[c],a,l,n,0,e))){for(u=0;u<f;u++)t[h+u]=a[l+u];if(h+=f,l+=f,(n-=f)<=1){d=!0;break}}if(t[h++]=t[c++],0==--s){d=!0;break}if(0!==(p=Rt(a[l],t,c,s,0,e))){for(u=0;u<p;u++)t[h+u]=t[c+u];if(h+=p,c+=p,0==(s-=p)){d=!0;break}}if(t[h++]=a[l++],1==--n){d=!0;break}v--}while(f>=7||p>=7);if(d)break;v<0&&(v=0),v+=2}if((i=v)<1&&(i=1),1===n){for(u=0;u<s;u++)t[h+u]=t[c+u];t[h+s]=a[l]}else{if(0===n)throw new Error;for(u=0;u<n;u++)t[h+u]=a[l+u]}}else{for(u=0;u<s;u++)t[h+u]=t[c+u];t[h+s]=a[l]}else for(u=0;u<n;u++)t[h+u]=a[l+u]}(u,l,c,h):function(r,n,o,s){var u=0;for(u=0;u<s;u++)a[u]=t[o+u];var l=r+n-1,c=s-1,h=o+s-1,f=0,p=0;if(t[h--]=t[l--],0!=--n)if(1!==s){for(var d=i;;){var v=0,g=0,y=!1;do{if(e(a[c],t[l])<0){if(t[h--]=t[l--],v++,g=0,0==--n){y=!0;break}}else if(t[h--]=a[c--],g++,v=0,1==--s){y=!0;break}}while((v|g)<d);if(y)break;do{if(0!=(v=n-Dt(a[c],t,r,n,n-1,e))){for(n-=v,p=1+(h-=v),f=1+(l-=v),u=v-1;u>=0;u--)t[p+u]=t[f+u];if(0===n){y=!0;break}}if(t[h--]=a[c--],1==--s){y=!0;break}if(0!=(g=s-Rt(t[l],a,0,s,s-1,e))){for(s-=g,p=1+(h-=g),f=1+(c-=g),u=0;u<g;u++)t[p+u]=a[f+u];if(s<=1){y=!0;break}}if(t[h--]=t[l--],0==--n){y=!0;break}d--}while(v>=7||g>=7);if(y)break;d<0&&(d=0),d+=2}if((i=d)<1&&(i=1),1===s){for(p=1+(h-=n),f=1+(l-=n),u=n-1;u>=0;u--)t[p+u]=t[f+u];t[h]=a[c]}else{if(0===s)throw new Error;for(f=h-(s-1),u=0;u<s;u++)t[f+u]=a[u]}}else{for(p=1+(h-=n),f=1+(l-=n),u=n-1;u>=0;u--)t[p+u]=t[f+u];t[h]=a[c]}else for(f=h-(s-1),u=0;u<s;u++)t[f+u]=a[u]}(u,l,c,h))}return r=[],n=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;s(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&n[t-1]<n[t+1]&&t--,s(t)}},pushRun:function(t,e){r[o]=t,n[o]=e,o+=1}}}(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(i);do{if((o=Lt(t,r,n,e))<s){var u=i;u>s&&(u=s),Nt(t,r,r+u,r+o,e),o=u}a.pushRun(r,o),a.mergeRuns(),i-=o,r+=o}while(0!==i);a.forceMergeRuns()}}}(r,Wt)},t.prototype._updateAndAddDisplayable=function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.getClipPath();if(t.ignoreClip)e=null;else if(n){e=e?e.slice():[];for(var i=n,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var u=a[s];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,e,r)}t.__dirty=0}else{var l=t;e&&e.length?l.__clipPaths=e:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(Ft(),l.z=0),isNaN(l.z2)&&(Ft(),l.z2=0),isNaN(l.zlevel)&&(Ft(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,r);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,r);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,e,r)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,r=t.length;e<r;e++)this.delRoot(t[e]);else{var n=M(this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();const Gt=Ht,Yt="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Xt={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Xt.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Xt.bounceIn(2*t):.5*Xt.bounceOut(2*t-1)+.5}};const Ut=Xt;var Vt=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var r=(t-this._startTime-this._pausedTime)/this._life;r<0&&(r=0),r=Math.min(r,1);var n=this.easing,i="string"==typeof n?Ut[n]:n,o="function"==typeof i?i(r):r;if(this.onframe&&this.onframe(o),1===r){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}();const Zt=Vt;var qt=function(t){this.value=t},$t=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new qt(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Kt=function(){function t(t){this._list=new $t,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var r=this._list,n=this._map,i=null;if(null==n[t]){var o=r.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=r.head;r.remove(s),delete n[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new qt(e),a.key=t,r.insertEntry(a),n[t]=a}return i},t.prototype.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();const Qt=Kt;var Jt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function te(t){return(t=Math.round(t))<0?0:t>255?255:t}function ee(t){return t<0?0:t>1?1:t}function re(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?te(parseFloat(e)/100*255):te(parseInt(e,10))}function ne(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?ee(parseFloat(e)/100):ee(parseFloat(e))}function ie(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function oe(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function ae(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var se=new Qt(20),ue=null;function le(t,e){ue&&ae(ue,e),ue=se.put(t,ue||e.slice())}function ce(t,e){if(t){e=e||[];var r=se.get(t);if(r)return ae(e,r);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in Jt)return ae(e,Jt[n]),le(t,e),e;var i,o=n.length;if("#"===n.charAt(0))return 4===o||5===o?(i=parseInt(n.slice(1,4),16))>=0&&i<=4095?(oe(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,5===o?parseInt(n.slice(4),16)/15:1),le(t,e),e):void oe(e,0,0,0,1):7===o||9===o?(i=parseInt(n.slice(1,7),16))>=0&&i<=16777215?(oe(e,(16711680&i)>>16,(65280&i)>>8,255&i,9===o?parseInt(n.slice(7),16)/255:1),le(t,e),e):void oe(e,0,0,0,1):void 0;var a=n.indexOf("("),s=n.indexOf(")");if(-1!==a&&s+1===o){var u=n.substr(0,a),l=n.substr(a+1,s-(a+1)).split(","),c=1;switch(u){case"rgba":if(4!==l.length)return 3===l.length?oe(e,+l[0],+l[1],+l[2],1):oe(e,0,0,0,1);c=ne(l.pop());case"rgb":return 3!==l.length?void oe(e,0,0,0,1):(oe(e,re(l[0]),re(l[1]),re(l[2]),c),le(t,e),e);case"hsla":return 4!==l.length?void oe(e,0,0,0,1):(l[3]=ne(l[3]),he(l,e),le(t,e),e);case"hsl":return 3!==l.length?void oe(e,0,0,0,1):(he(l,e),le(t,e),e);default:return}}oe(e,0,0,0,1)}}function he(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=ne(t[1]),i=ne(t[2]),o=i<=.5?i*(n+1):i+n-i*n,a=2*i-o;return oe(e=e||[],te(255*ie(a,o,r+1/3)),te(255*ie(a,o,r)),te(255*ie(a,o,r-1/3)),1),4===t.length&&(e[3]=t[3]),e}function fe(t,e){var r=ce(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var pe=Array.prototype.slice;function de(t,e,r){return(e-t)*r+t}function ve(t,e,r,n){for(var i=e.length,o=0;o<i;o++)t[o]=de(e[o],r[o],n)}function ge(t,e,r,n){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+r[o]*n;return t}function ye(t,e,r,n){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+r[a][s]*n}return t}function me(t,e,r){var n=t,i=e;if(n.push&&i.push){var o=n.length,a=i.length;if(o!==a)if(o>a)n.length=a;else for(var s=o;s<a;s++)n.push(1===r?i[s]:pe.call(i[s]));var u=n[0]&&n[0].length;for(s=0;s<n.length;s++)if(1===r)isNaN(n[s])&&(n[s]=i[s]);else for(var l=0;l<u;l++)isNaN(n[s][l])&&(n[s][l]=i[s][l])}}function _e(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function we(t,e,r,n,i,o,a){var s=.5*(r-t),u=.5*(n-e);return(2*(e-r)+s+u)*a+(-3*(e-r)-2*s-u)*o+s*i+e}function be(t,e,r,n,i,o,a,s){for(var u=e.length,l=0;l<u;l++)t[l]=we(e[l],r[l],n[l],i[l],o,a,s)}function xe(t){if(j(t)){var e=t.length;if(j(t[0])){for(var r=[],n=0;n<e;n++)r.push(pe.call(t[n]));return r}return pe.call(t)}return t}function ke(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var Se=[0,0,0,0],Ce=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var r=this.keyframes,n=r.length;if(this.interpolable)if(j(e)){var i=function(t){return j(t&&t[0])?2:1}(e);if(n>0&&this.arrDim!==i)return void(this.interpolable=!1);if(1===i&&"number"!=typeof e[0]||2===i&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(n>0){var o=r[n-1];this._isAllValueEqual&&(1===i&&_e(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=i}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var a=ce(e);a?(e=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e||isNaN(e))return void(this.interpolable=!1);this._isAllValueEqual&&n>0&&(o=r[n-1],(this.isValueColor&&!_e(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1))}var s={time:t,value:e,percent:0};return this.keyframes.push(s),s},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var r=this.arrDim,n=e.length,i=e[n-1],o=0;o<n;o++)e[o].percent=e[o].time/this.maxTime,r>0&&o!==n-1&&me(e[o].value,i.value,r);if(t&&this.needsAnimate()&&t.needsAnimate()&&r===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var a=e[0].value;for(o=0;o<n;o++)0===r?this.isValueColor?e[o].additiveValue=ge([],e[o].value,a,-1):e[o].additiveValue=e[o].value-a:1===r?e[o].additiveValue=ge([],e[o].value,a,-1):2===r&&(e[o].additiveValue=ye([],e[o].value,a,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r,n=null!=this._additiveTrack,i=n?"additiveValue":"value",o=this.keyframes,a=this.keyframes.length,s=this.propName,u=this.arrDim,l=this.isValueColor;if(e<0)r=0;else if(e<this._lastFramePercent){for(r=Math.min(this._lastFrame+1,a-1);r>=0&&!(o[r].percent<=e);r--);r=Math.min(r,a-2)}else{for(r=this._lastFrame;r<a&&!(o[r].percent>e);r++);r=Math.min(r-1,a-2)}var c=o[r+1],h=o[r];if(h&&c){this._lastFrame=r,this._lastFramePercent=e;var f=c.percent-h.percent;if(0!==f){var p=(e-h.percent)/f,d=n?this._additiveValue:l?Se:t[s];if((u>0||l)&&!d&&(d=this._additiveValue=[]),this.useSpline){var v=o[r][i],g=o[0===r?r:r-1][i],y=o[r>a-2?a-1:r+1][i],m=o[r>a-3?a-1:r+2][i];if(u>0)1===u?be(d,g,v,y,m,p,p*p,p*p*p):function(t,e,r,n,i,o,a,s){for(var u=e.length,l=e[0].length,c=0;c<u;c++){t[c]||(t[1]=[]);for(var h=0;h<l;h++)t[c][h]=we(e[c][h],r[c][h],n[c][h],i[c][h],o,a,s)}}(d,g,v,y,m,p,p*p,p*p*p);else if(l)be(d,g,v,y,m,p,p*p,p*p*p),n||(t[s]=ke(d));else{var _=void 0;_=this.interpolable?we(g,v,y,m,p,p*p,p*p*p):y,n?this._additiveValue=_:t[s]=_}}else u>0?1===u?ve(d,h[i],c[i],p):function(t,e,r,n){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=de(e[a][s],r[a][s],n)}}(d,h[i],c[i],p):l?(ve(d,h[i],c[i],p),n||(t[s]=ke(d))):(_=void 0,_=this.interpolable?de(h[i],c[i],p):function(t,e,r){return r>.5?e:t}(h[i],c[i],p),n?this._additiveValue=_:t[s]=_);n&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,r=this.propName,n=this._additiveValue;0===e?this.isValueColor?(ce(t[r],Se),ge(Se,Se,n,1),t[r]=ke(Se)):t[r]=t[r]+n:1===e?ge(t[r],t[r],n,1):2===e&&ye(t[r],t[r],n,1)},t}(),Te=function(){function t(t,e,r){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?C("Can' use additive animation on looped animation."):this._additiveAnimators=r}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,R(e))},t.prototype.whenWithKeys=function(t,e,r){for(var n=this._tracks,i=0;i<r.length;i++){var o=r[i],a=n[o];if(!a){a=n[o]=new Ce(o);var s=void 0,u=this._getAdditiveTrack(o);if(u){var l=u.keyframes[u.keyframes.length-1];s=l&&l.value,u.isValueColor&&s&&(s=ke(s))}else s=this._target[o];if(null==s)continue;0!==t&&a.addKeyframe(0,xe(s)),this._trackKeys.push(o)}a.addKeyframe(t,xe(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,r=0;r<e;r++)t[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var r=0;r<e.length;r++)e[r].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,r=0;r<e.length;r++)t[e[r]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,r=this._additiveAnimators;if(r)for(var n=0;n<r.length;n++){var i=r[n].getTrack(t);i&&(e=i)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],a=this._tracks[o],s=this._getAdditiveTrack(o),u=a.keyframes;if(a.prepare(s),a.needsAnimate())n.push(a);else if(!a.interpolable){var l=u[u.length-1];l&&(r._target[a.propName]=l.value)}}if(n.length||e){var c=new Zt({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){r._started=2;var e=r._additiveAnimators;if(e){for(var i=!1,o=0;o<e.length;o++)if(e[o]._clip){i=!0;break}i||(r._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(r._target,t);var a=r._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](r._target,t)},ondestroy:function(){r._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&"spline"!==t&&(c.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var r=this._tracks,n=this._trackKeys,i=0;i<t.length;i++){var o=r[t[i]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(i=0;i<n.length;i++)if(!r[n[i]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var n=e[r],i=this._tracks[n];if(i&&!i.isFinished()){var o=i.keyframes,a=o[o.length-1];if(a){var s=xe(a.value);i.isValueColor&&(s=ke(s)),t[n]=s}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||R(t);for(var r=0;r<e.length;r++){var n=e[r],i=this._tracks[n];if(i){var o=i.keyframes;if(o.length>1){var a=o.pop();i.addKeyframe(a.time,t[n]),i.prepare(i.getAdditiveTrack())}}}},t}();const Oe=Te;const Ee=function(t){function e(e){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,e=e||{},r.stage=e.stage||{},r.onframe=e.onframe||function(){},r}return q(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,r=t.next;e?e.next=r:this._clipsHead=r,r?r.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=(new Date).getTime()-this._pausedTime,r=e-this._time,n=this._clipsHead;n;){var i=n.next;n.step(e,r)?(n.ondestroy&&n.ondestroy(),this.removeClip(n),n=i):n=i}this._time=e,t||(this.onframe(r),this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Yt((function e(){t._running&&(Yt(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._clipsHead;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var r=new Oe(t,e.loop);return this.addAnimator(r),r},e}(ct);var Ae,Pe,ze=h.domSupported,Me=(Pe={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Ae=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:N(Ae,(function(t){var e=t.replace("mouse","pointer");return Pe.hasOwnProperty(e)?e:t}))}),Ie=["mousemove","mouseup"],je=["pointermove","pointerup"],Le=!1;function Ne(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Re(t){t&&(t.zrByTouch=!0)}function De(t,e){for(var r=e,n=!1;r&&9!==r.nodeType&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var Be=function(t,e){this.stopPropagation=V,this.stopImmediatePropagation=V,this.preventDefault=V,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Fe={mousedown:function(t){t=bt(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=bt(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=bt(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){De(this,(t=bt(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Le=!0,t=bt(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Le||(t=bt(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){Re(t=bt(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Fe.mousemove.call(this,t),Fe.mousedown.call(this,t)},touchmove:function(t){Re(t=bt(this.dom,t)),this.handler.processGesture(t,"change"),Fe.mousemove.call(this,t)},touchend:function(t){Re(t=bt(this.dom,t)),this.handler.processGesture(t,"end"),Fe.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&Fe.click.call(this,t)},pointerdown:function(t){Fe.mousedown.call(this,t)},pointermove:function(t){Ne(t)||Fe.mousemove.call(this,t)},pointerup:function(t){Fe.mouseup.call(this,t)},pointerout:function(t){Ne(t)||Fe.mouseout.call(this,t)}};L(["click","dblclick","contextmenu"],(function(t){Fe[t]=function(e){e=bt(this.dom,e),this.trigger(t,e)}}));var We={pointermove:function(t){Ne(t)||We.mousemove.call(this,t)},pointerup:function(t){We.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function He(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,function(t,e,r,n){vt?t.addEventListener(e,r,n):t.attachEvent("on"+e,r)}(t.domTarget,e,r,n)}function Ge(t){var e,r,n,i,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,r=a,n=o[a],i=t.listenerOpts[a],vt?e.removeEventListener(r,n,i):e.detachEvent("on"+r,n));t.mounted={}}var Ye=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e};const Xe=function(t){function e(e,r){var n,i,o,a=t.call(this)||this;return a.__pointerCapturing=!1,a.dom=e,a.painterRoot=r,a._localHandlerScope=new Ye(e,Fe),ze&&(a._globalHandlerScope=new Ye(document,We)),n=a,i=a._localHandlerScope,o=i.domHandlers,h.pointerEventsSupported?L(Me.pointer,(function(t){He(i,t,(function(e){o[t].call(n,e)}))})):(h.touchEventsSupported&&L(Me.touch,(function(t){He(i,t,(function(e){o[t].call(n,e),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(i)}))})),L(Me.mouse,(function(t){He(i,t,(function(e){e=wt(e),i.touching||o[t].call(n,e)}))}))),a}return q(e,t),e.prototype.dispose=function(){Ge(this._localHandlerScope),ze&&Ge(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,ze&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?function(t,e){function r(r){He(e,r,(function(n){n=wt(n),De(t,n.target)||(n=function(t,e){return bt(t.dom,new Be(t,e),!0)}(t,n),e.domHandlers[r].call(t,n))}),{capture:!0})}h.pointerEventsSupported?L(je,r):h.touchEventsSupported||L(Ie,r)}(this,e):Ge(e)}},e}(ct);var Ue=1;"undefined"!=typeof window&&(Ue=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ve=Ue,Ze="#333",qe="#ccc";function $e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ke(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],o=e[0]*r[2]+e[2]*r[3],a=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t}function Qe(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Je(t,e){var r=e[0],n=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=r*a-o*n;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-a*i)*u,t[5]=(o*i-r*s)*u,t):null}function tr(t){var e=[1,0,0,1,0,0];return $e(e,t),e}var er=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t};function rr(t){return t>5e-5||t<-5e-5}var nr=[],ir=[],or=[1,0,0,1,0,0],ar=Math.abs,sr=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return rr(this.rotation)||rr(this.x)||rr(this.y)||rr(this.scaleX-1)||rr(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),r=this.transform;e||t?(r=r||[1,0,0,1,0,0],e?this.getLocalTransform(r):er(r),t&&(e?Ke(r,t,r):$e(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&er(r)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(nr);var r=nr[0]<0?-1:1,n=nr[1]<0?-1:1,i=((nr[0]-r)*e+r)/nr[0]||0,o=((nr[1]-n)*e+n)/nr[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Je(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],n=Math.atan2(t[1],t[0]),i=Math.PI/2+n-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(i),e=Math.sqrt(e),this.skewX=i,this.skewY=0,this.rotation=-n,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Ke(ir,t.invTransform,e),e=ir);var r=this.originX,n=this.originY;(r||n)&&(or[4]=r,or[5]=n,Ke(ir,e,or),ir[4]-=r,ir[5]-=n,e=ir),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var r=[t,e],n=this.invTransform;return n&&it(r,r,n),r},t.prototype.transformCoordToGlobal=function(t,e){var r=[t,e],n=this.transform;return n&&it(r,r,n),r},t.prototype.getLineScale=function(){var t=this.transform;return t&&ar(t[0]-1)>1e-10&&ar(t[3]-1)>1e-10?Math.sqrt(ar(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){for(var e=0;e<ur.length;e++){var r=ur[e];this[r]=t[r]}},t.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0,n=t.originY||0,i=t.scaleX,o=t.scaleY,a=t.rotation||0,s=t.x,u=t.y,l=t.skewX?Math.tan(t.skewX):0,c=t.skewY?Math.tan(-t.skewY):0;return r||n?(e[4]=-r*i-l*n*o,e[5]=-n*o-c*r*i):e[4]=e[5]=0,e[0]=i,e[3]=o,e[1]=c*i,e[2]=l*o,a&&function(t,e,r){var n=e[0],i=e[2],o=e[4],a=e[1],s=e[3],u=e[5],l=Math.sin(r),c=Math.cos(r);t[0]=n*c+a*l,t[1]=-n*l+a*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*o+l*u,t[5]=c*u-l*o}(e,e,a),e[4]+=r+s,e[5]+=n+u,e},t.initDefaultProps=((e=t.prototype).x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.skewX=0,e.skewY=0,e.rotation=0,void(e.globalScaleRatio=1)),t}(),ur=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"];const lr=sr;var cr=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,r=this.y;return this.x=t[0]*e+t[2]*r+t[4],this.y=t[1]*e+t[3]*r+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,r){t.x=e,t.y=r},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,r){t.x=e.x+r.x,t.y=e.y+r.y},t.sub=function(t,e,r){t.x=e.x-r.x,t.y=e.y-r.y},t.scale=function(t,e,r){t.x=e.x*r,t.y=e.y*r},t.scaleAndAdd=function(t,e,r,n){t.x=e.x+r.x*n,t.y=e.y+r.y*n},t.lerp=function(t,e,r,n){var i=1-n;t.x=i*e.x+n*r.x,t.y=i*e.y+n*r.y},t}();const hr=cr;var fr=Math.min,pr=Math.max,dr=new hr,vr=new hr,gr=new hr,yr=new hr,mr=new hr,_r=new hr,wr=function(){function t(t,e,r,n){r<0&&(t+=r,r=-r),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=r,this.height=n}return t.prototype.union=function(t){var e=fr(t.x,this.x),r=fr(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=pr(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=pr(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=e,this.y=r},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,r=t.width/e.width,n=t.height/e.height,i=[1,0,0,1,0,0];return Qe(i,i,[-e.x,-e.y]),function(t,e,r){var n=r[0],i=r[1];t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i}(i,i,[r,n]),Qe(i,i,[t.x,t.y]),i},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,o=n.x+n.width,a=n.y,s=n.y+n.height,u=e.x,l=e.x+e.width,c=e.y,h=e.y+e.height,f=!(o<u||l<i||s<c||h<a);if(r){var p=1/0,d=0,v=Math.abs(o-u),g=Math.abs(l-i),y=Math.abs(s-c),m=Math.abs(h-a),_=Math.min(v,g),w=Math.min(y,m);o<u||l<i?_>d&&(d=_,v<g?hr.set(_r,-v,0):hr.set(_r,g,0)):_<p&&(p=_,v<g?hr.set(mr,v,0):hr.set(mr,-g,0)),s<c||h<a?w>d&&(d=w,y<m?hr.set(_r,0,-y):hr.set(_r,0,m)):_<p&&(p=_,y<m?hr.set(mr,0,y):hr.set(mr,0,-m))}return r&&hr.copy(r,f?mr:_r),f},t.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,r,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],o=n[3],a=n[4],s=n[5];return e.x=r.x*i+a,e.y=r.y*o+s,e.width=r.width*i,e.height=r.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}dr.x=gr.x=r.x,dr.y=yr.y=r.y,vr.x=yr.x=r.x+r.width,vr.y=gr.y=r.y+r.height,dr.transform(n),yr.transform(n),vr.transform(n),gr.transform(n),e.x=fr(dr.x,vr.x,gr.x,yr.x),e.y=fr(dr.y,vr.y,gr.y,yr.y);var u=pr(dr.x,vr.x,gr.x,yr.x),l=pr(dr.y,vr.y,gr.y,yr.y);e.width=u-e.x,e.height=l-e.y}else e!==r&&t.copy(e,r)},t}();const br=wr;var xr,kr,Sr={},Cr="12px sans-serif",Tr=function(t,e){return xr||(xr=z().getContext("2d")),kr!==e&&(kr=xr.font=e||Cr),xr.measureText(t)};function Or(t,e){var r=Sr[e=e||Cr];r||(r=Sr[e]=new Qt(500));var n=r.get(t);return null==n&&(n=Tr(t,e).width,r.put(t,n)),n}function Er(t,e,r,n){var i=Or(t,e),o=zr(e),a=Ar(0,i,r),s=Pr(0,o,n);return new br(a,s,i,o)}function Ar(t,e,r){return"right"===r?t-=e:"center"===r&&(t-=e/2),t}function Pr(t,e,r){return"middle"===r?t-=e/2:"bottom"===r&&(t-=e),t}function zr(t){return Or("国",t)}function Mr(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var Ir="__zr_normal__",jr=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Lr={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Nr={},Rr=new br(0,0,0,0),Dr=function(){function t(t){this.id=S(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,n=r.local,i=e.innerTransformable,o=void 0,a=void 0,s=!1;i.parent=n?this:null;var u=!1;if(i.copyTransform(e),null!=r.position){var l=Rr;r.layoutRect?l.copy(r.layoutRect):l.copy(this.getBoundingRect()),n||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Nr,r,l):function(t,e,r){var n=e.position||"inside",i=null!=e.distance?e.distance:5,o=r.height,a=r.width,s=o/2,u=r.x,l=r.y,c="left",h="top";if(n instanceof Array)u+=Mr(n[0],r.width),l+=Mr(n[1],r.height),c=null,h=null;else switch(n){case"left":u-=i,l+=s,c="right",h="middle";break;case"right":u+=i+a,l+=s,h="middle";break;case"top":u+=a/2,l-=i,c="center",h="bottom";break;case"bottom":u+=a/2,l+=o+i,c="center";break;case"inside":u+=a/2,l+=s,c="center",h="middle";break;case"insideLeft":u+=i,l+=s,h="middle";break;case"insideRight":u+=a-i,l+=s,c="right",h="middle";break;case"insideTop":u+=a/2,l+=i,c="center";break;case"insideBottom":u+=a/2,l+=o-i,c="center",h="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=a-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=o-i,h="bottom";break;case"insideBottomRight":u+=a-i,l+=o-i,c="right",h="bottom"}(t=t||{}).x=u,t.y=l,t.align=c,t.verticalAlign=h}(Nr,r,l),i.x=Nr.x,i.y=Nr.y,o=Nr.align,a=Nr.verticalAlign;var c=r.origin;if(c&&null!=r.rotation){var h=void 0,f=void 0;"center"===c?(h=.5*l.width,f=.5*l.height):(h=Mr(c[0],l.width),f=Mr(c[1],l.height)),u=!0,i.originX=-i.x+h+(n?0:l.x),i.originY=-i.y+f+(n?0:l.y)}}null!=r.rotation&&(i.rotation=r.rotation);var p=r.offset;p&&(i.x+=p[0],i.y+=p[1],u||(i.originX=-p[0],i.originY=-p[1]));var d=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,m=void 0;d&&this.canBeInsideText()?(g=r.insideFill,y=r.insideStroke,null!=g&&"auto"!==g||(g=this.getInsideTextFill()),null!=y&&"auto"!==y||(y=this.getInsideTextStroke(g),m=!0)):(g=r.outsideFill,y=r.outsideStroke,null!=g&&"auto"!==g||(g=this.getOutsideFill()),null!=y&&"auto"!==y||(y=this.getOutsideStroke(g),m=!0)),(g=g||"#000")===v.fill&&y===v.stroke&&m===v.autoStroke&&o===v.align&&a===v.verticalAlign||(s=!0,v.fill=g,v.stroke=y,v.autoStroke=m,v.align=o,v.verticalAlign=a,e.setDefaultTextStyle(v)),e.__dirty|=1,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?qe:Ze},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof e&&ce(e);r||(r=[255,255,255,1]);for(var n=r[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*n+(i?0:255)*(1-n);return r[3]=1,function(t,e){if(t&&t.length){var r=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(r+=","+t[3]),e+"("+r+")"}}(r,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},A(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(F(t))for(var r=R(t),n=0;n<r.length;n++){var i=r[n];this.attrKV(i,t[i])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,r=0;r<this.animators.length;r++){var n=this.animators[r],i=n.__fromStateTransition;if(!i||i===Ir){var o=n.targetName,a=o?e[o]:e;n.saveFinalToTarget(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,jr)},t.prototype._savePrimaryToNormal=function(t,e,r){for(var n=0;n<r.length;n++){var i=r[n];null==t[i]||i in e||(e[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(Ir,!1,t)},t.prototype.useState=function(t,e,r,n){var i=t===Ir;if(this.hasState()||!i){var o=this.currentStates,a=this.stateTransition;if(!(M(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!i&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||i){i||this.saveCurrentToNormalState(s);var u=!!(s&&s.hoverLayer||n);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!r&&!this.__inHover&&a&&a.duration>0,a);var l=this._textContent,c=this._textGuide;return l&&l.useState(t,e,r,u),c&&c.useState(t,e,r,u),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),s}C("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,r){if(t.length){var n=[],i=this.currentStates,o=t.length,a=o===i.length;if(a)for(var s=0;s<o;s++)if(t[s]!==i[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var u=t[s],l=void 0;this.stateProxy&&(l=this.stateProxy(u,t)),l||(l=this.states[u]),l&&n.push(l)}var c=n[o-1],h=!!(c&&c.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(n),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p);var d=this._textContent,v=this._textGuide;d&&d.useStates(t,e,h),v&&v.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=M(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1),this.useStates(r)}},t.prototype.replaceState=function(t,e,r){var n=this.currentStates.slice(),i=M(n,t),o=M(n,e)>=0;i>=0?o?n.splice(i,1):n[i]=e:r&&!o&&n.push(e),this.useStates(n)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,r={},n=0;n<t.length;n++){var i=t[n];A(r,i),i.textConfig&&A(e=e||{},i.textConfig)}return e&&(r.textConfig=e),r},t.prototype._applyStateObj=function(t,e,r,n,i,o){var a=!(e&&n);e&&e.textConfig?(this.textConfig=A({},n?this.textConfig:r.textConfig),A(this.textConfig,e.textConfig)):a&&r.textConfig&&(this.textConfig=r.textConfig);for(var s={},u=!1,l=0;l<jr.length;l++){var c=jr[l],h=i&&Lr[c];e&&null!=e[c]?h?(u=!0,s[c]=e[c]):this[c]=e[c]:a&&null!=r[c]&&(h?(u=!0,s[c]=r[c]):this[c]=r[c])}if(!i)for(l=0;l<this.animators.length;l++){var f=this.animators[l],p=f.targetName;f.__changeFinalValue(p?(e||r)[p]:e||r)}u&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new lr,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),A(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,r=this._textGuide;e&&(e.__inHover=t),r&&(r.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e){var r=t?this[t]:this;if(r){var n=new Oe(r,e);return this.addAnimator(n,t),n}C('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var r=this.__zr,n=this;t.during((function(){n.updateDuringAnimation(e)})).done((function(){var e=n.animators,r=M(e,t);r>=0&&e.splice(r,1)})),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var r=this.animators,n=r.length,i=[],o=0;o<n;o++){var a=r[o];t&&t!==a.scope?i.push(a):a.stop(e)}return this.animators=i,this},t.prototype.animateTo=function(t,e,r){Br(this,t,e,r)},t.prototype.animateFrom=function(t,e,r){Br(this,t,e,r,!0)},t.prototype._transitionState=function(t,e,r,n){for(var i=Br(this,e,r,n),o=0;o<i.length;o++)i[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=1;var r={};function n(t,e,n){r[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),r[t+e+n]=!0)}function i(t,r,i,o){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){return n(t,i,o),this[r]||a(this,this[r]=[]),this[r]},set:function(e){n(t,i,o),this[i]=e[0],this[o]=e[1],this[r]=e,a(this,e)}})}Object.defineProperty&&(!h.browser.ie||h.browser.version>8)&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),t}();function Br(t,e,r,n,i){var o=[];Hr(t,"",t,e,r=r||{},n,o,i);var a=o.length,s=!1,u=r.done,l=r.aborted,c=function(){s=!0,--a<=0&&(s?u&&u():l&&l())},h=function(){--a<=0&&(s?u&&u():l&&l())};a||u&&u(),o.length>0&&r.during&&o[0].during((function(t,e){r.during(e)}));for(var f=0;f<o.length;f++){var p=o[f];c&&p.done(c),h&&p.aborted(h),p.start(r.easing,r.force)}return o}function Fr(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function Wr(t,e,r){if(j(e[r]))if(j(t[r])||(t[r]=[]),l=e[r],p[d.call(l)]){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),Fr(t[r],e[r],n))}else{var i=e[r],o=t[r],a=i.length;if(function(t){return j(t[0])}(i))for(var s=i[0].length,u=0;u<a;u++)o[u]?Fr(o[u],i[u],s):o[u]=Array.prototype.slice.call(i[u]);else Fr(o,i,a);o.length=i.length}else t[r]=e[r];var l}function Hr(t,e,r,n,i,o,a,s){for(var u=[],l=[],c=R(n),h=i.duration,f=i.delay,p=i.additive,d=i.setToFinal,v=!F(o),g=0;g<c.length;g++)if(null!=r[C=c[g]]&&null!=n[C]&&(v||o[C]))if(F(n[C])&&!j(n[C])){if(e){s||(r[C]=n[C],t.updateDuringAnimation(e));continue}Hr(t,C,r[C],n[C],i,o&&o[C],a,s)}else u.push(C),l.push(C);else s||(r[C]=n[C],t.updateDuringAnimation(e),l.push(C));var y=u.length;if(y>0||i.force&&!a.length){for(var m=t.animators,_=[],w=0;w<m.length;w++)m[w].targetName===e&&_.push(m[w]);if(!p&&_.length)for(w=0;w<_.length;w++)if(_[w].stopTracks(l)){var b=M(m,_[w]);m.splice(b,1)}var x=void 0,k=void 0,S=void 0;if(s)for(k={},d&&(x={}),w=0;w<y;w++)k[C=u[w]]=r[C],d?x[C]=n[C]:r[C]=n[C];else if(d)for(S={},w=0;w<y;w++){var C;S[C=u[w]]=xe(r[C]),Wr(r,n,C)}var T=new Oe(r,!1,p?_:null);T.targetName=e,i.scope&&(T.scope=i.scope),d&&x&&T.whenWithKeys(0,x,u),S&&T.whenWithKeys(0,S,u),T.whenWithKeys(null==h?500:h,s?k:n,u).delay(f||0),t.addAnimator(T,e),a.push(T)}}I(Dr,ct),I(Dr,lr);const Gr=Dr;var Yr=function(t){function e(e){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(e),r}return q(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children,n=r.indexOf(e);n>=0&&(r.splice(n,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var r=M(this._children,t);return r>=0&&this.replaceAt(e,r),this},e.prototype.replaceAt=function(t,e){var r=this._children,n=r[e];if(t&&t!==this&&t.parent!==this&&t!==n){r[e]=t,n.parent=null;var i=this.__zr;i&&n.removeSelfFromZr(i),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,r=this._children,n=M(r,t);return n<0||(r.splice(n,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,r=0;r<t.length;r++){var n=t[r];e&&n.removeSelfFromZr(e),n.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var r=this._children,n=0;n<r.length;n++){var i=r[n];t.call(e,i,n)}return this},e.prototype.traverse=function(t,e){for(var r=0;r<this._children.length;r++){var n=this._children[r],i=t.call(e,n);n.isGroup&&!i&&n.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(e)},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(e)},e.prototype.getBoundingRect=function(t){for(var e=new br(0,0,0,0),r=t||this._children,n=[],i=null,o=0;o<r.length;o++){var a=r[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(n);u?(br.applyTransform(e,s,u),(i=i||e.clone()).union(e)):(i=i||s.clone()).union(s)}}return i||e},e}(Gr);Yr.prototype.type="group";const Xr=Yr;var Ur=!h.canvasSupported,Vr={},Zr={},qr=function(){function t(t,e,r){var n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=e,this.id=t;var i=new Gt,o=r.renderer||"canvas";if(Ur)throw new Error("IE8 support has been dropped since 5.0");if(Vr[o]||(o=R(Vr)[0]),!Vr[o])throw new Error("Renderer '"+o+"' is not imported. Please import it first.");r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var a=new Vr[o](e,i,r,t);this.storage=i,this.painter=a;var s=h.node||h.worker?null:new Xe(a.getViewportRoot(),a.root);this.handler=new jt(i,a,s,a.root),this.animation=new Ee({stage:{update:function(){return n._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return fe(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=fe(e[i].color,1);return(r/=n)<.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,r=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var n=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,r){return this.handler.on(t,e,r),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Xr&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Zr[t]},t}(),$r="__zr_style_"+Math.round(10*Math.random()),Kr={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Qr={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Kr[$r]=!0;var Jr=["z","z2","invisible"],tn=["invisible"],en=function(t){function e(e){return t.call(this,e)||this}var r;return q(e,t),e.prototype._init=function(e){for(var r=R(e),n=0;n<r.length;n++){var i=r[n];"style"===i?this.useStyle(e[i]):t.prototype.attrKV.call(this,i,e[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,r,n){var i,o,a,s=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(i=this,o=t,a=e,rn.copy(i.getBoundingRect()),i.transform&&rn.applyTransform(i.transform),nn.width=o,nn.height=a,!rn.intersect(nn))||s&&!s[0]&&!s[3])return!1;if(r&&this.__clipPaths)for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1;if(n&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var r=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,r=this.getBoundingRect(),n=this.style,i=n.shadowBlur||0,o=n.shadowOffsetX||0,a=n.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new br(0,0,0,0)),e?br.applyTransform(t,r,e):t.copy(r),(i||o||a)&&(t.width+=2*i+Math.abs(o),t.height+=2*i+Math.abs(a),t.x=Math.min(t.x,t.x+o-i),t.y=Math.min(t.y,t.y+a-i));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new br(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,r){"style"!==e?t.prototype.attrKV.call(this,e,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:A(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return U(Kr,t)},e.prototype.useStyle=function(t){t[$r]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[$r]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,r,Jr)},e.prototype._applyStateObj=function(e,r,n,i,o,a){t.prototype._applyStateObj.call(this,e,r,n,i,o,a);var s,u=!(r&&i);if(r&&r.style?o?i?s=r.style:(s=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(s,r.style)):(s=this._mergeStyle(this.createStyle(),i?this.style:n.style),this._mergeStyle(s,r.style)):u&&(s=n.style),s)if(o){var l=this.style;if(this.style=this.createStyle(u?{}:l),u)for(var c=R(l),h=0;h<c.length;h++)(p=c[h])in s&&(s[p]=s[p],this.style[p]=l[p]);var f=R(s);for(h=0;h<f.length;h++){var p=f[h];this.style[p]=this.style[p]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var d=this.__inHover?tn:Jr;for(h=0;h<d.length;h++)p=d[h],r&&null!=r[p]?this[p]=r[p]:u&&null!=n[p]&&(this[p]=n[p])},e.prototype._mergeStates=function(e){for(var r,n=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.style&&(r=r||{},this._mergeStyle(r,o.style))}return r&&(n.style=r),n},e.prototype._mergeStyle=function(t,e){return A(t,e),t},e.prototype.getAnimationStyleProps=function(){return Qr},e.initDefaultProps=((r=e.prototype).type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,void(r.__dirty=3)),e}(Gr),rn=new br(0,0,0,0),nn=new br(0,0,0,0);const on=en;var an=Math.pow,sn=Math.sqrt,un=1e-4,ln=sn(3),cn=1/3,hn=$(),fn=$(),pn=$();function dn(t){return t>-1e-8&&t<1e-8}function vn(t){return t>1e-8||t<-1e-8}function gn(t,e,r,n,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*n+3*o*r)}function yn(t,e,r,n,i){var o=1-i;return 3*(((e-t)*o+2*(r-e)*i)*o+(n-r)*i*i)}function mn(t,e,r,n,i){var o=6*r-12*e+6*t,a=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(dn(a))vn(o)&&(c=-s/o)>=0&&c<=1&&(i[u++]=c);else{var l=o*o-4*a*s;if(dn(l))i[0]=-o/(2*a);else if(l>0){var c,h=sn(l),f=(-o-h)/(2*a);(c=(-o+h)/(2*a))>=0&&c<=1&&(i[u++]=c),f>=0&&f<=1&&(i[u++]=f)}}return u}function _n(t,e,r,n,i,o){var a=(e-t)*i+t,s=(r-e)*i+e,u=(n-r)*i+r,l=(s-a)*i+a,c=(u-s)*i+s,h=(c-l)*i+l;o[0]=t,o[1]=a,o[2]=l,o[3]=h,o[4]=h,o[5]=c,o[6]=u,o[7]=n}function wn(t,e,r,n,i,o,a,s,u){for(var l=t,c=e,h=0,f=1/u,p=1;p<=u;p++){var d=p*f,v=gn(t,r,i,a,d),g=gn(e,n,o,s,d),y=v-l,m=g-c;h+=Math.sqrt(y*y+m*m),l=v,c=g}return h}function bn(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function xn(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function kn(t,e,r){var n=t+r-2*e;return 0===n?.5:(t-e)/n}function Sn(t,e,r,n,i){var o=(e-t)*n+t,a=(r-e)*n+e,s=(a-o)*n+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=r}function Cn(t,e,r,n,i,o,a){for(var s=t,u=e,l=0,c=1/a,h=1;h<=a;h++){var f=h*c,p=bn(t,r,i,f),d=bn(e,n,o,f),v=p-s,g=d-u;l+=Math.sqrt(v*v+g*g),s=p,u=d}return l}var Tn=Math.min,On=Math.max,En=Math.sin,An=Math.cos,Pn=2*Math.PI,zn=$(),Mn=$(),In=$();function jn(t,e,r,n,i,o){i[0]=Tn(t,r),i[1]=Tn(e,n),o[0]=On(t,r),o[1]=On(e,n)}var Ln=[],Nn=[];function Rn(t,e,r,n,i,o,a,s,u,l){var c=mn,h=gn,f=c(t,r,i,a,Ln);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var p=0;p<f;p++){var d=h(t,r,i,a,Ln[p]);u[0]=Tn(d,u[0]),l[0]=On(d,l[0])}for(f=c(e,n,o,s,Nn),p=0;p<f;p++){var v=h(e,n,o,s,Nn[p]);u[1]=Tn(v,u[1]),l[1]=On(v,l[1])}u[0]=Tn(t,u[0]),l[0]=On(t,l[0]),u[0]=Tn(a,u[0]),l[0]=On(a,l[0]),u[1]=Tn(e,u[1]),l[1]=On(e,l[1]),u[1]=Tn(s,u[1]),l[1]=On(s,l[1])}function Dn(t,e,r,n,i,o,a,s){var u=kn,l=bn,c=On(Tn(u(t,r,i),1),0),h=On(Tn(u(e,n,o),1),0),f=l(t,r,i,c),p=l(e,n,o,h);a[0]=Tn(t,i,f),a[1]=Tn(e,o,p),s[0]=On(t,i,f),s[1]=On(e,o,p)}function Bn(t,e,r,n,i,o,a,s,u){var l=ot,c=at,h=Math.abs(i-o);if(h%Pn<1e-4&&h>1e-4)return s[0]=t-r,s[1]=e-n,u[0]=t+r,void(u[1]=e+n);if(zn[0]=An(i)*r+t,zn[1]=En(i)*n+e,Mn[0]=An(o)*r+t,Mn[1]=En(o)*n+e,l(s,zn,Mn),c(u,zn,Mn),(i%=Pn)<0&&(i+=Pn),(o%=Pn)<0&&(o+=Pn),i>o&&!a?o+=Pn:i<o&&a&&(i+=Pn),a){var f=o;o=i,i=f}for(var p=0;p<o;p+=Math.PI/2)p>i&&(In[0]=An(p)*r+t,In[1]=En(p)*n+e,l(s,In,s),c(u,In,u))}var Fn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Wn=[],Hn=[],Gn=[],Yn=[],Xn=[],Un=[],Vn=Math.min,Zn=Math.max,qn=Math.cos,$n=Math.sin,Kn=Math.sqrt,Qn=Math.abs,Jn=Math.PI,ti=2*Jn,ei="undefined"!=typeof Float32Array,ri=[];function ni(t){return Math.round(t/Jn*1e8)/1e8%2*Jn}var ii=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,r){(r=r||0)>0&&(this._ux=Qn(r/Ve/t)||0,this._uy=Qn(r/Ve/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Fn.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var r=Qn(t-this._xi),n=Qn(e-this._yi),i=r>this._ux||n>this._uy;if(this.addData(Fn.L,t,e),this._ctx&&i&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=r*r+n*n;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._drawPendingPt(),this.addData(Fn.C,t,e,r,n,i,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,r,n,i,o):this._ctx.bezierCurveTo(t,e,r,n,i,o)),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,r,n){return this._drawPendingPt(),this.addData(Fn.Q,t,e,r,n),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,r,n):this._ctx.quadraticCurveTo(t,e,r,n)),this._xi=r,this._yi=n,this},t.prototype.arc=function(t,e,r,n,i,o){this._drawPendingPt(),ri[0]=n,ri[1]=i,function(t,e){var r=ni(t[0]);r<0&&(r+=ti);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=ti?i=r+ti:e&&r-i>=ti?i=r-ti:!e&&r>i?i=r+(ti-ni(r-i)):e&&r<i&&(i=r-(ti-ni(i-r))),t[0]=r,t[1]=i}(ri,o),n=ri[0];var a=(i=ri[1])-n;return this.addData(Fn.A,t,e,r,r,n,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,r,n,i,o),this._xi=qn(i)*r+t,this._yi=$n(i)*r+e,this},t.prototype.arcTo=function(t,e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,r,n,i),this},t.prototype.rect=function(t,e,r,n){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,r,n),this.addData(Fn.R,t,e,r,n),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Fn.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,r),t.closePath()),this._xi=e,this._yi=r,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,r=0;r<t.length;r++)e+=t[r];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!ei||(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,n=this._len,i=0;i<e;i++)r+=t[i].len();for(ei&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+r)),i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[n++]=o[a];this._len=n},t.prototype.addData=function(t,e,r,n,i,o,a,s,u){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var c=0;c<arguments.length;c++)l[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var r,n,i=this._dashSum,o=this._lineDash,a=this._ctx,s=this._dashOffset,u=this._xi,l=this._yi,c=t-u,h=e-l,f=Kn(c*c+h*h),p=u,d=l,v=o.length;for(s<0&&(s=i+s),p-=(s%=i)*(c/=f),d-=s*(h/=f);c>0&&p<=t||c<0&&p>=t||0===c&&(h>0&&d<=e||h<0&&d>=e);)p+=c*(r=o[n=this._dashIdx]),d+=h*r,this._dashIdx=(n+1)%v,c>0&&p<u||c<0&&p>u||h>0&&d<l||h<0&&d>l||a[n%2?"moveTo":"lineTo"](c>=0?Vn(p,t):Zn(p,t),h>=0?Vn(d,e):Zn(d,e));c=p-t,h=d-e,this._dashOffset=-Kn(c*c+h*h)},t.prototype._dashedBezierTo=function(t,e,r,n,i,o){var a,s,u,l,c,h=this._ctx,f=this._dashSum,p=this._dashOffset,d=this._lineDash,v=this._xi,g=this._yi,y=0,m=this._dashIdx,_=d.length,w=0;for(p<0&&(p=f+p),p%=f,a=0;a<1;a+=.1)s=gn(v,t,r,i,a+.1)-gn(v,t,r,i,a),u=gn(g,e,n,o,a+.1)-gn(g,e,n,o,a),y+=Kn(s*s+u*u);for(;m<_&&!((w+=d[m])>p);m++);for(a=(w-p)/y;a<=1;)l=gn(v,t,r,i,a),c=gn(g,e,n,o,a),m%2?h.moveTo(l,c):h.lineTo(l,c),a+=d[m]/y,m=(m+1)%_;m%2!=0&&h.lineTo(i,o),s=i-l,u=o-c,this._dashOffset=-Kn(s*s+u*u)},t.prototype._dashedQuadraticTo=function(t,e,r,n){var i=r,o=n;r=(r+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,r,n,i,o)},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,ei&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){Gn[0]=Gn[1]=Xn[0]=Xn[1]=Number.MAX_VALUE,Yn[0]=Yn[1]=Un[0]=Un[1]=-Number.MAX_VALUE;var t,e=this.data,r=0,n=0,i=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(i=r=e[t],o=n=e[t+1]),a){case Fn.M:r=i=e[t++],n=o=e[t++],Xn[0]=i,Xn[1]=o,Un[0]=i,Un[1]=o;break;case Fn.L:jn(r,n,e[t],e[t+1],Xn,Un),r=e[t++],n=e[t++];break;case Fn.C:Rn(r,n,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Xn,Un),r=e[t++],n=e[t++];break;case Fn.Q:Dn(r,n,e[t++],e[t++],e[t],e[t+1],Xn,Un),r=e[t++],n=e[t++];break;case Fn.A:var u=e[t++],l=e[t++],c=e[t++],h=e[t++],f=e[t++],p=e[t++]+f;t+=1;var d=!e[t++];s&&(i=qn(f)*c+u,o=$n(f)*h+l),Bn(u,l,c,h,f,p,d,Xn,Un),r=qn(p)*c+u,n=$n(p)*h+l;break;case Fn.R:jn(i=r=e[t++],o=n=e[t++],i+e[t++],o+e[t++],Xn,Un);break;case Fn.Z:r=i,n=o}ot(Gn,Gn,Xn),at(Yn,Yn,Un)}return 0===t&&(Gn[0]=Gn[1]=Yn[0]=Yn[1]=0),new br(Gn[0],Gn[1],Yn[0]-Gn[0],Yn[1]-Gn[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,r=this._ux,n=this._uy,i=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,l=0,c=0,h=0;h<e;){var f=t[h++],p=1===h;p&&(a=i=t[h],s=o=t[h+1]);var d=-1;switch(f){case Fn.M:i=a=t[h++],o=s=t[h++];break;case Fn.L:var v=t[h++],g=(_=t[h++])-o;(Qn(A=v-i)>r||Qn(g)>n||h===e-1)&&(d=Math.sqrt(A*A+g*g),i=v,o=_);break;case Fn.C:var y=t[h++],m=t[h++],_=(v=t[h++],t[h++]),w=t[h++],b=t[h++];d=wn(i,o,y,m,v,_,w,b,10),i=w,o=b;break;case Fn.Q:d=Cn(i,o,y=t[h++],m=t[h++],v=t[h++],_=t[h++],10),i=v,o=_;break;case Fn.A:var x=t[h++],k=t[h++],S=t[h++],C=t[h++],T=t[h++],O=t[h++],E=O+T;h+=1,t[h++],p&&(a=qn(T)*S+x,s=$n(T)*C+k),d=Zn(S,C)*Vn(ti,Math.abs(O)),i=qn(E)*S+x,o=$n(E)*C+k;break;case Fn.R:a=i=t[h++],s=o=t[h++],d=2*t[h++]+2*t[h++];break;case Fn.Z:var A=a-i;g=s-o,d=Math.sqrt(A*A+g*g),i=a,o=s}d>=0&&(u[c++]=d,l+=d)}return this._pathLen=l,l},t.prototype.rebuildPath=function(t,e){var r,n,i,o,a,s,u,l,c,h,f=this.data,p=this._ux,d=this._uy,v=this._len,g=e<1,y=0,m=0,_=0;if(!g||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,l=e*this._pathLen))t:for(var w=0;w<v;){var b=f[w++],x=1===w;switch(x&&(r=i=f[w],n=o=f[w+1]),b!==Fn.L&&_>0&&(t.lineTo(c,h),_=0),b){case Fn.M:r=i=f[w++],n=o=f[w++],t.moveTo(i,o);break;case Fn.L:a=f[w++],s=f[w++];var k=Qn(a-i),S=Qn(s-o);if(k>p||S>d){if(g){if(y+(Z=u[m++])>l){var C=(l-y)/Z;t.lineTo(i*(1-C)+a*C,o*(1-C)+s*C);break t}y+=Z}t.lineTo(a,s),i=a,o=s,_=0}else{var T=k*k+S*S;T>_&&(c=a,h=s,_=T)}break;case Fn.C:var O=f[w++],E=f[w++],A=f[w++],P=f[w++],z=f[w++],M=f[w++];if(g){if(y+(Z=u[m++])>l){_n(i,O,A,z,C=(l-y)/Z,Wn),_n(o,E,P,M,C,Hn),t.bezierCurveTo(Wn[1],Hn[1],Wn[2],Hn[2],Wn[3],Hn[3]);break t}y+=Z}t.bezierCurveTo(O,E,A,P,z,M),i=z,o=M;break;case Fn.Q:if(O=f[w++],E=f[w++],A=f[w++],P=f[w++],g){if(y+(Z=u[m++])>l){Sn(i,O,A,C=(l-y)/Z,Wn),Sn(o,E,P,C,Hn),t.quadraticCurveTo(Wn[1],Hn[1],Wn[2],Hn[2]);break t}y+=Z}t.quadraticCurveTo(O,E,A,P),i=A,o=P;break;case Fn.A:var I=f[w++],j=f[w++],L=f[w++],N=f[w++],R=f[w++],D=f[w++],B=f[w++],F=!f[w++],W=L>N?L:N,H=Qn(L-N)>.001,G=R+D,Y=!1;if(g&&(y+(Z=u[m++])>l&&(G=R+D*(l-y)/Z,Y=!0),y+=Z),H&&t.ellipse?t.ellipse(I,j,L,N,B,R,G,F):t.arc(I,j,W,R,G,F),Y)break t;x&&(r=qn(R)*L+I,n=$n(R)*N+j),i=qn(G)*L+I,o=$n(G)*N+j;break;case Fn.R:r=i=f[w],n=o=f[w+1],a=f[w++],s=f[w++];var X=f[w++],U=f[w++];if(g){if(y+(Z=u[m++])>l){var V=l-y;t.moveTo(a,s),t.lineTo(a+Vn(V,X),s),(V-=X)>0&&t.lineTo(a+X,s+Vn(V,U)),(V-=U)>0&&t.lineTo(a+Zn(X-V,0),s+U),(V-=X)>0&&t.lineTo(a,s+Zn(U-V,0));break t}y+=Z}t.rect(a,s,X,U);break;case Fn.Z:if(g){var Z;if(y+(Z=u[m++])>l){C=(l-y)/Z,t.lineTo(i*(1-C)+r*C,o*(1-C)+n*C);break t}y+=Z}t.closePath(),i=r,o=n}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=Fn,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}();const oi=ii;function ai(t,e,r,n,i,o,a){if(0===i)return!1;var s,u=i;if(a>e+u&&a>n+u||a<e-u&&a<n-u||o>t+u&&o>r+u||o<t-u&&o<r-u)return!1;if(t===r)return Math.abs(o-t)<=u/2;var l=(s=(e-n)/(t-r))*o-a+(t*n-r*e)/(t-r);return l*l/(s*s+1)<=u/2*u/2}function si(t,e,r,n,i,o,a,s,u,l,c){if(0===u)return!1;var h=u;if(c>e+h&&c>n+h&&c>o+h&&c>s+h||c<e-h&&c<n-h&&c<o-h&&c<s-h||l>t+h&&l>r+h&&l>i+h&&l>a+h||l<t-h&&l<r-h&&l<i-h&&l<a-h)return!1;var f=function(t,e,r,n,i,o,a,s,u,l,c){var h,f,p,d,v,g=.005,y=1/0;hn[0]=u,hn[1]=l;for(var m=0;m<1;m+=.05)fn[0]=gn(t,r,i,a,m),fn[1]=gn(e,n,o,s,m),(d=nt(hn,fn))<y&&(h=m,y=d);y=1/0;for(var _=0;_<32&&!(g<un);_++)f=h-g,p=h+g,fn[0]=gn(t,r,i,a,f),fn[1]=gn(e,n,o,s,f),d=nt(fn,hn),f>=0&&d<y?(h=f,y=d):(pn[0]=gn(t,r,i,a,p),pn[1]=gn(e,n,o,s,p),v=nt(pn,hn),p<=1&&v<y?(h=p,y=v):g*=.5);return sn(y)}(t,e,r,n,i,o,a,s,l,c);return f<=h/2}function ui(t,e,r,n,i,o,a,s,u){if(0===a)return!1;var l=a;if(u>e+l&&u>n+l&&u>o+l||u<e-l&&u<n-l&&u<o-l||s>t+l&&s>r+l&&s>i+l||s<t-l&&s<r-l&&s<i-l)return!1;var c=function(t,e,r,n,i,o,a,s,u){var l,c=.005,h=1/0;hn[0]=a,hn[1]=s;for(var f=0;f<1;f+=.05)fn[0]=bn(t,r,i,f),fn[1]=bn(e,n,o,f),(g=nt(hn,fn))<h&&(l=f,h=g);h=1/0;for(var p=0;p<32&&!(c<un);p++){var d=l-c,v=l+c;fn[0]=bn(t,r,i,d),fn[1]=bn(e,n,o,d);var g=nt(fn,hn);if(d>=0&&g<h)l=d,h=g;else{pn[0]=bn(t,r,i,v),pn[1]=bn(e,n,o,v);var y=nt(pn,hn);v<=1&&y<h?(l=v,h=y):c*=.5}}return sn(h)}(t,e,r,n,i,o,s,u);return c<=l/2}var li=2*Math.PI;function ci(t){return(t%=li)<0&&(t+=li),t}var hi=2*Math.PI;function fi(t,e,r,n,i,o,a,s,u){if(0===a)return!1;var l=a;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>r||c+l<r)return!1;if(Math.abs(n-i)%hi<1e-4)return!0;if(o){var h=n;n=ci(i),i=ci(h)}else n=ci(n),i=ci(i);n>i&&(i+=hi);var f=Math.atan2(u,s);return f<0&&(f+=hi),f>=n&&f<=i||f+hi>=n&&f+hi<=i}function pi(t,e,r,n,i,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var a=(o-e)/(n-e),s=n<e?1:-1;1!==a&&0!==a||(s=n<e?.5:-.5);var u=a*(r-t)+t;return u===i?1/0:u>i?s:0}var di=oi.CMD,vi=2*Math.PI,gi=[-1,-1,-1],yi=[-1,-1];function mi(t,e,r,n,i,o,a,s,u,l){if(l>e&&l>n&&l>o&&l>s||l<e&&l<n&&l<o&&l<s)return 0;var c,h=function(t,e,r,n,i,o){var a=n+3*(e-r)-t,s=3*(r-2*e+t),u=3*(e-t),l=t-i,c=s*s-3*a*u,h=s*u-9*a*l,f=u*u-3*s*l,p=0;if(dn(c)&&dn(h))dn(s)?o[0]=0:(S=-u/s)>=0&&S<=1&&(o[p++]=S);else{var d=h*h-4*c*f;if(dn(d)){var v=h/c,g=-v/2;(S=-s/a+v)>=0&&S<=1&&(o[p++]=S),g>=0&&g<=1&&(o[p++]=g)}else if(d>0){var y=sn(d),m=c*s+1.5*a*(-h+y),_=c*s+1.5*a*(-h-y);(S=(-s-((m=m<0?-an(-m,cn):an(m,cn))+(_=_<0?-an(-_,cn):an(_,cn))))/(3*a))>=0&&S<=1&&(o[p++]=S)}else{var w=(2*c*s-3*a*h)/(2*sn(c*c*c)),b=Math.acos(w)/3,x=sn(c),k=Math.cos(b),S=(-s-2*x*k)/(3*a),C=(g=(-s+x*(k+ln*Math.sin(b)))/(3*a),(-s+x*(k-ln*Math.sin(b)))/(3*a));S>=0&&S<=1&&(o[p++]=S),g>=0&&g<=1&&(o[p++]=g),C>=0&&C<=1&&(o[p++]=C)}}return p}(e,n,o,s,l,gi);if(0===h)return 0;for(var f=0,p=-1,d=void 0,v=void 0,g=0;g<h;g++){var y=gi[g],m=0===y||1===y?.5:1;gn(t,r,i,a,y)<u||(p<0&&(p=mn(e,n,o,s,yi),yi[1]<yi[0]&&p>1&&(void 0,c=yi[0],yi[0]=yi[1],yi[1]=c),d=gn(e,n,o,s,yi[0]),p>1&&(v=gn(e,n,o,s,yi[1]))),2===p?y<yi[0]?f+=d<e?m:-m:y<yi[1]?f+=v<d?m:-m:f+=s<v?m:-m:y<yi[0]?f+=d<e?m:-m:f+=s<d?m:-m)}return f}function _i(t,e,r,n,i,o,a,s){if(s>e&&s>n&&s>o||s<e&&s<n&&s<o)return 0;var u=function(t,e,r,n,i){var o=t-2*e+r,a=2*(e-t),s=t-n,u=0;if(dn(o))vn(a)&&(c=-s/a)>=0&&c<=1&&(i[u++]=c);else{var l=a*a-4*o*s;if(dn(l))(c=-a/(2*o))>=0&&c<=1&&(i[u++]=c);else if(l>0){var c,h=sn(l),f=(-a-h)/(2*o);(c=(-a+h)/(2*o))>=0&&c<=1&&(i[u++]=c),f>=0&&f<=1&&(i[u++]=f)}}return u}(e,n,o,s,gi);if(0===u)return 0;var l=kn(e,n,o);if(l>=0&&l<=1){for(var c=0,h=bn(e,n,o,l),f=0;f<u;f++){var p=0===gi[f]||1===gi[f]?.5:1;bn(t,r,i,gi[f])<a||(gi[f]<l?c+=h<e?p:-p:c+=o<h?p:-p)}return c}return p=0===gi[0]||1===gi[0]?.5:1,bn(t,r,i,gi[0])<a?0:o<e?p:-p}function wi(t,e,r,n,i,o,a,s){if((s-=e)>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);gi[0]=-u,gi[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l>=vi-1e-4){n=0,i=vi;var c=o?1:-1;return a>=gi[0]+t&&a<=gi[1]+t?c:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=vi,i+=vi);for(var f=0,p=0;p<2;p++){var d=gi[p];if(d+t>a){var v=Math.atan2(s,d);c=o?1:-1,v<0&&(v=vi+v),(v>=n&&v<=i||v+vi>=n&&v+vi<=i)&&(v>Math.PI/2&&v<1.5*Math.PI&&(c=-c),f+=c)}}return f}function bi(t,e,r,n,i){for(var o,a,s,u,l=t.data,c=t.len(),h=0,f=0,p=0,d=0,v=0,g=0;g<c;){var y=l[g++],m=1===g;switch(y===di.M&&g>1&&(r||(h+=pi(f,p,d,v,n,i))),m&&(d=f=l[g],v=p=l[g+1]),y){case di.M:f=d=l[g++],p=v=l[g++];break;case di.L:if(r){if(ai(f,p,l[g],l[g+1],e,n,i))return!0}else h+=pi(f,p,l[g],l[g+1],n,i)||0;f=l[g++],p=l[g++];break;case di.C:if(r){if(si(f,p,l[g++],l[g++],l[g++],l[g++],l[g],l[g+1],e,n,i))return!0}else h+=mi(f,p,l[g++],l[g++],l[g++],l[g++],l[g],l[g+1],n,i)||0;f=l[g++],p=l[g++];break;case di.Q:if(r){if(ui(f,p,l[g++],l[g++],l[g],l[g+1],e,n,i))return!0}else h+=_i(f,p,l[g++],l[g++],l[g],l[g+1],n,i)||0;f=l[g++],p=l[g++];break;case di.A:var _=l[g++],w=l[g++],b=l[g++],x=l[g++],k=l[g++],S=l[g++];g+=1;var C=!!(1-l[g++]);o=Math.cos(k)*b+_,a=Math.sin(k)*x+w,m?(d=o,v=a):h+=pi(f,p,o,a,n,i);var T=(n-_)*x/b+_;if(r){if(fi(_,w,x,k,k+S,C,e,T,i))return!0}else h+=wi(_,w,x,k,k+S,C,T,i);f=Math.cos(k+S)*b+_,p=Math.sin(k+S)*x+w;break;case di.R:if(d=f=l[g++],v=p=l[g++],o=d+l[g++],a=v+l[g++],r){if(ai(d,v,o,v,e,n,i)||ai(o,v,o,a,e,n,i)||ai(o,a,d,a,e,n,i)||ai(d,a,d,v,e,n,i))return!0}else h+=pi(o,v,o,a,n,i),h+=pi(d,a,d,v,n,i);break;case di.Z:if(r){if(ai(f,p,d,v,e,n,i))return!0}else h+=pi(f,p,d,v,n,i);f=d,p=v}}return r||(s=p,u=v,Math.abs(s-u)<1e-4)||(h+=pi(f,p,d,v,n,i)||0),0!==h}var xi=P({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Kr),ki={style:P({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Qr.style)},Si=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"];const Ci=function(t){function e(e){return t.call(this,e)||this}var r;return q(e,t),e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(t){r.buildPath(t,r.shape)}),i.silent=!0;var o=i.style;for(var a in n)o[a]!==n[a]&&(o[a]=n[a]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var s=0;s<Si.length;++s)i[Si[s]]=this[Si[s]];i.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var r=R(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var i=0;i<r.length;i++){var o=r[i],a=e[o];"style"===o?this.style?A(this.style,a):this.useStyle(a):"shape"===o?A(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(B(t)){var e=fe(t,0);return e>.5?Ze:e>.2?"#eee":qe}if(t)return qe}return Ze},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(B(e)){var r=this.__zr;if(!(!r||!r.isDarkMode())==fe(t,0)<.4)return e}},e.prototype.buildPath=function(t,e,r){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new oi(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,r=!t;if(r){var n=!1;this.path||(n=!0,this.createPathProxy());var i=this.path;(n||4&this.__dirty)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;s=Math.max(s,null==u?4:u)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),i=this.style;if(t=r[0],e=r[1],n.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,r,n){return bi(t,e,!0,r,n)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,r){return bi(t,0,!1,e,r)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,r){"shape"===e?this.setShape(r):t.prototype.attrKV.call(this,e,r)},e.prototype.setShape=function(t,e){var r=this.shape;return r||(r=this.shape={}),"string"==typeof t?r[t]=e:A(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(t){return U(xi,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.shape&&!r.shape&&(r.shape=A({},this.shape))},e.prototype._applyStateObj=function(e,r,n,i,o,a){t.prototype._applyStateObj.call(this,e,r,n,i,o,a);var s,u=!(r&&i);if(r&&r.shape?o?i?s=r.shape:(s=A({},n.shape),A(s,r.shape)):(s=A({},i?this.shape:n.shape),A(s,r.shape)):u&&(s=n.shape),s)if(o){this.shape=A({},this.shape);for(var l={},c=R(s),h=0;h<c.length;h++){var f=c[h];"object"==typeof s[f]?this.shape[f]=s[f]:l[f]=s[f]}this._transitionState(e,{shape:l},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var r,n=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.shape&&(r=r||{},this._mergeStyle(r,o.shape))}return r&&(n.shape=r),n},e.prototype.getAnimationStyleProps=function(){return ki},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(e){function r(r){var n=e.call(this,r)||this;return t.init&&t.init.call(n,r),n}return q(r,e),r.prototype.getDefaultStyle=function(){return T(t.style)},r.prototype.getDefaultShape=function(){return T(t.shape)},r}(e);for(var n in t)"function"==typeof t[n]&&(r.prototype[n]=t[n]);return r},e.initDefaultProps=((r=e.prototype).type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,void(r.__dirty=7)),e}(on);var Ti=Math.round;function Oi(t,e,r){if(!e)return t;var n=Ti(2*t);return(n+Ti(e))%2==0?n/2:(n+(r?1:-1))/2}var Ei=function(){this.x=0,this.y=0,this.width=0,this.height=0},Ai={},Pi=function(t){function e(e){return t.call(this,e)||this}return q(e,t),e.prototype.getDefaultShape=function(){return new Ei},e.prototype.buildPath=function(t,e){var r,n,i,o;if(this.subPixelOptimize){var a=function(t,e,r){if(e){var n=e.x,i=e.y,o=e.width,a=e.height;t.x=n,t.y=i,t.width=o,t.height=a;var s=r&&r.lineWidth;return s?(t.x=Oi(n,s,!0),t.y=Oi(i,s,!0),t.width=Math.max(Oi(n+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(Oi(i+a,s,!1)-t.y,0===a?0:1),t):t}}(Ai,e,this.style);r=a.x,n=a.y,i=a.width,o=a.height,a.r=e.r,e=a}else r=e.x,n=e.y,i=e.width,o=e.height;e.r?function(t,e){var r,n,i,o,a,s=e.x,u=e.y,l=e.width,c=e.height,h=e.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"==typeof h?r=n=i=o=h:h instanceof Array?1===h.length?r=n=i=o=h[0]:2===h.length?(r=i=h[0],n=o=h[1]):3===h.length?(r=h[0],n=o=h[1],i=h[2]):(r=h[0],n=h[1],i=h[2],o=h[3]):r=n=i=o=0,r+n>l&&(r*=l/(a=r+n),n*=l/a),i+o>l&&(i*=l/(a=i+o),o*=l/a),n+i>c&&(n*=c/(a=n+i),i*=c/a),r+o>c&&(r*=c/(a=r+o),o*=c/a),t.moveTo(s+r,u),t.lineTo(s+l-n,u),0!==n&&t.arc(s+l-n,u+n,n,-Math.PI/2,0),t.lineTo(s+l,u+c-i),0!==i&&t.arc(s+l-i,u+c-i,i,0,Math.PI/2),t.lineTo(s+o,u+c),0!==o&&t.arc(s+o,u+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+r),0!==r&&t.arc(s+r,u+r,r,Math.PI,1.5*Math.PI)}(t,e):t.rect(r,n,i,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ci);Pi.prototype.type="rect";const zi=Pi;r(5306);const Mi={templateName:"defaultTemplate",node:{box:{name:"Rect",normal:{style:{stroke:"#2A2F44",fill:"#fff"},shape:{x:0,y:0,r:15,width:170,height:30}},hover:{style:{stroke:"#2A2F44",fill:"rgba(0,29,255,0.10)"},shape:{x:0,y:0,r:15,width:170,height:30}},selected:{style:{stroke:"#2A2F44",fill:"rgba(0,29,255,0.80)"},shape:{x:0,y:0,r:15,width:170,height:30}}},text:{name:"Text",position:[85,15],normal:{style:{text:"<@nodeName>",fontFamily:"PingFangSC-Regular",fontSize:15,fill:"#2A2F44",align:"center",verticalAlign:"middle",truncate:{outerWidth:110}}},hover:{style:{fontFamily:"PingFangSC-Regular",fontSize:15,textFill:"green"}}},inputCircle:{name:"Circle",normal:{style:{stroke:"#79818F",fill:"#fff",lineWidth:1},shape:{r:4}},hover:{style:{stroke:"#394259",fill:"#394259",lineWidth:1},shape:{r:4}},guide:{style:{stroke:"rgba(60,118,255,0.5)",fill:"#fff",lineWidth:4},shape:{r:4}},guideHover:{style:{stroke:"rgba(60,118,255,0.5)",fill:"#fff",lineWidth:6},shape:{r:6}},circlePosition:"top",horizontalCirclePosition:"left",verticalCirclePosition:"top"},outputCircle:{name:"Circle",normal:{style:{stroke:"#79818F",fill:"#fff",lineWidth:1},shape:{r:4}},hover:{style:{stroke:"#79818F",fill:"grey",lineWidth:1},shape:{r:4}},circlePosition:"bottom",horizontalCirclePosition:"right",verticalCirclePosition:"bottom"}},edge:{line:{name:"BezierCurve",normal:{style:{stroke:"#79818F",lineWidth:1}},hover:{style:{stroke:"#79818F",lineWidth:4}},selected:{style:{stroke:"#79818F",lineWidth:4}}},backline:{name:"BezierCurve",normal:{style:{stroke:"#000000",lineWidth:1}},hover:{style:{stroke:"#000000",lineWidth:2}}},triangle:{name:"Triangle",normal:{shape:{width:10,height:6},style:{fill:"#404D5C"}},hover:{shape:{width:150,height:90},style:{fill:"#404D5C"}},selected:{shape:{width:10,height:6},style:{fill:"#404D5C"}}}}};var Ii={};O(Ii,Mi,{templateName:"iconTemplate"}),Ii.node.icon={name:"Image",normal:{style:{image:"<@imgSrc>",x:10,y:6,width:18,height:18},origin:[19,15]}};const ji=Ii;r(8309);var Li={};O(Li,Mi,{templateName:"diamondTemplate"}),Li.node.box.name="Polygon",Li.node.box.normal.shape={points:[[85,0],[170,50],[85,100],[0,50]]},Li.node.text.x=45,Li.node.text.y=40;const Ni=Li;var Ri=/<@(\w+)>/g,Di=function(){function t(){a(this,t),this.templateObj={defaultTemplate:Mi,iconTemplate:ji,diamondTemplate:Ni}}return u(t,[{key:"registerTemplate",value:function(t,e){e.templateName=t,this.templateObj[t]=e}},{key:"compileTemplate",value:function(t,e,r){var n=this,i=r.templateName,o={nodes:[],edges:[]};return t.forEach((function(t,e){var r=t.templateName?t.templateName:i,a=null;n.templateObj[r]&&n.templateObj[r].node?(a=n.templateObj[r].node,t.templateName=r):(a=n.templateObj.defaultTemplate.node,t.templateName="defaultTemplate");var s=JSON.stringify(a),u=t.defineData;s=s.replace(Ri,(function(t,e,r,n){return u[e]?u[e]:""}));var l={config:JSON.parse(s)};Object.assign(l,t),o.nodes.push(l)})),e.forEach((function(t,e){var r=t.templateName?t.templateName:i,a={config:n.templateObj[r]&&n.templateObj[r].edge?n.templateObj[r].edge:n.templateObj.defaultTemplate.edge};Object.assign(a,t),o.edges.push(a),n.updateConnected(o.nodes,t)})),o}},{key:"updateConnected",value:function(t,e){var r=e.src,n=e.to,i=r.split(":")[0],o=Number(r.split(":")[1]),a=n.split(":")[0],s=Number(n.split(":")[1]);t.forEach((function(t){t.id===i?t.output[o].status="connected":t.id===a&&(t.input[s].status="connected")}))}},{key:"getTemplate",value:function(t){return this.templateObj[t]?this.templateObj[t]:null}},{key:"updateTemplate",value:function(t,e){O(this.templateObj[t],e)}}]),t}(),Bi={isStatic:!1,relationMapping:"o2m",cWidth:500,cHeight:500,templateName:"defaultTemplate",guideLine:{on:!0,style:{stroke:"#1067EE",lineWidth:1,lineDash:[4,4]}},autoSort:{on:!1,horizontal:!0,align:"middle",beginX:20,beginY:20,spaceX:50,spaceY:20},frameSelect:{style:{opacity:.2,fill:"#1067EE",stroke:"#000",lineWidth:1}},templineStyle:{stroke:"#108cee",lineWidth:1},pan:{default:!1},zoom:{default:!1,minScale:.2,maxScale:5},dragWithinCanvas:!0},Fi=function(){function t(e){a(this,t);var r=T(Bi);this.options=O(r,e,!0)}return u(t,[{key:"getZrOptions",value:function(){var t=this,e={renderer:"canvas",devicePixelRatio:window.devicePixelRatio,width:this.options.cWidth,height:this.options.cHeight};if(!this.zrOptions){var r=Object.keys(e);this.zrOptions=Object.assign({},e),r.forEach((function(e){t.options[e]&&(t.zrOptions[e]=t.options[e])}))}return this.zrOptions}}]),t}();function Wi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hi(t,e){return Hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hi(t,e)}function Gi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hi(t,e)}function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Xi(t,e){if(e&&("object"===Yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function Ui(t){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ui(t)}r(1249),r(2419);var Vi=function(){function t(){a(this,t)}return u(t,[{key:"render",value:function(){}},{key:"getRecPointsPosition",value:function(t,e,r){var n=r||this.dom.box;if(n&&Array.isArray(t)){var i=n.shape,o=i.x,a=i.y,s=i.width,u=i.height,l=[],c=0,h=t.filter((function(t){return!t.position})).length;switch(e){default:l=[o,a],c=s/(h+1);break;case"right":l=[o+s,a],c=u/(h+1);break;case"bottom":l=[o,a+u],c=s/(h+1);break;case"left":l=[o,a],c=u/(h+1)}return t.map((function(t,r){return t.position?t.position:"right"===e||"left"===e?[l[0],l[1]+c*(r+1)]:"top"===e||"bottom"===e?[l[0]+c*(r+1),l[1]]:[0,0]}))}return[]}},{key:"getPolygonPointsPosition",value:function(t,e){var r=e||this.dom.box;if(r&&Array.isArray(t)){var n=r.shape,i=n.points,o=n.width,a=n.height;o=o||i[1][0]-i[3][0],a=a||i[2][1]-i[0][1];var s=[];return t.map((function(t,e){switch(t.align||"bottom"){default:s=i[0];break;case"right":s=i[1];break;case"bottom":s=i[2];break;case"left":s=i[3]}return[s[0],s[1]]}))}return[]}}],[{key:"registerNode",value:function(t,e){if(this.nodeClazz[t])throw new Error("Do not repeat extends Node with same templateName: ".concat(t));this.nodeClazz[t]=e}},{key:"getClazzByName",value:function(t){return this.nodeClazz[t]}},{key:"extend",value:function(e){var r=function(r){Gi(s,r);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ui(n);if(i){var r=Ui(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Xi(this,t)});function s(t){var r;return a(this,s),(r=o.call(this,t)).props=E([{},e.props,t&&t.props?t.props:{}],!0),r.drawName=e.drawName,e.$constructor&&e.$constructor.call(Wi(r),t),r}return u(s,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),s}(t);return A(r.prototype,e),this.registerNode(e.drawName,r),r}}]),t}();Vi.nodeClazz={};var Zi=function(){function t(){a(this,t)}return u(t,[{key:"render",value:function(){}}],[{key:"registerEdge",value:function(t,e){if(this.edgeClazz[t])throw new Error("Do not repeat extends edge with same name: ".concat(t));this.edgeClazz[t]=e}},{key:"getClazzByName",value:function(t){return this.edgeClazz[t]}},{key:"extend",value:function(e){var r=function(r){Gi(s,r);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ui(n);if(i){var r=Ui(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Xi(this,t)});function s(t){var r;return a(this,s),(r=o.call(this,t)).props=E([{},e.props,t&&t.props?t.props:{}],!0),r.drawName=e.drawName,e.$constructor&&e.$constructor.call(Wi(r),t),r}return u(s,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),s}(t);return A(r.prototype,e),this.registerEdge(e.drawName,r),r}}]),t}();Zi.edgeClazz={};var qi=function(){function t(){a(this,t)}return u(t,[{key:"render",value:function(){}}],[{key:"registerDraw",value:function(t,e){if(this.draw[t])throw new Error("Do not repeat extends Draw with same drawName: ".concat(t));this.draw[t]=e}},{key:"getClazzByName",value:function(t){return this.draw[t]}},{key:"extend",value:function(e){var r=function(r){Gi(s,r);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ui(n);if(i){var r=Ui(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Xi(this,t)});function s(t){var r;return a(this,s),(r=o.call(this,t)).props=E([{},e.props,t&&t.props?t.props:{}],!0),r.drawName=e.drawName,e.$constructor&&e.$constructor.call(Wi(r),t),r}return u(s,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),s}(t);return A(r.prototype,e),this.registerDraw(e.drawName,r),r}}]),t}();qi.draw={};var $i={},Ki=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Qi=function(t){function e(e){return t.call(this,e)||this}return q(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ki},e.prototype.buildPath=function(t,e){var r,n,i,o;if(this.subPixelOptimize){var a=function(t,e,r){if(e){var n=e.x1,i=e.x2,o=e.y1,a=e.y2;t.x1=n,t.x2=i,t.y1=o,t.y2=a;var s=r&&r.lineWidth;return s?(Ti(2*n)===Ti(2*i)&&(t.x1=t.x2=Oi(n,s,!0)),Ti(2*o)===Ti(2*a)&&(t.y1=t.y2=Oi(o,s,!0)),t):t}}($i,e,this.style);r=a.x1,n=a.y1,i=a.x2,o=a.y2}else r=e.x1,n=e.y1,i=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(r,n),s<1&&(i=r*(1-s)+i*s,o=n*(1-s)+o*s),t.lineTo(i,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(Ci);Qi.prototype.type="line";const Ji=Qi;function to(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("数组为空");var n=[];try{for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Number(e[i][o]);isNaN(a)?n[o]?n[o]+=e[i][o]:n[o]=e[i][o]:n[o]?n[o]+=a:n[o]=a}}catch(t){console.log("遍历出问题了")}return n}function eo(t,e){var r=t.src.split(":"),n=t.to.split(":"),i=e.find((function(t){return t.props.id===r[0]})),o=e.find((function(t){return t.props.id===n[0]}));if(!i||!o)return null;var a={top:"bottom",right:"left",bottom:"top",left:"right"}[o.props.config.inputCircle.circlePosition||"bottom"],s=[i.dom.group.x,i.dom.group.y],u=[o.dom.group.x,o.dom.group.y],l=i.children.outputCircles[r[1]].dom,c=[l.x,l.y],h=l.shape.r+l.style.lineWidth-1,f=[0,0],p=o.children.inputCircles[n[1]].dom,d=[p.x,p.y],v=p.shape.r+p.style.lineWidth-1,g=[0,0];if(!l.invisible)switch(a){case"top":f=[0,-1*h];break;case"right":f=[h,0];break;case"bottom":f=[0,h],g=[0,-1*v];break;case"left":f=[-1*h,0]}if(!p.invisible)switch(a){case"top":g=[0,v];break;case"right":g=[-1*v,0];break;case"bottom":g=[0,-1*v];break;case"left":g=[v,0]}return{start:to(s,c,f),end:to(u,d,g),pointTo:a}}function ro(t,e,r,n){var i=[];switch(i.push(r),n){case"top":i.push([r[0]-t/2,r[1]+e]),i.push(r[0]+t/2,r[1]+e);break;case"right":i.push([r[0]-e,r[1]-t/2]),i.push([r[0]-e,r[1]+t/2]);break;default:i.push([r[0]-t/2,r[1]-e]),i.push([r[0]+t/2,r[1]-e]);break;case"left":i.push([r[0]+e,r[1]-t/2]),i.push([r[0]+e,r[1]+t/2])}return i}function no(t,e,r){var n=[e.event.zrX,e.event.zrY],a=t.getBoundingRect();t.updateTransform(),t.transform&&a.applyTransform(t.transform);var s=[1,0,0,1,0,0];t.transform&&$e(s,t.transform);var u=[a.x,a.y],l=[a.x+a.width,a.y+a.height],c=r.cWidth,h=r.cHeight,f=r.dragWithinCanvas,p=[0,4],d=[c,h-4];return function(e,r,a){var c=e.workflowObj,h=c.nodes.find((function(e){return e.dom.group.id===t.id}));if(h){var v=e.data.nodes.find((function(t){return h.props.id===t.id}));if(a)t.drift.apply(t,i(a));else{var g=[r.event.zrX-n[0],r.event.zrY-n[1]],y=f?g.map((function(t,e){return t<0?u[e]<p[e]?t=0:u[e]+t<p[e]&&(t=p[e]-u[e]):t>0&&(l[e]>d[e]?t=0:l[e]+t>d[e]&&(t=d[e]-l[e])),t})):g,m=o(y,2),_=m[0],w=m[1];t.transform=t.transform||[1,0,0,1,0,0],$e(t.transform,s),t.drift(_,w)}h.props.x=t.x,h.props.y=t.y,v.x=t.x,v.y=t.y,t.dirty();var b=c.nodes.find((function(e){return e.dom.group.id===t.id}));e.triggerCustomEvent("dragNode",{target:b})}}}function io(t,e){return e.workflowObj.nodes.find((function(e,r){return e.dom.group.id===t.parent.id}))}var oo=function(){function t(){a(this,t),this.props={normal:{}},this.options={},this.status="normal",this.dom=null}return u(t,[{key:"render",value:function(){}},{key:"init",value:function(){if(this.dom=this.render(),!this.dom)throw new Error("render() function needs return a zrender.Displayable instance")}},{key:"setStatus",value:function(t){this.props[t]&&(this.status=t),this.setRenderProps()}},{key:"setRenderProps",value:function(){this.dom&&this.dom.attr(this.getRenderProps())}},{key:"getRenderProps",value:function(){var t=this.props.normal;return this.props[this.status]&&(t=this.props[this.status]),O({},t)}}],[{key:"registerShape",value:function(t,e){if(this.clazz[t])throw new Error("Do not repeat extends Shape with same type: ".concat(t));this.clazz[t]=e}},{key:"getClazzByName",value:function(t){return this.clazz[t]}},{key:"extend",value:function(e){var r=function(r){Gi(s,r);var n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ui(n);if(i){var r=Ui(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Xi(this,t)});function s(t){var r;return a(this,s),(r=o.call(this,t)).props=E([{},e.props,t&&t.props?t.props:{}],!0),r.options=E([{},e.options,t&&t.options?t.options:{}],!0),r.status=r.options.status||"normal",r.type=e.type,r}return u(s,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),s}(t);return A(r.prototype,e),this.registerShape(e.type,r),r}}]),t}();oo.clazz={};var ao=[],so=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function uo(t,e,r){var n=t.cpx2,i=t.cpy2;return null===n||null===i?[(r?yn:gn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?yn:gn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?xn:bn)(t.x1,t.cpx1,t.x2,e),(r?xn:bn)(t.y1,t.cpy1,t.y2,e)]}var lo=function(t){function e(e){return t.call(this,e)||this}return q(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new so},e.prototype.buildPath=function(t,e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,u=e.cpx2,l=e.cpy2,c=e.percent;0!==c&&(t.moveTo(r,n),null==u||null==l?(c<1&&(Sn(r,a,i,c,ao),a=ao[1],i=ao[2],Sn(n,s,o,c,ao),s=ao[1],o=ao[2]),t.quadraticCurveTo(a,s,i,o)):(c<1&&(_n(r,a,u,i,c,ao),a=ao[1],u=ao[2],i=ao[3],_n(n,s,l,o,c,ao),s=ao[1],l=ao[2],o=ao[3]),t.bezierCurveTo(a,s,u,l,i,o)))},e.prototype.pointAt=function(t){return uo(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=uo(this.shape,t,!0);return function(t,e){var r=function(t){return Math.sqrt(function(t){return t[0]*t[0]+t[1]*t[1]}(t))}(e);return 0===r?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}(e,e)},e}(Ci);lo.prototype.type="bezier-curve";const co=lo,ho={type:"BezierCurve",props:{normal:{shape:{},style:{}}},render:function(){var t=this.getRenderProps();t.shape.x1=this.props.start[0],t.shape.y1=this.props.start[1],t.shape.x2=this.props.end[0],t.shape.y2=this.props.end[1];var e=function(t,e,r){var n=t,i=e;switch(r){case"top":n=to(t,[0,-20]),i=to(e,[0,20]);break;case"right":n=to(t,[20,0]),i=to(e,[-20,0]);break;case"bottom":n=to(t,[0,20]),i=to(e,[0,-20]);break;case"left":n=to(t,[-20,0]),i=to(e,[20,0])}return[n,i]}(this.props.start,this.props.end,this.props.pointTo);return e.forEach((function(e,r){t.shape["cpx"+(r+1)]=e[0],t.shape["cpy"+(r+1)]=e[1]})),new co(t)}};function fo(t,e,r,n,i,o,a){var s=.5*(r-t),u=.5*(n-e);return(2*(e-r)+s+u)*a+(-3*(e-r)-2*s-u)*o+s*i+e}var po=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},vo=function(t){function e(e){return t.call(this,e)||this}return q(e,t),e.prototype.getDefaultShape=function(){return new po},e.prototype.buildPath=function(t,e){!function(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n&&"spline"!==n){var o=function(t,e,r,n){var i,o,a,s,u=[],l=[],c=[],h=[];if(n){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++)ot(a,a,t[f]),at(s,s,t[f]);ot(a,a,n[0]),at(s,s,n[1])}for(f=0,p=t.length;f<p;f++){var d=t[f];if(r)i=t[f?f-1:p-1],o=t[(f+1)%p];else{if(0===f||f===p-1){u.push(K(t[f]));continue}i=t[f-1],o=t[f+1]}J(l,o,i),tt(l,l,e);var v=et(d,i),g=et(d,o),y=v+g;0!==y&&(v/=y,g/=y),tt(c,l,-v),tt(h,l,g);var m=Q([],d,c),_=Q([],d,h);n&&(at(m,m,a),ot(m,m,s),at(_,_,a),ot(_,_,s)),u.push(m),u.push(_)}return r&&u.push(u.shift()),u}(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(r?a:a-1);s++){var u=o[2*s],l=o[2*s+1],c=i[(s+1)%a];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{"spline"===n&&(i=function(t,e){for(var r=t.length,n=[],i=0,o=1;o<r;o++)i+=et(t[o-1],t[o]);var a=i/2;for(a=a<r?r:a,o=0;o<a;o++){var s=o/(a-1)*(e?r:r-1),u=Math.floor(s),l=s-u,c=void 0,h=t[u%r],f=void 0,p=void 0;e?(c=t[(u-1+r)%r],f=t[(u+1)%r],p=t[(u+2)%r]):(c=t[0===u?u:u-1],f=t[u>r-2?r-1:u+1],p=t[u>r-3?r-1:u+2]);var d=l*l,v=l*d;n.push([fo(c[0],h[0],f[0],p[0],l,d,v),fo(c[1],h[1],f[1],p[1],l,d,v)])}return n}(i,r)),t.moveTo(i[0][0],i[0][1]),s=1;for(var h=i.length;s<h;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}(t,e,!0)},e}(Ci);vo.prototype.type="polygon";const go=vo,yo={type:"Triangle",props:{normal:{shape:{},style:{}}},render:function(){var t=this.getRenderProps(),e=this.props.end,r=ro(t.shape.width,t.shape.height,e,this.props.pointTo);return t.shape.points=r,new go(t)}},mo={type:"Line",props:{normal:{shape:{},style:{}}},init:function(){if(this.dom=this.render(),!this.dom)throw new Error("render() function needs return a zrender.Displayable instance")},render:function(t){var e=this.getRenderProps();return e.shape.x1=this.props.x1,e.shape.y1=this.props.y1,e.shape.x2=this.props.x2,e.shape.y2=this.props.y2,new Ji(e)}};var _o=new Qt(50);function wo(t){if("string"==typeof t){var e=_o.get(t);return e&&e.image}return t}function bo(t,e,r,n,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!r)return e;var o=_o.get(t),a={hostEl:r,cb:n,cbPayload:i};return o?!ko(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=xo,_o.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function xo(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function ko(t){return t&&t.width&&t.height}var So=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Co(t,e,r,n,i){if(!e)return"";var o=(t+"").split("\n");i=To(e,r,n,i);for(var a=0,s=o.length;a<s;a++)o[a]=Oo(o[a],i);return o.join("\n")}function To(t,e,r,n){var i=A({},n=n||{});i.font=e,r=G(r,"..."),i.maxIterations=G(n.maxIterations,2);var o=i.minChar=G(n.minChar,0);i.cnCharWidth=Or("国",e);var a=i.ascCharWidth=Or("a",e);i.placeholder=G(n.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<o&&s>=a;u++)s-=a;var l=Or(r,e);return l>s&&(r="",l=0),s=t-l,i.ellipsis=r,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function Oo(t,e){var r=e.containerWidth,n=e.font,i=e.contentWidth;if(!r)return"";var o=Or(t,n);if(o<=r)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?Eo(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=Or(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function Eo(t,e,r,n){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?r:n}return o}var Ao=function(){},Po=function(t){this.tokens=[],t&&(this.tokens=t)},zo=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Mo(t,e,r,n,i){var o,a,s=""===e,u=i&&r.rich[i]||{},l=t.lines,c=u.font||r.font,h=!1;if(n){var f=u.padding,p=f?f[1]+f[3]:0;if(null!=u.width&&"auto"!==u.width){var d=Mr(u.width,n.width)+p;l.length>0&&d+n.accumWidth>n.width&&(o=e.split("\n"),h=!0),n.accumWidth=d}else{var v=Lo(e,c,n.width,n.breakAll,n.accumWidth);n.accumWidth=v.accumWidth+p,a=v.linesWidths,o=v.lines}}else o=e.split("\n");for(var g=0;g<o.length;g++){var y=o[g],m=new Ao;if(m.styleName=i,m.text=y,m.isLineHolder=!y&&!s,"number"==typeof u.width?m.width=u.width:m.width=a?a[g]:Or(y,c),g||h)l.push(new Po([m]));else{var _=(l[l.length-1]||(l[0]=new Po)).tokens,w=_.length;1===w&&_[0].isLineHolder?_[0]=m:(y||!w||s)&&_.push(m)}}}var Io=function(t,e,r,n){if(t&&e){for(var i=0,o=t.length;i<o;i++)r=e.call(undefined,r,t[i],i,t);return r}}(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function jo(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=255}(t)||!!Io[t]}function Lo(t,e,r,n,i){for(var o=[],a=[],s="",u="",l=0,c=0,h=0;h<t.length;h++){var f=t.charAt(h);if("\n"!==f){var p=Or(f,e),d=!n&&!jo(f);(o.length?c+p>r:i+c+p>r)?c?(s||u)&&(d?(s||(s=u,u="",c=l=0),o.push(s),a.push(c-l),u+=f,s="",c=l+=p):(u&&(s+=u,c+=l,u="",l=0),o.push(s),a.push(c),s=f,c=p)):d?(o.push(u),a.push(l),u=f,l=p):(o.push(f),a.push(p)):(c+=p,d?(u+=f,l+=p):(u&&(s+=u,u="",l=0),s+=f))}else u&&(s+=u,c+=l),o.push(s),a.push(c),s="",u="",l=0,c=0}return o.length||s||(s=t,u="",l=0),u&&(s+=u),s&&(o.push(s),a.push(c)),1===o.length&&(c+=i),{accumWidth:c,lines:o,linesWidths:a}}var No=P({strokeFirst:!0,font:Cr,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},xi),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return U(No,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var r=function(t,e,r,n){var i=((t||"")+"").split("\n");if(1===i.length)return Er(i[0],e,r,n);for(var o=new br(0,0,0,0),a=0;a<i.length;a++){var s=Er(i[a],e,r,n);0===a?o.copy(s):o.union(s)}return o}(e,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var n=t.lineWidth;r.x-=n/2,r.y-=n/2,r.width+=n,r.height+=n}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(on);Ro.prototype.type="tspan";const Do=Ro;var Bo=P({x:0,y:0},Kr),Fo={style:P({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Qr.style)},Wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q(e,t),e.prototype.createStyle=function(t){return U(Bo,t)},e.prototype._getSize=function(t){var e=this.style,r=e[t];if(null!=r)return r;var n,i=(n=e.image)&&"string"!=typeof n&&n.width&&n.height?e.image:this.__image;if(!i)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?i[t]:i[t]/i[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Fo},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new br(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(on);Wo.prototype.type="image";const Ho=Wo;var Go={fill:"#000"},Yo={style:P({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Qr.style)},Xo=function(t){function e(e){var r=t.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Go,r.attr(e),r}return q(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,Zo(t=this.style),L(t.rich,Zo),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new br(0,0,0,0),e=this._children,r=[],n=null,i=0;i<e.length;i++){var o=e[i],a=o.getBoundingRect(),s=o.getLocalTransform(r);s?(t.copy(a),t.applyTransform(s),(n=n||t.clone()).union(t)):(n=n||a.clone()).union(a)}this._rect=n||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Go},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var r=e.rich,n=t.rich||r&&{};return A(t,e),r&&n?(this._mergeRich(n,r),t.rich=n):n&&(t.rich=n),t},e.prototype._mergeRich=function(t,e){for(var r=R(e),n=0;n<r.length;n++){var i=r[n];t[i]=t[i]||{},A(t[i],e[i])}},e.prototype.getAnimationStyleProps=function(){return Yo},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||Cr,r=t.padding,n=function(t,e){null!=t&&(t+="");var r,n=e.overflow,i=e.padding,o=e.font,a="truncate"===n,s=zr(o),u=G(e.lineHeight,s),l="truncate"===e.lineOverflow,c=e.width,h=(r=null!=c&&"break"===n||"breakAll"===n?t?Lo(t,e.font,c,"breakAll"===n,0).lines:[]:t?t.split("\n"):[]).length*u,f=G(e.height,h);if(h>f&&l){var p=Math.floor(f/u);r=r.slice(0,p)}var d=f,v=c;if(i&&(d+=i[0]+i[2],null!=v&&(v+=i[1]+i[3])),t&&a&&null!=v)for(var g=To(c,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y=0;y<r.length;y++)r[y]=Oo(r[y],g);if(null==c){var m=0;for(y=0;y<r.length;y++)m=Math.max(Or(r[y],o),m);c=m}return{lines:r,height:f,outerHeight:d,lineHeight:u,calculatedLineHeight:s,contentHeight:h,width:c}}(Qo(t),t),i=Jo(t),o=!!t.backgroundColor,a=n.outerHeight,s=n.lines,u=n.lineHeight,l=this._defaultStyle,c=t.x||0,h=t.y||0,f=t.align||l.align||"left",p=t.verticalAlign||l.verticalAlign||"top",d=c,v=Pr(h,n.contentHeight,p);if(i||r){var g=n.width;r&&(g+=r[1]+r[3]);var y=Ar(c,g,f),m=Pr(h,a,p);i&&this._renderBackground(t,t,y,m,g,a)}v+=u/2,r&&(d=Ko(c,f,r),"top"===p?v+=r[0]:"bottom"===p&&(v-=r[2]));for(var _=0,w=!1,b=($o("fill"in t?t.fill:(w=!0,l.fill))),x=(qo("stroke"in t?t.stroke:o||l.autoStroke&&!w?null:(_=2,l.stroke))),k=t.textShadowBlur>0,S=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),C=n.calculatedLineHeight,T=0;T<s.length;T++){var O=this._getOrCreateChild(Do),E=O.createStyle();O.useStyle(E),E.text=s[T],E.x=d,E.y=v,f&&(E.textAlign=f),E.textBaseline="middle",E.opacity=t.opacity,E.strokeFirst=!0,k&&(E.shadowBlur=t.textShadowBlur||0,E.shadowColor=t.textShadowColor||"transparent",E.shadowOffsetX=t.textShadowOffsetX||0,E.shadowOffsetY=t.textShadowOffsetY||0),x&&(E.stroke=x,E.lineWidth=t.lineWidth||_,E.lineDash=t.lineDash,E.lineDashOffset=t.lineDashOffset||0),b&&(E.fill=b),E.font=e,v+=u,S&&O.setBoundingRect(new br(Ar(E.x,t.width,E.textAlign),Pr(E.y,C,E.textBaseline),t.width,C))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var r=new zo;if(null!=t&&(t+=""),!t)return r;for(var n,i=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===a},u=So.lastIndex=0;null!=(n=So.exec(t));){var l=n.index;l>u&&Mo(r,t.substring(u,l),e,s),Mo(r,n[2],e,s,n[1]),u=So.lastIndex}u<t.length&&Mo(r,t.substring(u,t.length),e,s);var c=[],h=0,f=0,p=e.padding,d="truncate"===a,v="truncate"===e.lineOverflow;function g(t,e,r){t.width=e,t.lineHeight=r,h+=r,f=Math.max(f,e)}t:for(var y=0;y<r.lines.length;y++){for(var m=r.lines[y],_=0,w=0,b=0;b<m.tokens.length;b++){var x=(M=m.tokens[b]).styleName&&e.rich[M.styleName]||{},k=M.textPadding=x.padding,S=k?k[1]+k[3]:0,C=M.font=x.font||e.font;M.contentHeight=zr(C);var T=G(x.height,M.contentHeight);if(M.innerHeight=T,k&&(T+=k[0]+k[2]),M.height=T,M.lineHeight=Y(x.lineHeight,e.lineHeight,T),M.align=x&&x.align||e.align,M.verticalAlign=x&&x.verticalAlign||"middle",v&&null!=o&&h+M.lineHeight>o){b>0?(m.tokens=m.tokens.slice(0,b),g(m,w,_),r.lines=r.lines.slice(0,y+1)):r.lines=r.lines.slice(0,y);break t}var O=x.width,E=null==O||"auto"===O;if("string"==typeof O&&"%"===O.charAt(O.length-1))M.percentWidth=O,c.push(M),M.contentWidth=Or(M.text,C);else{if(E){var A=x.backgroundColor,P=A&&A.image;P&&ko(P=wo(P))&&(M.width=Math.max(M.width,P.width*T/P.height))}var z=d&&null!=i?i-w:null;null!=z&&z<M.width?!E||z<S?(M.text="",M.width=M.contentWidth=0):(M.text=Co(M.text,z-S,C,e.ellipsis,{minChar:e.truncateMinChar}),M.width=M.contentWidth=Or(M.text,C)):M.contentWidth=Or(M.text,C)}M.width+=S,w+=M.width,x&&(_=Math.max(_,M.lineHeight))}g(m,w,_)}for(r.outerWidth=r.width=G(i,f),r.outerHeight=r.height=G(o,h),r.contentHeight=h,r.contentWidth=f,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]),y=0;y<c.length;y++){var M,I=(M=c[y]).percentWidth;M.width=parseInt(I,10)/100*r.width}return r}(Qo(t),t),r=e.width,n=e.outerWidth,i=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,u=this._defaultStyle,l=t.align||u.align,c=t.verticalAlign||u.verticalAlign,h=Ar(a,n,l),f=Pr(s,i,c),p=h,d=f;o&&(p+=o[3],d+=o[0]);var v=p+r;Jo(t)&&this._renderBackground(t,t,h,f,n,i);for(var g=!!t.backgroundColor,y=0;y<e.lines.length;y++){for(var m=e.lines[y],_=m.tokens,w=_.length,b=m.lineHeight,x=m.width,k=0,S=p,C=v,T=w-1,O=void 0;k<w&&(!(O=_[k]).align||"left"===O.align);)this._placeToken(O,t,b,d,S,"left",g),x-=O.width,S+=O.width,k++;for(;T>=0&&"right"===(O=_[T]).align;)this._placeToken(O,t,b,d,C,"right",g),x-=O.width,C-=O.width,T--;for(S+=(r-(S-p)-(v-C)-x)/2;k<=T;)O=_[k],this._placeToken(O,t,b,d,S+O.width/2,"center",g),S+=O.width,k++;d+=b}},e.prototype._placeToken=function(t,e,r,n,i,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var u=t.verticalAlign,l=n+r/2;"top"===u?l=n+t.height/2:"bottom"===u&&(l=n+r-t.height/2),!t.isLineHolder&&Jo(s)&&this._renderBackground(s,e,"right"===o?i-t.width:"center"===o?i-t.width/2:i,l-t.height/2,t.width,t.height);var c=!!s.backgroundColor,h=t.textPadding;h&&(i=Ko(i,o,h),l-=t.height/2-h[0]-t.innerHeight/2);var f=this._getOrCreateChild(Do),p=f.createStyle();f.useStyle(p);var d=this._defaultStyle,v=!1,g=0,y=$o("fill"in s?s.fill:"fill"in e?e.fill:(v=!0,d.fill)),m=qo("stroke"in s?s.stroke:"stroke"in e?e.stroke:c||a||d.autoStroke&&!v?null:(g=2,d.stroke)),_=s.textShadowBlur>0||e.textShadowBlur>0;p.text=t.text,p.x=i,p.y=l,_&&(p.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,p.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",p.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,p.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),p.textAlign=o,p.textBaseline="middle",p.font=t.font||Cr,p.opacity=Y(s.opacity,e.opacity,1),m&&(p.lineWidth=Y(s.lineWidth,e.lineWidth,g),p.lineDash=G(s.lineDash,e.lineDash),p.lineDashOffset=e.lineDashOffset||0,p.stroke=m),y&&(p.fill=y);var w=t.contentWidth,b=t.contentHeight;f.setBoundingRect(new br(Ar(p.x,w,p.textAlign),Pr(p.y,b,p.textBaseline),w,b))},e.prototype._renderBackground=function(t,e,r,n,i,o){var a,s,u,l=t.backgroundColor,c=t.borderWidth,h=t.borderColor,f=l&&l.image,p=l&&!f,d=t.borderRadius,v=this;if(p||t.lineHeight||c&&h){(a=this._getOrCreateChild(zi)).useStyle(a.createStyle()),a.style.fill=null;var g=a.shape;g.x=r,g.y=n,g.width=i,g.height=o,g.r=d,a.dirtyShape()}if(p)(u=a.style).fill=l||null,u.fillOpacity=G(t.fillOpacity,1);else if(f){(s=this._getOrCreateChild(Ho)).onload=function(){v.dirtyStyle()};var y=s.style;y.image=l.image,y.x=r,y.y=n,y.width=i,y.height=o}c&&h&&((u=a.style).lineWidth=c,u.stroke=h,u.strokeOpacity=G(t.strokeOpacity,1),u.lineDash=t.borderDash,u.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(u.strokeFirst=!0,u.lineWidth*=2));var m=(a||s).style;m.shadowBlur=t.shadowBlur||0,m.shadowColor=t.shadowColor||"transparent",m.shadowOffsetX=t.shadowOffsetX||0,m.shadowOffsetY=t.shadowOffsetY||0,m.opacity=Y(t.opacity,e.opacity,1)},e.makeFont=function(t){var e,r="";if(t.fontSize||t.fontFamily||t.fontWeight){var n="";n="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,r=[t.fontStyle,t.fontWeight,n,t.fontFamily||"sans-serif"].join(" ")}return r&&(null==(e=r)?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))||t.textFont||t.font},e}(on),Uo={left:!0,right:1,center:1},Vo={top:1,bottom:1,middle:1};function Zo(t){if(t){t.font=Xo.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||Uo[e]?e:"left";var r=t.verticalAlign;"center"===r&&(r="middle"),t.verticalAlign=null==r||Vo[r]?r:"top",t.padding&&(t.padding=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}(t.padding))}}function qo(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function $o(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Ko(t,e,r){return"right"===e?t-r[1]:"center"===e?t+r[3]/2-r[1]/2:t+r[3]}function Qo(t){var e=t.text;return null!=e&&(e+=""),e}function Jo(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const ta=Xo,ea={type:"Text",props:{normal:{shape:{},style:{}}},render:function(){var t=new ta(this.getRenderProps());return t.x=this.props.x||this.props.position[0],t.y=this.props.y||this.props.position[1],t}},ra={type:"Rect",props:{normal:{shape:{},style:{}},hover:{shape:{},style:{}}},render:function(){return new zi(this.getRenderProps())}},na={type:"Image",props:{normal:{shape:{},style:{}}},render:function(){return new Ho(this.getRenderProps())}};var ia=function(){this.cx=0,this.cy=0,this.r=0},oa=function(t){function e(e){return t.call(this,e)||this}return q(e,t),e.prototype.getDefaultShape=function(){return new ia},e.prototype.buildPath=function(t,e,r){r&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(Ci);oa.prototype.type="circle";const aa=oa,sa={type:"Circle",props:{position:[0,0],x:0,y:0,normal:{shape:{},style:{}}},render:function(t){var e=new aa(this.getRenderProps());return e.x=this.props.x||this.props.position[0],e.y=this.props.y||this.props.position[1],e}},ua={type:"Polygon",props:{normal:{shape:{},style:{}},hover:{shape:{},style:{}}},render:function(){return new go(this.getRenderProps())}};function la(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ca(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?la(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}oo.extend(ho),oo.extend(yo),oo.extend(mo),oo.extend(ea),oo.extend(ra),oo.extend(na),oo.extend(sa),oo.extend(ua);const ha={drawName:"basic",props:{nodes:[],edges:[]},$constructor:function(){this.nodes=[],this.edges=[]},render:function(t,e){var r=this;this.nodes=[],this.edges=[];var n=new Xr;return Array.isArray(this.props.nodes)&&this.props.nodes.forEach((function(t){var i=new(Vi.getClazzByName("basicNode"))({props:t});r.nodes.push(i),n.add(i.render(e))})),Array.isArray(this.props.edges)&&this.props.edges.forEach((function(t){var i=ca(ca({},eo(t,r.nodes)),t),o=new(Zi.getClazzByName("basicEdge"))({props:i});r.edges.push(o),n.add(o.render(e))})),n}};function fa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pa(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?fa(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const da={drawName:"basicNode",props:{id:"",nodeName:"",position:[0,0],input:[],output:[],config:{}},$constructor:function(){this.dom={},this.dom.group=new Xr,this.children={}},renderInputCircle:function(){var t=this;if(Array.isArray(this.props.input)){var e=this.dom.group,r=this.props.config.inputCircle.circlePosition||"top",n="Polygon"===this.props.config.box.name?this.getPolygonPointsPosition(this.props.input):this.getRecPointsPosition(this.props.input,r);this.props.input.forEach((function(r,i){var a=oo.getClazzByName("Circle"),s=o(n[i],2),u=s[0],l=s[1],c=new a({props:pa(pa({},t.props.config.inputCircle||{}),{},{x:u,y:l})});"connected"===r.status&&c.setStatus("connected"),c.init(),e.add(c.dom),Array.isArray(t.dom.inputCircles)?(t.dom.inputCircles.push(c.dom),t.children.inputCircles.push(c)):(t.dom.inputCircles=[c.dom],t.children.inputCircles=[c])}))}},renderOutputCircle:function(){var t=this;if(Array.isArray(this.props.output)){var e=this.dom.group,r=this.props.config.box.name,n="";"Polygon"!==r&&(n=this.props.config.outputCircle.circlePosition||"bottom");var i="Polygon"===r?this.getPolygonPointsPosition(this.props.output):this.getRecPointsPosition(this.props.output,n);this.props.output.forEach((function(r,n){var a=oo.getClazzByName("Circle"),s=o(i[n],2),u=s[0],l=s[1],c=Object.assign({},t.props.config.outputCircle||{});r.config&&Object.assign(c,r.config);var h=new a({props:pa(pa({},c),{},{x:u,y:l})});h.init(),e.add(h.dom),Array.isArray(t.dom.outputCircles)?(t.dom.outputCircles.push(h.dom),t.children.outputCircles.push(h)):(t.dom.outputCircles=[h.dom],t.children.outputCircles=[h])}))}},render:function(t){var e=this.dom.group;if(e&&e.removeAll(),e.z=this.props.z||0,e.x=this.props.x||this.props.position[0],e.y=this.props.y||this.props.position[1],this.props.config){for(var r in this.props.config)if(this.props.config.hasOwnProperty(r)&&"inputCircle"!==r&&"outputCircle"!==r){var n=this.props.config[r],i=new(oo.getClazzByName(n.name))({props:n,options:t});i.init(),this.dom[r]=i.dom,this.children[r]=i,e.add(i.dom)}this.renderInputCircle(),this.renderOutputCircle()}return e}};function va(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?va(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r(3210),r(1038),r(8783);const ya={drawName:"basicEdge",props:{},$constructor:function(){this.dom={group:new Xr},this.children={}},renderTriangle:function(){var t=this.dom.group;if(this.props.config.triangle){var e=this.props.config.triangle,r=new(oo.getClazzByName(e.name))({props:ga({start:this.props.start,end:this.props.end,pointTo:this.props.pointTo},e)});r.init(),this.dom.triangle=r.dom,this.children.triangle=r,t.add(r.dom)}},renderText:function(){var t=this.dom.group;if(this.props.text&&this.props.text.trim().length>0){var e=new(oo.getClazzByName("Text"))({props:{normal:{style:{text:this.props.text,textFill:"#2A2F44",fontSize:15}},x:this.props.x||this.props.textPosition[0],y:this.props.y||this.props.textPosition[1]}});e.init(),this.dom.text=e.dom,this.children.text=e,t.add(e.dom)}},render:function(t){var e=this,r=this.dom.group;if(r&&r.removeAll(),this.renderText(),this.props.config&&this.props.passPos){var n=new Xr,i=new Xr;this.renderTriangle();var o=this.props.config.line,a=this.props.config.backline,s=oo.getClazzByName("Line"),u=this.props,l=u.start,c=u.end,h=u.passPos,f=u.pointTo,p=this.dom.triangle.shape.height;switch(f){default:c[1]=this.props.end[1]+p;break;case"right":c[0]=this.props.end[0]-p;break;case"bottom":c[1]=this.props.end[1]-p;break;case"left":c[0]=this.props.end[0]+p}h.unshift(l),h.push(c);var d=h.length;h.forEach((function(t,e){if(e<d-1){var r=ga(ga({},o),{},{x1:t[0],y1:t[1],x2:h[e+1][0],y2:h[e+1][1]}),u=ga(ga({},a),{},{x1:t[0],y1:t[1],x2:h[e+1][0],y2:h[e+1][1]}),l=new s({props:r});l.init(),n.add(l.dom);var c=new s({props:u});c.init(),i.add(c.dom)}})),this.dom.line=n,this.children.line=n,r.add(n),this.dom.backline=i,this.children.backline=i,r.add(i)}else this.props.config&&(this.renderTriangle(),Object.keys(this.props.config).forEach((function(n){var i=e.props.config[n];if("Triangle"!==i.name){var o=oo.getClazzByName(i.name),a=ga({start:Array.from(e.props.start),end:Array.from(e.props.end),pointTo:e.props.pointTo},i),s=e.dom.triangle.shape.height;switch(e.props.pointTo){default:a.end[1]=e.props.end[1]+s;break;case"right":a.end[0]=e.props.end[0]-s;break;case"bottom":a.end[1]=e.props.end[1]-s;break;case"left":a.end[0]=e.props.end[0]+s}var u=new o({props:a,options:t});u.init(),e.dom[n]=u.dom,e.children[n]=u,r.add(u.dom)}})));return this.dom.group}};function ma(t,e){t.nodes.forEach((function(t){t.level=1}));var r,n=null,a=null;function s(e,r,n){t.edges.forEach((function(t){if(t.to.split(":")[0]===e){var i=T(r);n[n.length]=i;var o=t.src.split(":")[0];i.push(o),s(o,i,n)}}))}t.nodes.forEach((function(t){var e=[];s(t.id,[t.id],e),t.nodeParents=e;var r=e.map((function(t){return t.length}));t.level=Math.max.apply(Math,i(r).concat([1]))})),r=Math.max.apply(Math,i(t.nodes.map((function(t){return t.level}))).concat([1]));var u,l=new Array(r),c=0,h=0,f=t.nodes.length;for(t.edges.forEach((function(e){var r=o(e.src.split(":"),2),s=r[0],u=r[1],l=o(e.to.split(":"),2),c=l[0],h=l[1];t.nodes.forEach((function(t){t.id===s?n=t:t.id===c&&(a=t)})),n&&a&&(n.children=[].concat(i(n.children||[]),[{id:a.id,toPort:h,order:a.order}]),a.parents=[].concat(i(a.parents||[]),[{id:n.id,srcPort:u,order:n.order}]))})),t.nodes.forEach((function(t){void 0===t.children&&(t.children=[]),void 0===t.parents&&(t.parents=[])})),c=0;c<f-1;c++)for(h=0;h<f-1-c;h++)t.nodes[h].level>t.nodes[h+1].level&&(u=t.nodes[h],t.nodes[h]=t.nodes[h+1],t.nodes[h+1]=u);for(c=0;c<f-1;c++)for(h=0;h<f-1-c;h++)1===t.nodes[h].level&&1===t.nodes[h+1].level&&t.nodes[h].children.length<t.nodes[h+1].children.length&&(u=t.nodes[h],t.nodes[h]=t.nodes[h+1],t.nodes[h+1]=u);var p=t.nodes.filter((function(t){return 1===t.level&&!t.children.length}));if(p.length>1){var d,v=t.nodes.filter((function(t){return 1===t.level&&t.children.length})),g=v.length+p.length,y=Math.round(v.length/2),m=p.slice(0,y),_=p.slice(y);t.nodes=t.nodes.slice(g),(d=t.nodes).unshift.apply(d,i(m).concat(i(v),i(_)))}t.nodes.forEach((function(t){var e=t.level;l[e-1]=void 0===l[e-1]?1:l[e-1]+1,t.order=l[e-1]}));for(var w=function(e){var r=t.nodes.filter((function(t){return t.level===e}));t.nodes.filter((function(t){return t.level<e})).forEach((function(t){var e=r.filter((function(e){return e.parents.some((function(e){return e.id===t.id}))}));e.length>1&&function(t,e){var r=t.map((function(t){return t.order})).sort((function(t,e){return t-e}));t.sort((function(t,r){var n=t.parents.find((function(t){return t.id===e})),i=r.parents.find((function(t){return t.id===e}));return n.srcPort-i.srcPort})),t.forEach((function(t,e){t.order=r[e]}))}(e,t.id)}))},b=1;b<=r;b++)w(b);var x=t.horizontal,k=void 0===x||x,S=t.align,C=void 0===S?"middle":S,O=t.beginX,E=void 0===O?10:O,A=t.beginY,P=void 0===A?10:A,z=t.spaceX,M=void 0===z?200:z,I=t.spaceY,j=void 0===I?100:I,L=0,N=0,R=[],D=Math.max.apply(Math,l);"middle"===C?t.nodes.forEach((function(t){var e=t.level,r=t.order,n=(D-l[e-1])/2;t.order=r+n})):"end"===C&&t.nodes.forEach((function(t){var e=t.level,r=t.order,n=D-l[e-1];t.order=r+n})),k?t.nodes.forEach((function(t){L=E+(t.level-1)*M,N=P+(t.order-1)*j,t.x=L,t.y=N;var e={};Object.assign(e,t);var r=t.config.inputCircle,n=t.config.outputCircle,i=e.config.inputCircle,o=e.config.outputCircle;i.circlePosition=r.horizontalCirclePosition||r.circlePosition||"left",o.circlePosition=n.horizontalCirclePosition||n.circlePosition||"right",R.push(e)})):t.nodes.forEach((function(t){L=E+(t.order-1)*M,N=P+(t.level-1)*j,t.x=L,t.y=N,delete t.order,delete t.level;var e={};Object.assign(e,t);var r=t.config.inputCircle,n=t.config.outputCircle,i=e.config.inputCircle,o=e.config.outputCircle;i.circlePosition=r.verticalCirclePosition||r.circlePosition||"top",o.circlePosition=n.verticalCirclePosition||n.circlePosition||"bottom",R.push(e)}));var B=[],F=[];R.forEach((function(t){B.push(t.x),F.push(t.y)}));var W=Math.max.apply(Math,B),H=Math.max.apply(Math,F),G=t.cWidth,Y=t.cHeight;return e||W<G&&H<Y?R:(W>G&&(E=Math.max(E-(W-G),0)),H>Y&&(P=Math.max(P-(H-Y),0)),t.beginX=E,t.beginY=P,ma(t,!0))}r(7042),r(2707),r(6992),r(1539),r(189),r(3948);var _a=function(){function t(e){a(this,t);var r=e.nodes,n=void 0===r?[]:r,i=e.edges,o=void 0===i?[]:i,s=e.numRepeat,u=void 0===s?1:s,l=e.hryType,c=void 0===l?"default":l;this.nodes=n,this.edges=o,this.hryType=c,this.nodesLayer=[],this.nodeList=[],this.adjList=[],this.numRepeat=u,this.numRepeat>20&&(this.numRepeat=20),this.deepth=1}return u(t,[{key:"createGraphNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={x:t.x||0,y:t.y||0,lx:t.lx||t.x||0,ly:t.ly||t.y||0,trgNodes:[],srcNodes:[],wUpper:t.wUpper||null,wLower:t.wLower||null,label:t.label,virtual:t.virtual};return"id"in t&&(e.id=t.id),e}},{key:"generateNodeLayer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){var r=e.layer;t.nodesLayer[r]||(t.nodesLayer[r]=[]);var n=t.nodesLayer[r].length,i=t.createGraphNode({x:n,y:r,label:e.label,id:e.id});t.nodesLayer[r][n]=i,e.graphNode=i}));for(var r=this.nodesLayer.length,n=0;n<r;n++)void 0===this.nodesLayer[n]&&(this.nodesLayer[n]=[])}},{key:"generateEdges",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r.forEach((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;r.forEach((function(r){var i=r.id,o=r.toPort,a=e[i].graphNode,s=e[n].graphNode,u=a.y,l=a.x,c=s.y,h=s.x;t.nodesLayer[c][h].trgNodes.push([l,u,o||0]),t.nodesLayer[u][l].srcNodes.push([h,c,o||0])}))}))}},{key:"splitLongEdges",value:function(t){var e=this;t.trgNodes.forEach((function(r,n){for(var i=o(r,2),a=i[0],s=i[1],u=e.nodesLayer[s][a],l=u.y-t.y,c=[r];l>1;){var h=t.y+l-1,f=e.nodesLayer[h].length,p=e.createGraphNode({y:h,x:f,label:null,virtual:!0});c.unshift([f,h]),e.nodesLayer[h].push(p),l--}if(c.length>1){var d=u.srcNodes.findIndex((function(e){return e[1]===t.y&&e[0]===t.x}));c.reduce((function(t,r,i){var a=o(t,2),s=a[0],u=a[1],l=o(r,2),h=l[0],f=l[1],p=e.nodesLayer[u][s],v=e.nodesLayer[f][h];return 0===i?p.trgNodes.splice(n,1,r):p.trgNodes.push(r),i===c.length-1?v.srcNodes.splice(d,1,t):v.srcNodes.push(t),r}),[t.x,t.y])}}))}},{key:"getMedian",value:function(t,e){var r=this,n=(e?t.srcNodes:t.trgNodes).map((function(t){var n=r.nodesLayer[t[1]][t[0]];if(!e){var i=t[2];return Number("".concat(n.x,".").concat(i))}return n.x}));n.sort((function(t,e){return t-e}));var i=n.length,o=Math.floor(n.length/2);return i%2!=0?n[o]:(n[o-1]+n[o])/2}},{key:"setNodeWeights",value:function(){var t=this;this.nodesLayer.forEach((function(e){e.forEach((function(e){e.srcNodes.length&&(e.wUpper=t.getMedian(e,!0)),e.trgNodes.length&&(e.wLower=t.getMedian(e,!1))}))}))}},{key:"proxyNodes",value:function(){var t=this;this.nodesLayer.forEach((function(e){e.forEach((function(e){!e.virtual&&e.trgNodes.length>0&&t.splitLongEdges(e)}))})),this.setNodeWeights()}},{key:"compareByUp",value:function(t,e){return null===t.wUpper?1:null===e.wUpper?-1:t.wUpper-e.wUpper}},{key:"compareByDown",value:function(t,e){return null===t.wLower?1:null===e.wLower?-1:t.wLower-e.wLower}},{key:"countCrossings",value:function(t,e){var r=0,n=e?"srcNodes":"trgNodes",i=[];return t.forEach((function(t,e){(t[n]||[]).forEach((function(t){i.push([e,Number("".concat(t[0],".").concat(t[2]))])}))})),i.forEach((function(t,e){i.forEach((function(n,i){e!==i&&(t[0]>n[0]&&t[1]<n[1]&&r++,t[0]<n[0]&&t[1]>n[1]&&r++)}))})),r/2}},{key:"orderLayer",value:function(t,e){var r=this,n=this.countCrossings(this.nodesLayer[t],e),o=i(this.nodesLayer[t]);if(o.sort(e?this.compareByUp:this.compareByDown),this.countCrossings(o,e)<n){o.forEach((function(t,e){var n=t.x;t.x=e,t.lx=e,t.trgNodes.forEach((function(t){var i=r.nodesLayer[t[1]][t[0]],o=i.srcNodes.findIndex((function(t){return t[0]===n}));i.srcNodes[o]=[e,i.srcNodes[o][1]]})),t.srcNodes.forEach((function(t){var i=r.nodesLayer[t[1]][t[0]],o=i.trgNodes.findIndex((function(t){return t[0]===n}));i.trgNodes[o]=[e,i.trgNodes[o][1]]}))})),this.nodesLayer[t]=o;var a=this.nodesLayer[t-1]||[],s=this.nodesLayer[t+1]||[];a.forEach((function(t){t.wLower=r.getMedian(t,!1)})),s.forEach((function(t){t.wUpper=r.getMedian(t,!0)}))}}},{key:"minimizeCrossings",value:function(t){for(var e=this,r=0;r<=t;r++){this.nodesLayer.forEach((function(t,r){0!==r&&e.orderLayer(r,!0)}));for(var n=this.nodesLayer.length-2;n>-1;n--)this.orderLayer(n,!1)}}},{key:"convertToLayout",value:function(t,e){var r=this;this.nodeList=t.map((function(t){return{label:"",id:t.id,layer:t.level-1}})),this.idMap={},this.nodeList.forEach((function(t){r.idMap[t.id]=new Set})),e.forEach((function(t){var e=t.src.split(":")[0],n=t.to.split(":"),i=n[0],o=n[1],a=r.nodeList.findIndex((function(t){return t.id===i}));r.idMap[e].add({id:a,toPort:Number(o)})})),this.adjList=[],this.nodeList.forEach((function(t){r.adjList.push(i(r.idMap[t.id]))}))}},{key:"computeHry",value:function(t,e){var r=0;function n(t,r,i){e.forEach((function(e){if(e.to.split(":")[0]===t){var o=T(r);i[i.length]=o;var a=e.src.split(":")[0];o.push(a),n(a,o,i)}}))}t.forEach((function(t){t.level=1})),t.forEach((function(t){var e=[];n(t.id,[t.id],e),t.nodeParents=e;var o=e.map((function(t){return t.length}));t.level=Math.max.apply(Math,i(o).concat([1])),t.level>r&&(r=t.level)})),this.deepth=r}},{key:"computeHryWithGravity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={},n={},o=[];t.forEach((function(t){r[t.id]=t,n[t.id]={src:[],to:[]}})),e.forEach((function(t){var e=t.to,r=t.src;e=e.split(":")[0],r=r.split(":")[0],n[e]||(n[e]={src:[],to:[]}),n[r]||(n[r]={src:[],to:[]}),n[e].src.push(r),n[r].to.push(e)}));var a=[];Object.keys(r).forEach((function(t){n[t].to.length||a.push(t),n[t].src.length||o.push(r[t])}));var s=0;function u(t){if(void 0!==t.level)return t.level;var e=n[t.id].to||[];if(!e.length)return t.level=0,0;var o=e.map((function(t){return u(r[t])})),a=Math.min.apply(Math,i(o));return t.level=a-1,s>t.level&&(s=t.level),t.level}o.forEach((function(t){return u(t)})),t.forEach((function(t){isNaN(t.level)&&(t.level=0),t.level=t.level-s+1}))}},{key:"getHierarchy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";"default"===t?this.computeHry(this.nodes,this.edges):"barycenter"===t&&this.computeHryWithGravity(this.nodes,this.edges),this.convertToLayout(this.nodes,this.edges)}},{key:"render",value:function(){try{this.getHierarchy(this.hryType),this.generateNodeLayer(this.nodeList),this.generateEdges(this.nodeList,this.adjList),this.proxyNodes(),this.minimizeCrossings(this.numRepeat)}catch(t){}}}]),t}();function wa(t,e,r,n,i){var o=r;switch(r){case"center":case"middle":o=Math.max((i-e-n)/2,0);break;case"left":case"top":o=0;break;case"right":case"bottom":o=Math.max(i-e-n,0)}return function(t,e,r,n,i){if(e+r+n>i)switch(t){case"justify":return Math.max(i-e-n,0);case"default":return 0}return r}(t,e,o,n,i)}function ba(t){var e=new _a({compacted:!1,numRepeat:t.numRepeat||1,nodes:t.nodes,edges:t.edges,hryType:t.hryType});e.render();var r=t.horizontal,n=void 0===r||r,o=t.align,a=void 0===o?"middle":o,s=t.beginX,u=void 0===s?10:s,l=t.beginY,c=void 0===l?10:l,h=t.spaceX,f=void 0===h?200:h,p=t.spaceY,d=void 0===p?100:p,v=t.overflow,g=void 0===v?"default":v,y=t.cWidth,m=t.cHeight,_=0,w=0,b=[],x=Math.max.apply(Math,i(e.nodesLayer.map((function(t){return t.length}))));"middle"===a&&t.nodes.forEach((function(t){var r=e.nodesLayer[t.level-1],n=r.find((function(e){return e.id===t.id})),i=(x-r.length)/2;t.order=n.x+i}));var k=e.nodesLayer.length,S=(x-1)*f,C=(k-1)*d,T=function(){return["config","box","normal","shape"].reduce((function(t,e){return t[e]||{}}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}(t.nodes[0]||{}),O=T.width,E=T.height;u=wa(g,S,u,O,y),c=wa(g,C,c,E,m),n?t.nodes.forEach((function(t){var r=e.nodesLayer[t.level-1].find((function(e){return e.id===t.id}));t.order=r.x,_=u+(t.level-1)*f,w=c+r.x*d,t.position=[_,w];var n={};Object.assign(n,t);var i=t.config.inputCircle,o=t.config.outputCircle,a=n.config.inputCircle,s=n.config.outputCircle;a.circlePosition=i.horizontalCirclePosition||i.circlePosition||"left",s.circlePosition=o.horizontalCirclePosition||o.circlePosition||"right",b.push(n)})):t.nodes.forEach((function(t){_=u+t.order*f,w=c+(t.level-1)*d,t.position=[_,w],delete t.order,delete t.level;var e={};Object.assign(e,t);var r=t.config.inputCircle,n=t.config.outputCircle,i=e.config.inputCircle,o=e.config.outputCircle;i.circlePosition=r.verticalCirclePosition||r.circlePosition||"top",o.circlePosition=n.verticalCirclePosition||n.circlePosition||"bottom",b.push(e)}));var A=[],P=[];return b.forEach((function(t){A.push(t.position[0]),P.push(t.position[1])})),b}r(6699),r(2023);var xa=["text"];function ka(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sa(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?ka(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ca=function(){function t(e){var r=this;a(this,t);var n=e.workflowObj,i=e.dom,o=e.optionsManager,s=e.drawGroup;this.aiflowIns=e,this.optionsManager=o,this.isStatic=o.options.isStatic,this.guideLine=o.options.guideLine,this.relationMapping=o.options.relationMapping,this.workflowObj=n,this.drawGroup=s,this.dom=i,this.zr=e._zr,this.isNodeActive=!1,this.dragGroup=null,this.moveNode=null,this.moveNodes=[],this.diffPosition=[0,0],this.guideLineIns=null,this.tempEdgeSrc="",this.tempEdgedst="",this.createLine=null,this.hasLine=!1,this.tempLine=null,this.inputGuideCircles=[],this.setEventStyle(),this.zr.on("mousedown",(function(t){e.triggerCustomEvent("mousedown",t),r.mouseDownHandler(t)})),this.zr.on("mouseup",(function(t){e.triggerCustomEvent("mouseup",t),r.mouseUpHandler(t)})),this.zr.on("click",(function(t){e.triggerCustomEvent("click",t),r.clickHandler(t)})),this.zr.on("mousemove",(function(t){e.triggerCustomEvent("mousemove",t),r.mouseMoveHandler(t)})),this.zr.on("mouseout",(function(t){e.triggerCustomEvent("mouseout",t),r.mouseOutHandler(t)})),this.zr.on("contextmenu",(function(t){e.triggerCustomEvent("contextmenu",t),r.contextmenuHandler(t)})),this.zr.on("mousewheel",(function(t){e.triggerCustomEvent("zoom",t)})),this._resolvePan(e)}return u(t,[{key:"_resolvePan",value:function(t){var e=!1,r=null;this.zr.on("mousedown",(function(t){e=!0,r={x:t.event.zrX,y:t.event.zrY}})),this.zr.on("mouseup",(function(t){e=!1})),this.zr.on("mousemove",(function(n){e&&((n=Object.create(n)).deltaX=n.event.zrX-r.x,n.deltaY=n.event.zrY-r.y,r={x:n.event.zrX,y:n.event.zrY},(Math.abs(n.deltaX)>0||Math.abs(n.deltaY)>0)&&t.triggerCustomEvent("pan",n))}))}},{key:"setIsStatic",value:function(t){this.isStatic=t}},{key:"setDragNode",value:function(t,e){this.isNodeActive=!0,this.dragGroup=t.dom.group,t.selected=!0,this.aiflowIns.triggerCustomEvent("nodeSelected",t),this.setNodeSelectedStyle(t),this.moveNode=no(this.dragGroup,e,this.optionsManager.options)}},{key:"calLinePoint",value:function(t,e,r,n){var i=this.optionsManager.options,o=i.cWidth,a=i.cHeight;return[{x1:0,y1:e,x2:o,y2:e},{x1:t+r,y1:0,x2:t+r,y2:a},{x1:0,y1:e+n,x2:o,y2:e+n},{x1:t,y1:0,x2:t,y2:a}]}},{key:"createGuideLine",value:function(t,e,r,n){var i=this,o=this.calLinePoint(t,e,r,n),a=new Xr;return o.forEach((function(t){a.add(new Ji({style:i.guideLine.style,shape:t,z:1e5}))})),this.zr.add(a),a}},{key:"updateGuideLine",value:function(t,e,r,n){var i=this.calLinePoint(t,e,r,n);this.guideLineIns.children().forEach((function(t,e){t.attr({shape:i[e]})})),this.guideLineIns.dirty()}},{key:"setGuideLine",value:function(t,e){var r=o(t,2),n=r[0],i=r[1],a=e.width,s=e.height;this.guideLineIns?this.updateGuideLine(n,i,a,s):this.guideLineIns=this.createGuideLine(n,i,a,s)}},{key:"prepareMoveFrame",value:function(t,e){var r=[e.event.zrX,e.event.zrY],n=t.getBoundingRect();t.updateTransform(),t.transform&&n.applyTransform(t.transform);var i=[1,0,0,1,0,0];t.transform&&$e(i,t.transform);var a=[n.x,n.y],s=[n.x+n.width,n.y+n.height],u=this.optionsManager.options,l=u.dragWithinCanvas,c=u.cWidth,h=u.cHeight,f=[0,0],p=[c-10,h-10];return function(e){var n=[e.event.zrX-r[0],e.event.zrY-r[1]],u=l?n.map((function(t,e){return t<0?a[e]<f[e]?t=0:a[e]+t<f[e]&&(t=f[e]-a[e]):t>0&&(s[e]>p[e]?t=0:s[e]+t>p[e]&&(t=p[e]-s[e])),t})):n,c=o(u,2),h=c[0],d=c[1];if(t.transform=t.transform||[1,0,0,1,0,0],$e(t.transform,i),t.drift(h,d),t.dirty(),this.guideLine.on){var v=t.position,g=t.shape;this.setGuideLine(v,g)}this.diffPosition=[h,d]}}},{key:"endFrameMove",value:function(t){var e=this;this.moveNodes.length&&(this.moveNodes.forEach((function(r){r(e.aiflowIns,t,e.diffPosition)})),this.freshEdges(),this.zr.remove(this.frameSelectMoveIns),this.frameMove=null,this.diffPosition=[0,0]),this.guideLineIns&&(this.zr.remove(this.guideLineIns),this.guideLineIns=null)}},{key:"createFrameSelectMove",value:function(t,e){var r=[],n=[],i=[],o=[];e.forEach((function(t){var e=t.dom.group,a=e.getBoundingRect();e.updateTransform(),e.transform&&a.applyTransform(e.transform);var s=a.x,u=a.y,l=s+a.width,c=u+a.height;r.push(s),n.push(u),i.push(l),o.push(c)}));var a=Math.min.apply(Math,r),s=Math.min.apply(Math,n),u=Math.max.apply(Math,i)-a,l=Math.max.apply(Math,o)-s;this.frameSelectMoveIns=new zi({invisible:!0,shape:{x:0,y:0,width:u,height:l},style:this.optionsManager.options.frameSelect.style,z:1e5}),this.frameSelectMoveIns.x=a,this.frameSelectMoveIns.y=s,this.zr.add(this.frameSelectMoveIns),this.frameMove=this.prepareMoveFrame(this.frameSelectMoveIns,t)}},{key:"mouseDownHandler",value:function(t){var e=this;if(t.target){this.isNodeActive=!0,this.inputGuideCircles.forEach((function(t){var r=io(t,e.aiflowIns);e.setElementStyle(t,r.props.config.inputCircle.normal)})),this.inputGuideCircles=[];var r=this.getEdgeSrcNode(t),n=r.outputCircle,i=r.srcNode,o=r.inputGuideCircles,a=r.srcStr;if(this.inputGuideCircles=o,""!==a){var s=this.optionsManager.options.templineStyle;this.tempEdgeSrc=a,this.createLine=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.props.config.outputCircle.normal,o=t.parent;o.updateTransform();var a=o.transform||[1,0,0,1,0,0],s=[];it(s,$(t.x,t.y+i.shape.r),a);var u=s[0],l=s[1];return function(t,e,r){var i=$(u,l),o=$(r.offsetX,r.offsetY);if(e&&t.remove(e),et(o,i)>10){var a=new Ji({shape:{x1:u,y1:l,x2:r.offsetX,y2:r.offsetY},style:n,z:1e5});return t.add(a),a}}}(n,this.drawGroup,i,s),this.inputGuideCircles.forEach((function(t){e.setElementStyle(t,i.props.config.inputCircle.guide)}))}if("node"===function(t,e){if(!t||!t.parent)return"";var r=e.workflowObj,n=r.nodes.some((function(e){return e.dom.group.id===t.parent.id})),i=r.edges.some((function(e){return e.dom.group.id===t.parent.id}));return n?"node":i?"edge":""}(t.target,this.aiflowIns)){this.dragGroup=t.target.parent;var u=this.workflowObj.nodes.find((function(t){return t.dom.group.id===e.dragGroup.id})),l=this.aiflowIns.getGraphMulNodes(),c=l.some((function(t){return t.props.id===u.props.id}));this.aiflowIns.isMul||c||!l.length||this.aiflowIns.clearMulNodes(),l.length&&c?(this.moveNodes=l.map((function(r){return no(r.dom.group,t,e.optionsManager.options)})),this.createFrameSelectMove(t,l)):this.moveNode=no(this.dragGroup,t,this.optionsManager.options)}}}},{key:"mouseUpHandler",value:function(t){var e=this;if(this.tempLine&&this.zr.remove(this.tempLine),this.inputGuideCircles.forEach((function(t){var r=io(t,e.aiflowIns);e.setElementStyle(t,r.props.config.inputCircle.normal)})),this.inputGuideCircles=[],this.hasLine&&!this.checkEdge(this.tempEdgeSrc,this.tempEdgedst)){var r={src:this.tempEdgeSrc,to:this.tempEdgedst};this.aiflowIns.addEdge(r)}this.endFrameMove(t),this.dragNodeEnd(),this.isNodeActive=!1,this.dragGroup=null,this.hasLine=!1,this.tempEdgeSrc="",this.tempEdgedst="",this.createLine=null,this.tempLine=null}},{key:"clickHandler",value:function(t){t.target||this.clearSelectedNodeAndEdge()}},{key:"mouseMoveHandler",value:function(t){var e,r=this;if(this.isStatic)return!1;if(this.workflowObj.nodes.forEach((function(n){var i=n.props.config.inputCircle;n.dom.inputCircles&&n.dom.inputCircles.forEach((function(o,a){r.inputGuideCircles.includes(o)&&(o.contain(t.offsetX,t.offsetY)?(r.setElementStyle(o,i.guideHover||i.guide),r.tempEdgedst=n.props.id+":"+a,e=!0):r.setElementStyle(o,i.guide))}))})),this.isNodeActive){if("function"==typeof this.createLine)return this.tempLine=this.createLine(this.zr,this.tempLine,t),void(this.hasLine=!!e);if(!this.isStatic&&this.dragGroup)if(this.moveNodes.length)this.frameSelectMoveIns.attr("invisible",!1),this.frameMove(t);else if(this.moveNode){this.moveNode(this.aiflowIns,t);var n=this.workflowObj.nodes.find((function(t){return t.dom.group.id===r.dragGroup.id})),i=n.props.id;if(this.guideLine.on){var o=n.dom,a=o.group,s=(o.box,a.getBoundingRect());a.updateTransform(),a.transform&&s.applyTransform(a.transform);var u=s.x,l=s.y,c=s.width,h=s.height;this.setGuideLine([u,l],{width:c,height:h})}this.freshEdges(i)}}}},{key:"mouseOutHandler",value:function(t){}},{key:"dragNodeEnd",value:function(){var t=this;if(this.dragGroup){var e=this.workflowObj.nodes.find((function(e){return e.dom.group.id===t.dragGroup.id})),r=this.aiflowIns.getGraphMulNodes(),n=r.some((function(t){return t.props.id===e.props.id}));r.length&&n?this.aiflowIns.triggerCustomEvent("dragNodeEnd",{target:r}):this.aiflowIns.triggerCustomEvent("dragNodeEnd",{target:[e]})}this.moveNode?this.moveNode=null:this.moveNodes.length&&(this.moveNodes=[])}},{key:"contextmenuHandler",value:function(t){t.event.preventDefault(),this.dragGroup=null,this.isNodeActive=!1,this.dragNodeEnd()}},{key:"freshEdges",value:function(t){var e=this.aiflowIns.workflowObj,r=i(e.edges);t&&(r=e.edges.filter((function(e){return t===e.props.src.split(":")[0]||t===e.props.to.split(":")[0]})));for(var n=0;n<r.length;n++){var o=Sa({},r[n].props);delete o.start,delete o.end,delete o.config.triangle.start,delete o.config.triangle.end,delete o.config.backline.start,delete o.config.backline.end,delete o.config.line.start,delete o.config.line.end,this.aiflowIns.removeEdge(o,!0),this.aiflowIns.addEdge(o,!0)}}},{key:"getGuideCircles",value:function(t,e,r){var n=this;return this.workflowObj.nodes.forEach((function(i){var o=i.dom.inputCircles,a=i.props.config.inputCircle;o&&o.forEach((function(o,s){if(!n.isSameGroup(o,e)&&n.isInputCircleAvailable(o)){var u=t.props.output[r];u.enableInputs?u.enableInputs.forEach((function(t){t.id===i.props.id&&t.inputIndex===s&&(n.inputGuideCircles.push(o),n.setElementStyle(o,a.guide))})):(n.inputGuideCircles.push(o),n.setElementStyle(o,a.guide))}}))})),this.inputGuideCircles}},{key:"isSameGroup",value:function(t,e){return t.parent.id===e.parent.id}},{key:"isInputCircleAvailable",value:function(t){var e=this;return"m2m"===this.relationMapping||!this.workflowObj.edges.map((function(t){var r,n=o(t.props.to.split(":"),2),i=n[0],a=n[1];return e.workflowObj.nodes.forEach((function(t){t.props.id===i&&t.dom.inputCircles[a]&&(r=t.dom.inputCircles[a])})),r})).includes(t)}},{key:"checkEdge",value:function(t,e){return this.workflowObj.edges.some((function(r){return r.props.src===t&&r.props.to===e}))}},{key:"getEdgeSrcNode",value:function(t){var e=this,r="",n=null,i=[],o=null;return this.workflowObj.nodes.some((function(a){var s=a.props.id;return!!a.dom.outputCircles&&a.dom.outputCircles.some((function(u,l){return!!u.contain(t.offsetX,t.offsetY)&&(r=s+":"+l,n=u,i=e.getGuideCircles(a,u,l),o=a,!0)}))})),{srcStr:r,outputCircle:n,inputGuideCircles:i,srcNode:o}}},{key:"clearSelectedNodeAndEdge",value:function(){var t=this;this.workflowObj.nodes.forEach((function(e){var r=Object.keys(e.dom),n=e.props.config;r.forEach((function(r){"group"!==r&&"inputCircles"!==r&&"outputCircles"!==r&&t.setElementStyle(e.dom[r],n[r].normal)})),e.selected=!1})),this.workflowObj.edges.forEach((function(e){var r=Object.keys(e.dom),n=e.props.config;r.forEach((function(r){"group"!==r&&t.setElementStyle(e.dom[r],n[r].normal)})),e.selected=!1}))}},{key:"setMulNodesStyle",value:function(t){var e=this;t.forEach((function(t){t.selected=!0;var r=Object.keys(t.dom),n=t.props.config;r.forEach((function(r){"group"!==r&&"inputCircles"!==r&&"outputCircles"!==r&&e.setElementStyle(t.dom[r],n[r].selected)}))}))}},{key:"setNodeSelectedStyle",value:function(t){var e=this;this.clearSelectedNodeAndEdge(),t.selected=!0;var r=Object.keys(t.dom),n=t.props.config;r.forEach((function(r){"group"!==r&&"inputCircles"!==r&&"outputCircles"!==r&&e.setElementStyle(t.dom[r],n[r].selected)}))}},{key:"setEdgeSelectedStyle",value:function(t){var e=this;this.clearSelectedNodeAndEdge();var r=Object.keys(t.dom),n=t.props.config;r.forEach((function(r){"group"!==r&&e.setElementStyle(t.dom[r],n[r].selected)})),t.selected=!0}},{key:"setNodeStyle",value:function(t,e){var r=this,n=Object.keys(t.dom),i=t.props.config;n.forEach((function(n){"group"!==n&&"inputCircles"!==n&&"outputCircles"!==n&&r.setElementStyle(t.dom[n],i[n][e])}))}},{key:"setOutputCircleStyle",value:function(t,e,r){var n=t.props.config.outputCircle;this.setElementStyle(e,n[r])}},{key:"setNodeEventStyle",value:function(t){var e=this,r=t.dom,n=r.group,i=r.outputCircles;n.on("mouseover",(function(){t.selected||e.setNodeStyle(t,"hover")})),n.on("mouseout",(function(){t.selected||e.setNodeStyle(t,"normal")})),i&&i.forEach((function(r){r.on("mouseover",(function(){e.setOutputCircleStyle(t,r,"hover")})),r.on("mouseout",(function(){e.setOutputCircleStyle(t,r,"normal")}))})),n.on("click",(function(r){e.aiflowIns.isMul||e.aiflowIns.clearMulNodes(),e.aiflowIns.triggerCustomEvent("nodeSelected",t),e.setNodeSelectedStyle(t)}))}},{key:"setEdgeStyle",value:function(t,e){var r=this,n=Object.keys(t.dom),i=t.props.config;n.forEach((function(n){"group"!==n&&r.setElementStyle(t.dom[n],i[n][e])}))}},{key:"setEdgeEventStyle",value:function(t){var e=this,r=t.dom.group;r.on("mouseover",(function(){t.selected||e.setEdgeStyle(t,"hover")})),r.on("mouseout",(function(){t.selected||e.setEdgeStyle(t,"normal")})),r.on("click",(function(){e.aiflowIns.triggerCustomEvent("edgeSelected",t),e.setEdgeSelectedStyle(t)}))}},{key:"setEventStyle",value:function(){var t=this;this.workflowObj.nodes.forEach((function(e){t.setNodeEventStyle(e)})),this.workflowObj.edges.forEach((function(e){t.setEdgeEventStyle(e)}))}},{key:"setElementStyle",value:function(t,e){if(t&&e){var r=e.style,n=e.shape;if("bezier-curve"!==t.type){if("text"===t.type){var i=e.style;i.text,r=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(i,xa)}t.attr({style:r,shape:n})}else t.attr("style",r)}}}]),t}();function Ta(t,e,r){for(var n="radial"===e.type?function(t,e,r){var n=r.width,i=r.height,o=Math.min(n,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(a=a*n+r.x,s=s*i+r.y,u*=o),t.createRadialGradient(a,s,0,a,s,u)}(t,e,r):function(t,e,r){var n=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,a=a*r.height+r.y),n=isNaN(n)?0:n,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(n,o,i,a)}(t,e,r),i=e.colorStops,o=0;o<i.length;o++)n.addColorStop(i[o].offset,i[o].color);return n}function Oa(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:"number"==typeof t?[t]:D(t)?t:null):null}var Ea=[];const Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return q(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new br(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var r=this._displayables[e],n=r.getBoundingRect().clone();r.needLocalTransform()&&n.applyTransform(r.getLocalTransform(Ea)),t.union(n)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(r[0],r[1]))for(var n=0;n<this._displayables.length;n++)if(this._displayables[n].contain(t,e))return!0;return!1},e}(on);var Pa=new oi(!0);function za(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function Ma(t){return"string"==typeof t&&"none"!==t}function Ia(t){var e=t.fill;return null!=e&&"none"!==e}function ja(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function La(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function Na(t,e,r){var n=bo(e.image,e.__image,r);if(ko(n)){var i=t.createPattern(n,e.repeat||"repeat");if("function"==typeof DOMMatrix&&i.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),o.scaleSelf(e.scaleX||1,e.scaleY||1),o.translateSelf(e.x||0,e.y||0),i.setTransform(o)}return i}}var Ra=["shadowBlur","shadowOffsetX","shadowOffsetY"],Da=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Ba(t,e,r,n,i){var o=!1;if(!n&&e===(r=r||{}))return!1;if(n||e.opacity!==r.opacity){o||(Ha(t,i),o=!0);var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?Kr.opacity:a}(n||e.blend!==r.blend)&&(o||(Ha(t,i),o=!0),t.globalCompositeOperation=e.blend||Kr.blend);for(var s=0;s<Ra.length;s++){var u=Ra[s];(n||e[u]!==r[u])&&(o||(Ha(t,i),o=!0),t[u]=t.dpr*(e[u]||0))}return(n||e.shadowColor!==r.shadowColor)&&(o||(Ha(t,i),o=!0),t.shadowColor=e.shadowColor||Kr.shadowColor),o}function Fa(t,e,r,n,i){var o=Ga(e,i.inHover),a=n?null:r&&Ga(r,i.inHover)||{};if(o===a)return!1;var s=Ba(t,o,a,n,i);if((n||o.fill!==a.fill)&&(s||(Ha(t,i),s=!0),Ma(o.fill)&&(t.fillStyle=o.fill)),(n||o.stroke!==a.stroke)&&(s||(Ha(t,i),s=!0),Ma(o.stroke)&&(t.strokeStyle=o.stroke)),(n||o.opacity!==a.opacity)&&(s||(Ha(t,i),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(Ha(t,i),s=!0),t.lineWidth=u)}for(var l=0;l<Da.length;l++){var c=Da[l],h=c[0];(n||o[h]!==a[h])&&(s||(Ha(t,i),s=!0),t[h]=o[h]||c[1])}return s}function Wa(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function Ha(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Ga(t,e){return e&&t.__hoverStyle||t.style}function Ya(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var o=e.__clipPaths,a=r.prevElClipPaths,s=!1,u=!1;if(a&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}(o,a)||(a&&a.length&&(Ha(t,r),t.restore(),u=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),o&&o.length&&(Ha(t,r),t.save(),function(t,e,r){for(var n=!1,i=0;i<t.length;i++){var o=t[i];n=n||o.isZeroArea(),Wa(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}r.allClipped=n}(o,t,r),s=!0),r.prevElClipPaths=o),r.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=s=!0);var c,h,f=e instanceof Ci&&e.autoBatch&&function(t){var e=Ia(t),r=za(t);return!(t.lineDash||!(+e^+r)||e&&"string"!=typeof t.fill||r&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(c=i,h=l.transform,c&&h?c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||c[4]!==h[4]||c[5]!==h[5]:c||h)?(Ha(t,r),Wa(t,e)):f||Ha(t,r);var p=Ga(e,r.inHover);e instanceof Ci?(1!==r.lastDrawType&&(u=!0,r.lastDrawType=1),Fa(t,e,l,u,r),f&&(r.batchFill||r.batchStroke)||t.beginPath(),function(t,e,r,n){var i=za(r),o=Ia(r),a=r.strokePercent,s=a<1,u=!e.path;e.silent&&!s||!u||e.createPathProxy();var l=e.path||Pa;if(!n){var c=r.fill,h=r.stroke,f=o&&!!c.colorStops,p=i&&!!h.colorStops,d=o&&!!c.image,v=i&&!!h.image,g=void 0,y=void 0,m=void 0,_=void 0,w=void 0;(f||p)&&(w=e.getBoundingRect()),f&&(g=e.__dirty?Ta(t,c,w):e.__canvasFillGradient,e.__canvasFillGradient=g),p&&(y=e.__dirty?Ta(t,h,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=y),d&&(m=e.__dirty||!e.__canvasFillPattern?Na(t,c,e):e.__canvasFillPattern,e.__canvasFillPattern=m),v&&(_=e.__dirty||!e.__canvasStrokePattern?Na(t,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=m),f?t.fillStyle=g:d&&(m?t.fillStyle=m:o=!1),p?t.strokeStyle=y:v&&(_?t.strokeStyle=_:i=!1)}var b=r.lineDash&&r.lineWidth>0&&Oa(r.lineDash,r.lineWidth),x=r.lineDashOffset,k=!!t.setLineDash,S=e.getGlobalScale();if(l.setScale(S[0],S[1],e.segmentIgnoreThreshold),b){var C=r.strokeNoScale&&e.getLineScale?e.getLineScale():1;C&&1!==C&&(b=N(b,(function(t){return t/C})),x/=C)}var T=!0;(u||4&e.__dirty||b&&!k&&i)&&(l.setDPR(t.dpr),s?l.setContext(null):(l.setContext(t),T=!1),l.reset(),b&&!k&&(l.setLineDash(b),l.setLineDashOffset(x)),e.buildPath(l,e.shape,n),l.toStatic(),e.pathUpdated()),T&&l.rebuildPath(t,s?a:1),b&&k&&(t.setLineDash(b),t.lineDashOffset=x),n||(r.strokeFirst?(i&&La(t,r),o&&ja(t,r)):(o&&ja(t,r),i&&La(t,r))),b&&k&&t.setLineDash([])}(t,e,p,f),f&&(r.batchFill=p.fill||"",r.batchStroke=p.stroke||"")):e instanceof Do?(3!==r.lastDrawType&&(u=!0,r.lastDrawType=3),Fa(t,e,l,u,r),function(t,e,r){var n=r.text;if(null!=n&&(n+=""),n){t.font=r.font||Cr,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var i=void 0;if(t.setLineDash){var o=r.lineDash&&r.lineWidth>0&&Oa(r.lineDash,r.lineWidth),a=r.lineDashOffset;if(o){var s=r.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(o=N(o,(function(t){return t/s})),a/=s),t.setLineDash(o),t.lineDashOffset=a,i=!0}}r.strokeFirst?(za(r)&&t.strokeText(n,r.x,r.y),Ia(r)&&t.fillText(n,r.x,r.y)):(Ia(r)&&t.fillText(n,r.x,r.y),za(r)&&t.strokeText(n,r.x,r.y)),i&&t.setLineDash([])}}(t,e,p)):e instanceof Ho?(2!==r.lastDrawType&&(u=!0,r.lastDrawType=2),function(t,e,r,n,i){Ba(t,Ga(e,i.inHover),r&&Ga(r,i.inHover),n,i)}(t,e,l,u,r),function(t,e,r){var n=e.__image=bo(r.image,e.__image,e,e.onload);if(n&&ko(n)){var i=r.x||0,o=r.y||0,a=e.getWidth(),s=e.getHeight(),u=n.width/n.height;if(null==a&&null!=s?a=s*u:null==s&&null!=a?s=a/u:null==a&&null==s&&(a=n.width,s=n.height),r.sWidth&&r.sHeight){var l=r.sx||0,c=r.sy||0;t.drawImage(n,l,c,r.sWidth,r.sHeight,i,o,a,s)}else if(r.sx&&r.sy){var h=a-(l=r.sx),f=s-(c=r.sy);t.drawImage(n,l,c,h,f,i,o,a,s)}else t.drawImage(n,i,o,a,s)}}(t,e,p)):e instanceof Aa&&(4!==r.lastDrawType&&(u=!0,r.lastDrawType=4),function(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover};for(o=e.getCursor(),a=n.length;o<a;o++)(c=n[o]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),Ya(t,c,s,o===a-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c;for(var u=0,l=i.length;u<l;u++){var c;(c=i[u]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),Ya(t,c,s,u===l-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,r)),f&&n&&Ha(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function Xa(){return!1}function Ua(t,e,r){var n=z(),i=e.getWidth(),o=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=o*r,n}var Va=function(t){function e(e,r,n){var i,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,n=n||Ve,"string"==typeof e?i=Ua(e,r,n):F(e)&&(e=(i=e).id),o.id=e,o.dom=i;var a=i.style;return a&&(i.onselectstart=Xa,a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none",a.padding="0",a.margin="0",a.borderWidth="0"),o.domBack=null,o.ctxBack=null,o.painter=r,o.config=null,o.dpr=n,o}return q(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Ua("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,r,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,o=[],a=this.maxRepaintRectCount,s=!1,u=new br(0,0,0,0);function l(t){if(t.isFinite()&&!t.isZero())if(0===o.length)(e=new br(0,0,0,0)).copy(t),o.push(e);else{for(var e,r=!1,n=1/0,i=0,l=0;l<o.length;++l){var c=o[l];if(c.intersect(t)){var h=new br(0,0,0,0);h.copy(c),h.union(t),o[l]=h,r=!0;break}if(s){u.copy(t),u.union(c);var f=t.width*t.height,p=c.width*c.height,d=u.width*u.height-f-p;d<n&&(n=d,i=l)}}s&&(o[i].union(t),r=!0),r||((e=new br(0,0,0,0)).copy(t),o.push(e)),s||(s=o.length>=a)}}for(var c=this.__startIndex;c<this.__endIndex;++c)if(p=t[c]){var h=p.shouldBePainted(r,n,!0,!0);(d=p.__isRendered&&(1&p.__dirty||!h)?p.getPrevPaintRect():null)&&l(d);var f=h&&(1&p.__dirty||!p.__isRendered)?p.getPaintRect():null;f&&l(f)}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var p,d;h=(p=e[c]).shouldBePainted(r,n,!0,!0),!p||h&&p.__zr||!p.__isRendered||(d=p.getPrevPaintRect())&&l(d)}do{for(i=!1,c=0;c<o.length;)if(o[c].isZero())o.splice(c,1);else{for(var v=c+1;v<o.length;)o[c].intersect(o[v])?(i=!0,o[c].union(o[v]),o.splice(v,1)):v++;c++}}while(i);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var r=this.dpr,n=this.dom,i=n.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),n.width=t*r,n.height=e*r,o&&(o.width=t*r,o.height=e*r,1!==r&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,e,r){var n=this.dom,i=this.ctx,o=n.width,a=n.height;e=e||this.clearColor;var s=this.motionBlur&&!t,u=this.lastFrameAlpha,l=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,o/l,a/l));var h=this.domBack;function f(t,r,n,o){if(i.clearRect(t,r,n,o),e&&"transparent"!==e){var a=void 0;null==e.colorStops?function(t){return null!=t.image}(e)&&(a=Na(i,e,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})):(a=e.__canvasGradient||Ta(i,e,{x:0,y:0,width:n,height:o}),e.__canvasGradient=a),i.save(),i.fillStyle=a||e,i.fillRect(t,r,n,o),i.restore()}s&&(i.save(),i.globalAlpha=u,i.drawImage(h,t,r,n,o),i.restore())}!r||s?f(0,0,o,a):r.length&&L(r,(function(t){f(t.x*l,t.y*l,t.width*l,t.height*l)}))},e}(ct);const Za=Va;var qa=1e5,$a=314159,Ka=.01;function Qa(t){return parseInt(t,10)}var Ja=function(){function t(t,e,r,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=A({},r||{}),this.dpr=r.devicePixelRatio||Ve,this._singleCanvas=i,this.root=t;var o=t.style;o&&(o.webkitTapHighlightColor="transparent",o.webkitUserSelect="none",o.userSelect="none",o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(i){var u=t,l=u.width,c=u.height;null!=r.width&&(l=r.width),null!=r.height&&(c=r.height),this.dpr=r.devicePixelRatio||1,u.width=l*this.dpr,u.height=c*this.dpr,this._width=l,this._height=c;var h=new Za(u,this,this.dpr);h.__builtin__=!0,h.initContext(),s[314159]=h,h.zlevel=$a,a.push($a),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=function(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}(this._width,this._height);t.appendChild(f)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var i=0;i<n.length;i++){var o=n[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===i?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){for(var n,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(r||(r=this._hoverlayer=this.getLayer(qa)),n||(n=r.ctx).save(),Ya(n,a,i,o===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(qa)},t.prototype.paintOne=function(t,e){!function(t,e){Ya(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}(t,e)},t.prototype._paintList=function(t,e,r,n){if(this._redrawId===n){r=r||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e,r),o=i.finished,a=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;Yt((function(){s._paintList(t,e,r,n)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer($a).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,r)}))},t.prototype._doPaintList=function(t,e,r){for(var n=this,i=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],u=this._layers[s];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&i.push(u)}for(var l=!0,c=!1,f=function(a){var s,u=i[a],h=u.ctx,f=o&&u.createRepaintRects(t,e,p._width,p._height),d=r?u.__startIndex:u.__drawIndex,v=!r&&u.incremental&&Date.now,g=v&&Date.now(),y=u.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(u.__startIndex===u.__endIndex)u.clear(!1,y,f);else if(d===u.__startIndex){var m=t[d];m.incremental&&m.notClear&&!r||u.clear(!1,y,f)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=u.__startIndex);var _=function(e){var r={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(s=d;s<u.__endIndex;s++){var i=t[s];if(i.__inHover&&(c=!0),n._doPaintEl(i,u,o,e,r,s===u.__endIndex-1),v&&Date.now()-g>15)break}r.prevElClipPaths&&h.restore()};if(f)if(0===f.length)s=u.__endIndex;else for(var w=p.dpr,b=0;b<f.length;++b){var x=f[b];h.save(),h.beginPath(),h.rect(x.x*w,x.y*w,x.width*w,x.height*w),h.clip(),_(x),h.restore()}else h.save(),_(),h.restore();u.__drawIndex=s,u.__drawIndex<u.__endIndex&&(l=!1)},p=this,d=0;d<i.length;d++)f(d);return h.wxa&&L(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:l,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,r,n,i,o){var a=e.ctx;if(r){var s=t.getPaintRect();(!n||s&&s.intersect(n))&&(Ya(a,t,i,o),t.setPrevPaintRect(s))}else Ya(a,t,i,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=$a);var r=this._layers[t];return r||((r=new Za("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]?O(r,this._layerConfig[t],!0):this._layerConfig[t-Ka]&&O(r,this._layerConfig[t-Ka],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},t.prototype.insertLayer=function(t,e){var r=this._layers,n=this._zlevelList,i=n.length,o=this._domRoot,a=null,s=-1;if(r[t])C("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>n[0]){for(s=0;s<i-1&&!(n[s]<t&&n[s+1]>t);s++);a=r[n[s]]}if(n.splice(s+1,0,t),r[t]=e,!e.virtual)if(a){var u=a.dom;u.nextSibling?o.insertBefore(e.dom,u.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}else C("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,n=0;n<r.length;n++){var i=r[n];t.call(e,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,n=0;n<r.length;n++){var i=r[n],o=this._layers[i];o.__builtin__&&t.call(e,o,i)}},t.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,n=0;n<r.length;n++){var i=r[n],o=this._layers[i];o.__builtin__||t.call(e,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var r=1;r<t.length;r++)if((s=t[r]).zlevel!==t[r-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var n,i,o=null,a=0;for(i=0;i<t.length;i++){var s,u=(s=t[i]).zlevel,l=void 0;n!==u&&(n=u,a=0),s.incremental?((l=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(u+(a>0?Ka:0),this._needsManuallyCompositing),l.__builtin__||C("ZLevel "+u+" has been used by unkown layer "+l.id),l!==o&&(l.__used=!0,l.__startIndex!==i&&(l.__dirty=!0),l.__startIndex=i,l.incremental?l.__drawIndex=-1:l.__drawIndex=i,e(i),o=l),1&s.__dirty&&!s.__inHover&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=i))}e(i),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,L(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?O(r[t],e,!0):r[t]=e;for(var n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n];i!==t&&i!==t+Ka||O(this._layers[i],r[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],r.splice(M(r,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||e!==this._height){for(var i in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer($a).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Za("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height;this.eachLayer((function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(r.save(),t.renderToCanvas(r),r.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,u=a.length;s<u;s++){var l=a[s];Ya(r,l,o,s===u-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,r=["width","height"][t],n=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||Qa(s[r])||Qa(a.style[r]))-(Qa(s[i])||0)-(Qa(s[o])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var r=document.createElement("canvas"),n=r.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,u=o.shadowOffsetY*e,l=t.hasStroke()?o.lineWidth:0,c=Math.max(l/2,-s+a),h=Math.max(l/2,s+a),f=Math.max(l/2,-u+a),p=Math.max(l/2,u+a),d=i.width+c+h,v=i.height+f+p;r.width=d*e,r.height=v*e,n.scale(e,e),n.clearRect(0,0,d,v),n.dpr=e;var g={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=c-i.x,t.y=f-i.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Ya(n,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var y=new Ho({style:{x:0,y:0,image:r}});return A(t,g),y},t}();const ts=Ja;var es=r(6486);function rs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ns(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?rs(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var is,os=new Di,as=["mousedown","click","mouseover","mouseout","mouseup","mousemove","contextmenu"],ss=["dragNode","dragNodeEnd","addEdge","removeEdge","addNode","removeNode","nodeSelected","edgeSelected","copyNodes","pasteNodes","frameSelectInit","frameSelectEnd","pan","zoom","graphTransformed"];qi.extend(ha),Vi.extend(da),Zi.extend(ya),is=ts,Vr.canvas=is;var us=function(){function t(e,r,n){if(a(this,t),!e||!H(e))throw new TypeError("AIFlow needs a HTMLDomElement to render");this.dom=e,this.data=r,this.optionsManager=new Fi(n),this._zr=function(t,e){var r=new qr(S(),t,e);return Zr[r.id]=r,r}(e,this.optionsManager.getZrOptions()),this.workflowObj={},this.drawGroup=null,this.maxCoord={x:0,y:0},this.mulNodes=[],this.render(),this.zrEventMan=new Ca(this),ct.call(this),this.event={},this._resolveZoomAndPan()}return u(t,[{key:"_resolveZoomAndPan",value:function(){var t=this;if(this.optionsManager.options.pan.default){var e=!1;this.on("frameSelectInit",(function(){e=!0})),this.on("frameSelectEnd",(function(){e=!1})),this.on("pan",(function(r){var n=t.zrEventMan,i=n.moveNode,o=n.moveNodes;r.target||i||o.length>0||e||t.drift(r.deltaX,r.deltaY)}))}this.optionsManager.options.zoom.default&&this.on("zoom",(function(e){e.event.preventDefault();var r=e.wheelDelta,n=e.event.zrX,i=e.event.zrY;t.scale(Math.pow(10,r),[n,i],!0)}))}},{key:"getGraphRect",value:function(){var t=this.drawGroup;t.updateTransform();var e=(0,es.clone)(t.getBoundingRect()),r=t.transform;return r&&e.applyTransform(r),e}},{key:"setIsStatic",value:function(t){this.zrEventMan.setIsStatic(t)}},{key:"getIsStatic",value:function(){return this.zrEventMan.isStatic}},{key:"setWorkflowObj",value:function(t){this.workflowObj.nodes=t.nodes,this.workflowObj.edges=t.edges}},{key:"getNodesIns",value:function(){return this.workflowObj.nodes}},{key:"getNodeInsById",value:function(t){return this.workflowObj.nodes.find((function(e){return e.props.id===t}))}},{key:"getEdgesIns",value:function(){return this.workflowObj.edges}},{key:"getEdgeInsById",value:function(t,e){return this.workflowObj.edges.filter((function(r){var n=r.props.src.split(":")[0],i=r.props.to.split(":")[0];return t===n&&e===i}))}},{key:"getEdgeInsByTo",value:function(t){return this.workflowObj.edges.filter((function(e){return t===e.props.to.split(":")[0]}))}},{key:"getEdgeInsBySrc",value:function(t){return this.workflowObj.edges.filter((function(e){return t===e.props.src.split(":")[0]}))}},{key:"getMaxCoord",value:function(){return this.maxCoord}},{key:"autoSort",value:function(t){this.optionsManager.options.autoSort.on=!0,this.optionsManager.options.autoSort.type=t.type,A(this.optionsManager.options.autoSort,t),this._zr.remove(this.drawGroup),this.drawGroup=null,this.workflowObj.nodes.length=0,this.workflowObj.edges.length=0,this.render(),this.zrEventMan.setEventStyle()}},{key:"dispose",value:function(){this._zr.dispose()}},{key:"resize",value:function(t,e){var r=this;Object.assign(this.optionsManager.options,{cWidth:t,cHeight:e});var n=this.workflowObj;if(this.optionsManager.options.autoSort.on){var i=this.optionsManager.options.autoSort.type,o=void 0===i?"default":i;n.nodes="withMedium"===o?ba(Object.assign({nodes:n.nodes,edges:n.edges,cWidth:this.optionsManager.options.cWidth,cHeight:this.optionsManager.options.cHeight},this.optionsManager.options.autoSort)):ma(Object.assign({nodes:n.nodes,edges:n.edges},this.optionsManager.options.autoSort));var a=[],s=[];n.nodes.forEach((function(t){a.push(t.x),s.push(t.y);var e=r.data.nodes.find((function(e){return t.id===e.id}));e.x=t.x,e.y=t.y})),this.maxCoord.x=Math.max.apply(Math,a),this.maxCoord.y=Math.max.apply(Math,s)}this._zr.resize({width:t,height:e}),this.zrEventMan.setEventStyle()}},{key:"render",value:function(){var t=this,e=this.data,r=e.nodes,n=e.edges,i=os.compileTemplate(r,n,this.optionsManager.options);if(this.optionsManager.options.autoSort.on){var o=this.optionsManager.options.autoSort.type,a=void 0===o?"default":o;i.nodes="withMedium"===a?ba(Object.assign({nodes:i.nodes,edges:i.edges,cWidth:this.optionsManager.options.cWidth,cHeight:this.optionsManager.options.cHeight},this.optionsManager.options.autoSort)):ma(Object.assign({nodes:i.nodes,edges:i.edges},this.optionsManager.options.autoSort));var s=[],u=[];i.nodes.forEach((function(e){s.push(e.x),u.push(e.y);var r=t.data.nodes.find((function(t){return e.id===t.id}));r.x=e.x,r.y=e.y})),this.maxCoord.x=Math.max.apply(Math,s),this.maxCoord.y=Math.max.apply(Math,u)}var l=new(qi.getClazzByName("basic"))({props:i});this.drawGroup=l.render(this._zr,this.optionsManager.options),this._zr.add(this.drawGroup),this.setWorkflowObj(l)}},{key:"getTemplate",value:function(t){return os.getTemplate.call(os,t)}},{key:"updateTemplate",value:function(t,e){os.updateTemplate.call(os,t,e)}},{key:"addNode",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.findNodeIndex(t.id)>-1)throw new Error("Node with id(".concat(t.id,") is exist"));var n=r.globalPosition,i=this.optionsManager.options,o=os.compileTemplate([t],[],i),a=Vi.getClazzByName("basicNode"),s=new a({props:o.nodes[0]}),u=s.render(this.optionsManager.options);if(n){var l=this.drawGroup;l.updateTransform();var c=[1,0,0,1,0,0];c[4]=n[0],c[5]=n[1];var h=l.transform||[1,0,0,1,0,0],f=[1,0,0,1,0,0];l.transform&&Je(f,h),u.x=0,u.y=0;var p=u.getLocalTransform(),d=[1,0,0,1,0,0];Je(d,p),c[0]=c[3]=h[0]*p[0],Ke(c,f,c),Ke(c,c,d),u.x=c[4],u.y=c[5],t.x=c[4],t.y=c[5]}return this.drawGroup.add(u),this.workflowObj.nodes.push(s),this.data.nodes.push(t),this.zrEventMan.setNodeEventStyle(s),e||this.triggerCustomEvent("addNode",{target:s}),s}},{key:"setDragNode",value:function(t,e){this.zrEventMan.setDragNode(t,e)}},{key:"drift",value:function(t,e){var r=tr(this.drawGroup.getLocalTransform());r[4]+=t,r[5]+=e,this._setTransform(r)}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r){var n=this.getScaleX(),i=this.optionsManager.options.zoom,a=i.minScale,s=i.maxScale;t*n>s&&(t=s/n),t*n<a&&(t=a/n)}if("center"===e){var u=this.getGraphRect();e=[(u.x+u.width)/2,(u.y+u.height)/2]}var l=tr(this.drawGroup.getLocalTransform()),c=e,h=o(c,2),f=h[0],p=h[1],d=t,v=t;l[4]-=f,l[5]-=p,l[0]*=d,l[1]*=v,l[2]*=d,l[3]*=v,l[4]*=d,l[5]*=v,l[4]+=f,l[5]+=p,this._setTransform(l)}},{key:"resetTransform",value:function(t){this._setTransform(t||[1,0,0,1,0,0])}},{key:"_setTransform",value:function(t){this.drawGroup.setLocalTransform(t),this.drawGroup.dirty(),this.triggerCustomEvent("graphTransformed",{transform:t})}},{key:"removeNode",value:function(t,e,r){var n,i=this.findNodeIndex(t.id);i>-1&&(n=this.workflowObj.nodes[i],this.workflowObj.nodes.splice(i,1),this.removeEl(n.dom.group)),this.data.nodes=this.data.nodes.filter((function(e){return e.id!==t.id})),r||this.updateEdgeByNode(t.id),e||this.triggerCustomEvent("removeNode",{target:n})}},{key:"copyNodes",value:function(t){this.cacheCopyNodes=Array.isArray(t)?t:[t],this.triggerCustomEvent("copyNodes",{target:this.cacheCopyNodes})}},{key:"pasteNodes",value:function(){this.triggerCustomEvent("pasteNodes",{target:this.cacheCopyNodes})}},{key:"initMulNodes",value:function(t){this.mulNodes=[],this.addMulNodes(t)}},{key:"addMulNodes",value:function(t){var e;Array.isArray(t)?(e=this.mulNodes).push.apply(e,i(t)):this.mulNodes.push(t);var r=this.getGraphMulNodes();this.zrEventMan.setMulNodesStyle(r)}},{key:"clearMulNodes",value:function(){this.mulNodes=[],this.zrEventMan.clearSelectedNodeAndEdge()}},{key:"getMulNodes",value:function(){return this.mulNodes}},{key:"getGraphMulNodes",value:function(){var t=this;return this.workflowObj.nodes.filter((function(e){return t.mulNodes.find((function(t){return t.id===e.props.id}))}))}},{key:"selectAllNodes",value:function(){var t=this;this.workflowObj.nodes.forEach((function(e){t.addMulNodes(e.props)}))}},{key:"getFrameSelectNodes",value:function(){var t=this;if(this.clearMulNodes(),this.frameSelectIns){var e=new zi({shape:ns({},this.frameSelectIns.shape),style:ns({},this.frameSelectIns.style),z:1e5}),r=[];Je(r,this.drawGroup.getLocalTransform()),e.setLocalTransform(r),e.updateTransform(),this.workflowObj.nodes.forEach((function(r){var n=r.dom.group,i=n.getBoundingRect();i.applyTransform(n.getLocalTransform());var o=i.x,a=i.y,s=i.width,u=i.height;e.contain(o,a)&&e.contain(o,a+u)&&e.contain(o+s,a)&&e.contain(o+s,a+u)&&t.addMulNodes(r.props)}))}}},{key:"frameSelectMousedown",value:function(t){var e=t.event,r=e.zrX,n=e.zrY;this.frameSelectX=r,this.frameSelectY=n,this.frameSelectStart=!0}},{key:"frameSelectMousemove",value:function(t){if(this.frameSelectStart){this.frameSelectIns&&this._zr.remove(this.frameSelectIns);var e=t.event,r=e.zrX,n=e.zrY;this.frameSelectIns=new zi({shape:{x:this.frameSelectX,y:this.frameSelectY,width:r-this.frameSelectX,height:n-this.frameSelectY},style:this.optionsManager.options.frameSelect.style,z:1e5}),this._zr.add(this.frameSelectIns)}}},{key:"frameSelectMouseup",value:function(t){this.getFrameSelectNodes(),this.frameSelectEnd()}},{key:"frameSelectInit",value:function(){this.setIsStatic(!0);var t=this.frameSelectMousedown.bind(this),e=this.frameSelectMousemove.bind(this),r=this.frameSelectMouseup.bind(this);this.event={frameSelectMousedown:t,frameSelectMousemove:e,frameSelectMouseup:r},this._zr.on("mousedown",t),this._zr.on("mousemove",e),this._zr.on("mouseup",r),this.triggerCustomEvent("frameSelectInit")}},{key:"frameSelectEnd",value:function(){this.setIsStatic(!1),this.frameSelectStart=!1,this.frameSelectIns&&this._zr.remove(this.frameSelectIns);var t=this.event,e=t.frameSelectMousedown,r=t.frameSelectMousemove,n=t.frameSelectMouseup;this._zr.off("mousedown",e),this._zr.off("mousemove",r),this._zr.off("mouseup",n),this.triggerCustomEvent("frameSelectEnd")}},{key:"addEdge",value:function(t,e){var r=this.optionsManager.options,n=os.compileTemplate([],[t],r).edges[0],i=eo(n,this.workflowObj.nodes);if(i){var o=ns(ns({},i),n),a=new(Zi.getClazzByName("basicEdge"))({props:o});this.drawGroup.add(a.render(this.optionsManager.options)),this.workflowObj.edges.push(a),this.zrEventMan.setEdgeEventStyle(a),this.data.edges.push(t),e||this.triggerCustomEvent("addEdge",{target:a})}}},{key:"removeEdge",value:function(t,e){var r,n=this.workflowObj.edges.findIndex((function(e){return e.props.src===t.src&&e.props.to===t.to}));n>-1&&(r=this.workflowObj.edges[n],this.workflowObj.edges.splice(n,1),this.removeEl(r.dom.group)),this.data.edges=this.data.edges.filter((function(e){return!(e.src===t.src&&e.to===t.to)})),e||this.triggerCustomEvent("removeEdge",{target:r})}},{key:"setIsMul",value:function(t){this.isMul=t}},{key:"removeEl",value:function(t){this.drawGroup.remove(t)}},{key:"setScale",value:function(t,e){if(this._zr&&this.drawGroup){var r=this.getScaleX();this.scale(t/r,e)}}},{key:"getScale",value:function(){return this._zr&&this.drawGroup?this.drawGroup.scale:[1,1]}},{key:"getScaleX",value:function(){return this.getScale()[0]}},{key:"findNodeIndex",value:function(t){return this.workflowObj.nodes.findIndex((function(e){return e.props.id===t}))}},{key:"findEdgeIndex",value:function(t,e){return this.workflowObj.edges.findIndex((function(r){return r.props.src===t&&r.props.to===e}))}},{key:"updateNode",value:function(t,e,r){var n=this.findNodeIndex(t);if(-1!==n){var i=this.workflowObj.nodes[n];if(F(e)&&!r)i.dom.group.attr(e),e.x&&e.y&&(e.x!==i.props.x||e.y!==i.props.y)&&(i.props.x=e.x,i.props.y=e.y,this.updateEdgeByNode(t));else{if(!B(e)||!F(r))throw new Error("invalid params");if(!i.children[e])throw new Error("There is no shape with name(".concat(e,") in node(id:").concat(t,")"));var o=i.children[e].status;O(i.children[e].props[o],r,!0),i.props.config[e]=O({},i.children[e].props,!0),r.shape?(this.removeNode(i.props,!0),this.addNode(i.props,!0),this.updateEdgeByNode(t)):i.children[e].dom.attr(r)}}}},{key:"updateNodeZ",value:function(t,e){var r=this.findNodeIndex(t);if(-1!==r){var n=this.workflowObj.nodes[r];Object.keys(n.children).forEach((function(t){var r=n.children[t];(0,es.isArray)(r)||(r=[r]),r.forEach((function(t){t.props.normal.z=e,t.dom.attr({z:e})}));var i=t;"outputCircles"===t&&(i="outputCircle"),"inputCircles"===t&&(i="inputCircle"),O(n.props.config[i].normal,{z:e},!0)}))}}},{key:"updateEdge",value:function(t,e,r){if(!(t&&t.src&&t.to&&B(e)&&F(r)))throw new Error("invalid params when invoking updateEdge()");var n=this.findEdgeIndex(t.src,t.to);if(-1===n)throw new Error("There is no Edge with src(".concat(t.src,") and to(").concat(t.to,")"));var i=this.workflowObj.edges[n],o=i.children[e];if(o){var a=o.status,s=o.props[a],u=s.shape.width,l=s.shape.height;if(O(s,r,!0),i.props.config[e]=O({},o.props,!0),"triangle"===e)if(r.shape){if(Number(r.shape.width)!==u||Number(r.shape.height)!==l){var c=o.getRenderProps(),h=o.props.end,f=ro(c.shape.width,c.shape.height,h,o.props.pointTo);c.shape.points=f,o.dom.attr(c)}this.removeEdge(i.props,!0),this.addEdge(i.props,!0)}else o.dom.attr(r);else o.dom.attr(r)}}},{key:"updateEdgeZ",value:function(t,e){var r=this.findEdgeIndex(t.src,t.to);if(-1!==r){var n=this.workflowObj.edges[r];Object.keys(n.children).forEach((function(t){var r=n.children[t];(0,es.isArray)(r)||(r=[r]),r.forEach((function(t){t.props.z=e,t.dom.attr({z:e})})),O(n.props.config[t].normal,{z:e},!0)}))}}},{key:"updateEdgeByNode",value:function(t){var e=this;this.workflowObj.edges.filter((function(e){return e.props.src.split(":")[0]===t||e.props.to.split(":")[0]===t})).forEach((function(t){var r=ns({},t.props);delete r.start,delete r.end,delete r.config.triangle.start,delete r.config.triangle.end,e.removeEdge(r,!0),e.addEdge(r,!0)}))}},{key:"updateNodeOutputEnableInputs",value:function(t,e,r){this.workflowObj.nodes.find((function(e){return e.props.id===t})).props.output[r].enableInputs=e}},{key:"formatMouseEventParams",value:function(t){var e=t.target;if(!e)return{e:t,target:null,dom:null,isNode:!1,isEdge:!1,props:null};var r=this.workflowObj,n=r.nodes,i=r.edges,o=null,a=null,s=n.some((function(t){return Object.keys(t.dom).some((function(r){return"inputCircles"!==r&&"outputCircles"!==r||!t.dom[r].find((function(t){return t===e}))?t.dom[r]===e&&(o=t.dom,a=t.props,!0):(o=t.dom,a=t.props,!0)}))})),u=!1;return s||(u=i.some((function(t){return Object.keys(t.dom).some((function(r){return t.dom[r]===e&&(o=t.dom,a=t.props,!0)}))}))),{e:t,target:e,dom:o,isNode:s,isEdge:u,props:a}}},{key:"triggerCustomEvent",value:function(t,e){var r=[];if(as.indexOf(t)>-1)r.push(this.formatMouseEventParams(e),this);else{if(!(ss.indexOf(t)>-1))return void console.warn('No such custom event "'.concat(t,'" in lib'));r.push(e,this)}!this.isSilent(t)&&this.trigger.apply(this,[t].concat(r))}}],[{key:"registerTemplate",value:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=os.registerTemplate).call.apply(t,[os].concat(r))}}]),t}();I(us,ct);var ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAABIJJREFUWAntV11oXEUUnnP3bhJNNilWxcQXyT4Jgg++G2sQwRZ9crXaZOuiyTa2FbRtwG10NZuqSbHQKm6aWrOhWI1a/AMlLYLimw+lfZPS0Jd2qYrmZ4NJd3fG72z2hrtz791k94KgdCC5M3e+891vzpk5c5aEz7ZzV+JlWRRvC1LLROZzmfSbX/ihNPwYs61S4l4lVFApCkklH/DLZ/olgJClVQ4FJwnll8+3h/wK0O0dHkomk8blbOEjQ6hLmfGRlG7gd6zg0mj/a4cEydZMOrWbCH61NYcgFoON0SuVuNHbd/C+zg7zGYiUNpu6u7zYaP/Br6FgKwc32j90BWRjdkJHyAwlfgeAN0QDtsS22WuFj5nIblRPf3p6OnD5av4rIaib6dEW0b9N53J8aHJ8eD+RmAF4GYbN64pSakmQKJTwRGH9AzxmMd+cvfAlcFuUkE3A8kGY6ewIJHS8QxDHtLM9+BgW8YMonaDqoppEaBRYhJ5+bmsw+/QP2MXwAstivg93BCNuW4F0AmsMsLnqYtGF8DVD6IIQxikkPsdGtGz0J4d6Nlv8HF55EPty83pi2N7hIYsUZIXw3cEnMP5RQAxOR6tSciC2963bLcx6zyu/iTuFktvKYhju6RmLy9NDFqDkqWz+LMLyEHb62KnjqQPW3EaePfFXE0JSCof78NTEyP6N2KyLYdfv2zeG+NfXBgaSLfVZ3rT6D3gA90pie1HS/W5aDUOEzbZQ7OToILKq/xY78E6osLD4CuonJMfKhmTcYhBdNHFyThDJWyunyyNFy/m5hTMYPeI6X+NLcCGXiQJyr+MORY5CdlDzBv7dwgO3P9w4Qcx01fjdKnA6j0nkPrfvsRlJkwQNIvHdI6XA3VXZyJA5s631cOXb+kctgebunMxllDQu6SxExUYyjJ/09zfH/w8P8NXR++Ih3Nb1tZ0Dybu4dN2ItedtbxlzPYOq8TOVX/ojGk/UdLEyx454YqJYyGdRrr7PC7N4vZ5VVbOYb89dPIN6aAtWGOLj2tAc3PzhkeSfXoT297HdyY78jfzVUkUsaBGn+bvOdnM7hHnW6J6K18QI1c1ikB4WkU1Pn3j39b/sH63WP/le8hopmuaFoBQOCam2zmYLp6t5yiVjrtbAJc+wmHLZiSQ5E24P7tB/tuzZc7RxbuV6KYdtagy2HTuW5Gy81qYmUk/1vJBA+UFdiitPKUqisMindS42cvWQLgY410oPKzXnV65/gPkiYp+fWynG2LNMbG9rlSdqdBaFO+LxaHzoEzvG6jsE9fYNPQ+jR9kzuOf+BtBVDBNAUIHLW3QDwOOakXdEIpEiz9kb4ypECdUED0V6+ofidhz3HYKwgR9GwBvh4pUAqU+nxlNPgtBzE+qEXmO7KNzq8+DP4Tdgg453CMqkh59F2TEYMIz4ZHok5hZnnWSj4zVRRG+QQS9ljg8f1W0dm7osYJSBk+lhHe97zKJAcsSLyOEhL+C/9d63oFUC/q3OuUa4F3o1rMYRshpsS1BFxi84xjmoMbDvfq3VXsf/A0C84hCwwGHOAAAAAElFTkSuQmCC",cs=[{templateName:"iconTemplate",id:"123",defineData:{nodeName:"123",imgSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA0xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDI1Q0YyN0EyQTU2MTFFODgzQTdGRTMyREI0RTNDRTAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDI1Q0YyNzkyQTU2MTFFODgzQTdGRTMyREI0RTNDRTAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjVlZmFlNGMxLTcyYmYtMTE3Yi04MjEwLWViZGJjNTkzNjgwMCIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjVlZmFlNGMxLTcyYmYtMTE3Yi04MjEwLWViZGJjNTkzNjgwMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ptf5E1oAAAAhSURBVHjaYvz//z8DNQATA5XAqEGjBo0aNGrQYDEIIMAAswcDIb1Gaj0AAAAASUVORK5CYII="},position:[100,100],input:[],output:[]},{id:"124",defineData:{nodeName:"124",imgSrc:ls},position:[300,300],input:[],output:[]}],hs=new us(document.getElementById("aw"),{nodes:cs,edges:[]},{isStatic:!0,templateName:"defaultTemplate"}),fs=null;document.getElementById("loading").addEventListener("click",(function(){hs.updateNode("123","icon",{style:{image:ls}});var t=hs.getNodeInsById("123");fs=t.dom.icon.animate("",!0).when(0,{rotation:0}).when(400,{rotation:Math.PI/2*-1}).when(800,{rotation:-1*Math.PI}).when(1200,{rotation:1.5*Math.PI*-1}).when(1600,{rotation:2*Math.PI*-1}).start()})),document.getElementById("stop").addEventListener("click",(function(){fs&&fs.stop(),fs=null,hs.updateNode("123","icon",{style:{image:" "}})}))})()})();